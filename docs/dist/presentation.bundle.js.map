{"version":3,"sources":["webpack:///presentation.bundle.js","webpack:///webpack/bootstrap 40cce6294136e6bc5db1","webpack:///../docs/asset/public/node-reveal/reveal.js/lib/js/head.min.js","webpack:///./webpack/logw.js","webpack:///../app/presentation.entry.js","webpack:///../docs/asset/public/reveal/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","1000","_typeof","Symbol","iterator","obj","constructor","t","r","a","length","k","RegExp","className","replace","tt","e","f","innerWidth","clientWidth","outerWidth","screen","width","u","screens","screensCss","gt","gte","lt","lte","eq","innerHeight","clientHeight","outerHeight","height","feature","it","clearTimeout","b","setTimeout","v","w","h","g","nt","y","document","rt","navigator","ut","location","documentElement","browsers","ie","min","max","browserCss","html5","page","section","head","head_conf","ready","apply","arguments","toString","join","userAgent","toLowerCase","test","exec","parseFloat","documentMode","browser","version","parseInt","split","createElement","pathname","this","slice","indexOf","substring","id","addEventListener","attachEvent","window","charAt","toUpperCase","substr","style","gradient","cssText","backgroundImage","rgba","backgroundColor","opacity","textshadow","textShadow","multiplebgs","background","match","boxshadow","borderimage","borderradius","cssreflections","csstransforms","csstransitions","touch","retina","devicePixelRatio","fontface","et","_done","ot","success","failure","callback","push","load","url","state","st","ft","onpreload","ht","type","ct","ALL","at","event","onload","onreadystatechange","onerror","readyState","errorTimeout","cssTimeout","cssRetries","styleSheets","href","rel","src","async","defer","getElementsByTagName","insertBefore","lastChild","vt","getAttribute","yt","body","readyTimeout","removeEventListener","detachEvent","opera","frameElement","wt","doScroll","pt","js","1001","64","log","console","Array","stack","dump","json","996","getHtml","promise","fetch","then","res","text","catch","error","trim","_reveal","_reveal2","default","Reveal","loadPresentation","baseUrl","presentation","target","querySelector","search","html","innerHTML","initialize","controls","progress","history","center","dependencies","hljs","initHighlightingOnLoad","display","input","preventDefault","tag","tagName","value","val","textarea","997","options","checkCapabilities","features","transforms2d","transforms3d","setAttribute","layout","query","getQueryHash","extend","config","hideAddressBar","requestAnimationFrameMethod","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","canvas","getContext","isMobileDevice","proceed","scriptsAsync","start","scripts","scriptsToPreload","len","condition","setupDOM","resetVerticalSlides","configure","readURL","updateBackground","dom","slides","classList","remove","loaded","dispatchEvent","indexh","indexv","currentSlide","theme","wrapper","add","createSingletonNode","progressbar","slideNumber","controlsLeft","toArray","querySelectorAll","controlsRight","controlsUp","controlsDown","controlsPrev","controlsNext","container","tagname","classname","node","appendChild","createBackgrounds","_createBackground","slide","data","backgroundSize","backgroundRepeat","backgroundPosition","backgroundTransition","element","isPrintingPDF","HORIZONTAL_SLIDES_SELECTOR","forEach","slideh","backgroundStack","slidev","parallaxBackgroundImage","parallaxBackgroundSize","numberOfSlides","SLIDES_SELECTOR","transition","transitionSpeed","rtl","mouseWheel","onDocumentMouseScroll","rollingLinks","enableRollingLinks","disableRollingLinks","previewLinks","enablePreviewLinks","disablePreviewLinks","autoSlide","autoSlideStoppable","autoSlidePlayer","Playback","Math","Date","now","autoSlideStartTime","on","onAutoSlidePlayerClick","autoSlidePaused","destroy","themeURL","themeFinder","themeName","sync","addEventListeners","eventsAreBound","onWindowHashChange","onWindowResize","onTouchStart","onTouchMove","onTouchEnd","msPointerEnabled","onPointerDown","onPointerMove","onPointerUp","keyboard","onDocumentKeyDown","onProgressClicked","focusBodyOnPageVisiblityChange","visibilityChange","onPageVisibilityChange","eventName","el","onNavigateLeftClicked","onNavigateRightClicked","onNavigateUpClicked","onNavigateDownClicked","onNavigatePrevClicked","onNavigateNextClicked","removeEventListeners","distanceBetween","dx","x","dy","sqrt","transformElement","transform","WebkitTransform","MozTransform","msTransform","OTransform","getAbsoluteHeight","absoluteChildren","childNodes","child","offsetTop","position","offsetHeight","getRemainingHeight","parentNode","sibling","styles","getComputedStyle","marginTop","marginBottom","elementStyles","removeAddressBar","scrollTo","properties","createEvent","initEvent","anchors","anchor","textContent","contains","span","selector","onPreviewLinkClicked","openPreview","closePreview","preview","removeChild","availableWidth","offsetWidth","availableHeight","margin","slideWidth","slideHeight","layoutSlideContents","scale","minScale","maxScale","zoom","top","updateProgress","updateParallax","padding","remainingHeight","nodeName","nw","naturalWidth","videoWidth","nh","naturalHeight","videoHeight","es","setPreviousVerticalIndex","getPreviousVerticalIndex","attributeName","hasAttribute","activateOverview","overview","cancelAutoSlide","wasActive","depth","activateOverviewTimeout","deactivateOverviewTimeout","horizontalSlides","len1","hslide","hoffset","verticalSlides","j","len2","verticalIndex","vslide","onOverviewSlideClicked","updateSlidesVisibility","deactivateOverview","cueAutoSlide","toggleOverview","override","isOverview","isVerticalSlide","enterFullscreen","requestMethod","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullScreen","pause","wasPaused","resume","togglePause","isPaused","previousSlide","undefined","stateBefore","concat","indexhBefore","indexvBefore","updateSlides","VERTICAL_SLIDES_SELECTOR","stateLoop","splice","pop","currentHorizontalSlide","currentVerticalSlides","navigateFragment","slideChanged","origin","HOME_SLIDE_SELECTOR","stopEmbeddedContent","startEmbeddedContent","updateControls","updateSlideNumber","writeURL","sortAllFragments","horizontalSlide","verticalSlide","sortFragments","index","slidesLength","loop","reverse","pastFragments","pastFragment","futureFragments","futureFragment","removeAttribute","slideState","distanceX","distanceY","horizontalSlidesLength","viewDistance","verticalSlidesLength","abs","oy","totalCount","pastCount","mainLoop","indexString","routes","availableRoutes","fragments","availableFragments","left","right","up","down","prev","next","includeAll","currentBackground","horizontalPast","horizontalFuture","backgroundh","backgroundv","previousBackgroundHash","previousBackground","currentBackgroundHash","backgroundWidth","backgroundHeight","horizontalSlideCount","horizontalOffset","verticalSlideCount","verticalOffset","hiddenFragments","isSpeakerNotes","play","contentWindow","postMessage","hash","bits","isNaN","indices","getIndices","delay","writeURLTimeout","isVertical","ordered","unordered","sorted","fragment","group","offset","lastVisibleFragment","fragmentsShown","fragmentsHidden","nextFragment","previousFragment","parentAutoSlide","slideAutoSlide","duration","isLastSlide","autoSlideTimeout","navigateNext","setPlaying","pauseAutoSlide","resumeAutoSlide","navigateLeft","navigateRight","navigateUp","navigateDown","navigatePrev","onUserInput","activeElement","contentEditable","shiftKey","keyCode","altKey","ctrlKey","metaKey","triggered","key","Number","MAX_VALUE","startX","touches","clientX","startY","clientY","startCount","startSpan","captured","currentX","currentY","currentSpan","threshold","deltaX","deltaY","embedded","pointerType","MSPOINTER_TYPE_TOUCH","lastMouseWheelStep","detail","wheelDelta","slidesTotal","floor","webkitHidden","msHidden","hidden","blur","focus","progressCheck","diameter","thickness","playing","progressOffset","context","render","wasPlaying","animate","progressBefore","bind","radius","endAngle","PI","startAngle","save","clearRect","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","translate","iconSize","fillRect","moveTo","lineTo","restore","listener","off","prevFragment","navigateTo","getSlide","getPreviousSlide","getCurrentSlide","getScale","getConfig","shift","unescape","isFirstSlide","nextElementSibling","isReady","useCapture","998","999"],"mappings":"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","file":"presentation.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 996);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 1000:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! head.core - v1.0.2 */\n(function (n, t) {\n  \"use strict\";\n  function r(n) {\n    a[a.length] = n;\n  }function k(n) {\n    var t = new RegExp(\" ?\\\\b\" + n + \"\\\\b\");c.className = c.className.replace(t, \"\");\n  }function p(n, t) {\n    for (var i = 0, r = n.length; i < r; i++) {\n      t.call(n, n[i], i);\n    }\n  }function tt() {\n    var t, e, f, o;c.className = c.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\\d+/g, \"\");t = n.innerWidth || c.clientWidth;e = n.outerWidth || n.screen.width;u.screen.innerWidth = t;u.screen.outerWidth = e;r(\"w-\" + t);p(i.screens, function (n) {\n      t > n ? (i.screensCss.gt && r(\"gt-\" + n), i.screensCss.gte && r(\"gte-\" + n)) : t < n ? (i.screensCss.lt && r(\"lt-\" + n), i.screensCss.lte && r(\"lte-\" + n)) : t === n && (i.screensCss.lte && r(\"lte-\" + n), i.screensCss.eq && r(\"e-q\" + n), i.screensCss.gte && r(\"gte-\" + n));\n    });f = n.innerHeight || c.clientHeight;o = n.outerHeight || n.screen.height;u.screen.innerHeight = f;u.screen.outerHeight = o;u.feature(\"portrait\", f > t);u.feature(\"landscape\", f < t);\n  }function it() {\n    n.clearTimeout(b);b = n.setTimeout(tt, 50);\n  }var y = n.document,\n      rt = n.navigator,\n      ut = n.location,\n      c = y.documentElement,\n      a = [],\n      i = { screens: [240, 320, 480, 640, 768, 800, 1024, 1280, 1440, 1680, 1920], screensCss: { gt: !0, gte: !1, lt: !0, lte: !1, eq: !1 }, browsers: [{ ie: { min: 6, max: 11 } }], browserCss: { gt: !0, gte: !1, lt: !0, lte: !1, eq: !0 }, html5: !0, page: \"-page\", section: \"-section\", head: \"head\" },\n      v,\n      u,\n      s,\n      w,\n      o,\n      h,\n      l,\n      d,\n      f,\n      g,\n      nt,\n      e,\n      b;if (n.head_conf) for (v in n.head_conf) {\n    n.head_conf[v] !== t && (i[v] = n.head_conf[v]);\n  }u = n[i.head] = function () {\n    u.ready.apply(null, arguments);\n  };u.feature = function (n, t, i) {\n    return n ? (Object.prototype.toString.call(t) === \"[object Function]\" && (t = t.call()), r((t ? \"\" : \"no-\") + n), u[n] = !!t, i || (k(\"no-\" + n), k(n), u.feature()), u) : (c.className += \" \" + a.join(\" \"), a = [], u);\n  };u.feature(\"js\", !0);s = rt.userAgent.toLowerCase();w = /mobile|android|kindle|silk|midp|phone|(windows .+arm|touch)/.test(s);u.feature(\"mobile\", w, !0);u.feature(\"desktop\", !w, !0);s = /(chrome|firefox)[ \\/]([\\w.]+)/.exec(s) || /(iphone|ipad|ipod)(?:.*version)?[ \\/]([\\w.]+)/.exec(s) || /(android)(?:.*version)?[ \\/]([\\w.]+)/.exec(s) || /(webkit|opera)(?:.*version)?[ \\/]([\\w.]+)/.exec(s) || /(msie) ([\\w.]+)/.exec(s) || /(trident).+rv:(\\w.)+/.exec(s) || [];o = s[1];h = parseFloat(s[2]);switch (o) {case \"msie\":case \"trident\":\n      o = \"ie\";h = y.documentMode || h;break;case \"firefox\":\n      o = \"ff\";break;case \"ipod\":case \"ipad\":case \"iphone\":\n      o = \"ios\";break;case \"webkit\":\n      o = \"safari\";}for (u.browser = { name: o, version: h }, u.browser[o] = !0, l = 0, d = i.browsers.length; l < d; l++) {\n    for (f in i.browsers[l]) {\n      if (o === f) for (r(f), g = i.browsers[l][f].min, nt = i.browsers[l][f].max, e = g; e <= nt; e++) {\n        h > e ? (i.browserCss.gt && r(\"gt-\" + f + e), i.browserCss.gte && r(\"gte-\" + f + e)) : h < e ? (i.browserCss.lt && r(\"lt-\" + f + e), i.browserCss.lte && r(\"lte-\" + f + e)) : h === e && (i.browserCss.lte && r(\"lte-\" + f + e), i.browserCss.eq && r(\"eq-\" + f + e), i.browserCss.gte && r(\"gte-\" + f + e));\n      } else r(\"no-\" + f);\n    }\n  }r(o);r(o + parseInt(h, 10));i.html5 && o === \"ie\" && h < 9 && p(\"abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|progress|section|summary|time|video\".split(\"|\"), function (n) {\n    y.createElement(n);\n  });p(ut.pathname.split(\"/\"), function (n, u) {\n    if (this.length > 2 && this[u + 1] !== t) u && r(this.slice(u, u + 1).join(\"-\").toLowerCase() + i.section);else {\n      var f = n || \"index\",\n          e = f.indexOf(\".\");e > 0 && (f = f.substring(0, e));c.id = f.toLowerCase() + i.page;u || r(\"root\" + i.section);\n    }\n  });u.screen = { height: n.screen.height, width: n.screen.width };tt();b = 0;n.addEventListener ? n.addEventListener(\"resize\", it, !1) : n.attachEvent(\"onresize\", it);\n})(window);\n/*! head.css3 - v1.0.0 */\n(function (n, t) {\n  \"use strict\";\n  function a(n) {\n    for (var r in n) {\n      if (i[n[r]] !== t) return !0;\n    }return !1;\n  }function r(n) {\n    var t = n.charAt(0).toUpperCase() + n.substr(1),\n        i = (n + \" \" + c.join(t + \" \") + t).split(\" \");return !!a(i);\n  }var h = n.document,\n      o = h.createElement(\"i\"),\n      i = o.style,\n      s = \" -o- -moz- -ms- -webkit- -khtml- \".split(\" \"),\n      c = \"Webkit Moz O ms Khtml\".split(\" \"),\n      l = n.head_conf && n.head_conf.head || \"head\",\n      u = n[l],\n      f = { gradient: function gradient() {\n      var n = \"background-image:\";return i.cssText = (n + s.join(\"gradient(linear,left top,right bottom,from(#9f9),to(#fff));\" + n) + s.join(\"linear-gradient(left top,#eee,#fff);\" + n)).slice(0, -n.length), !!i.backgroundImage;\n    }, rgba: function rgba() {\n      return i.cssText = \"background-color:rgba(0,0,0,0.5)\", !!i.backgroundColor;\n    }, opacity: function opacity() {\n      return o.style.opacity === \"\";\n    }, textshadow: function textshadow() {\n      return i.textShadow === \"\";\n    }, multiplebgs: function multiplebgs() {\n      i.cssText = \"background:url(https://),url(https://),red url(https://)\";var n = (i.background || \"\").match(/url/g);return Object.prototype.toString.call(n) === \"[object Array]\" && n.length === 3;\n    }, boxshadow: function boxshadow() {\n      return r(\"boxShadow\");\n    }, borderimage: function borderimage() {\n      return r(\"borderImage\");\n    }, borderradius: function borderradius() {\n      return r(\"borderRadius\");\n    }, cssreflections: function cssreflections() {\n      return r(\"boxReflect\");\n    }, csstransforms: function csstransforms() {\n      return r(\"transform\");\n    }, csstransitions: function csstransitions() {\n      return r(\"transition\");\n    }, touch: function touch() {\n      return \"ontouchstart\" in n;\n    }, retina: function retina() {\n      return n.devicePixelRatio > 1;\n    }, fontface: function fontface() {\n      var t = u.browser.name,\n          n = u.browser.version;switch (t) {case \"ie\":\n          return n >= 9;case \"chrome\":\n          return n >= 13;case \"ff\":\n          return n >= 6;case \"ios\":\n          return n >= 5;case \"android\":\n          return !1;case \"webkit\":\n          return n >= 5.1;case \"opera\":\n          return n >= 10;default:\n          return !1;}\n    } };for (var e in f) {\n    f[e] && u.feature(e, f[e].call(), !0);\n  }u.feature();\n})(window);\n/*! head.load - v1.0.3 */\n(function (n, t) {\n  \"use strict\";\n  function w() {}function u(n, t) {\n    if (n) {\n      (typeof n === \"undefined\" ? \"undefined\" : _typeof(n)) == \"object\" && (n = [].slice.call(n));for (var i = 0, r = n.length; i < r; i++) {\n        t.call(n, n[i], i);\n      }\n    }\n  }function it(n, i) {\n    var r = Object.prototype.toString.call(i).slice(8, -1);return i !== t && i !== null && r === n;\n  }function s(n) {\n    return it(\"Function\", n);\n  }function a(n) {\n    return it(\"Array\", n);\n  }function et(n) {\n    var i = n.split(\"/\"),\n        t = i[i.length - 1],\n        r = t.indexOf(\"?\");return r !== -1 ? t.substring(0, r) : t;\n  }function f(n) {\n    (n = n || w, n._done) || (n(), n._done = 1);\n  }function ot(n, t, r, u) {\n    var f = (typeof n === \"undefined\" ? \"undefined\" : _typeof(n)) == \"object\" ? n : { test: n, success: !t ? !1 : a(t) ? t : [t], failure: !r ? !1 : a(r) ? r : [r], callback: u || w },\n        e = !!f.test;return e && !!f.success ? (f.success.push(f.callback), i.load.apply(null, f.success)) : e || !f.failure ? u() : (f.failure.push(f.callback), i.load.apply(null, f.failure)), i;\n  }function v(n) {\n    var t = {},\n        i,\n        r;if ((typeof n === \"undefined\" ? \"undefined\" : _typeof(n)) == \"object\") for (i in n) {\n      !n[i] || (t = { name: i, url: n[i] });\n    } else t = { name: et(n), url: n };return (r = c[t.name], r && r.url === t.url) ? r : (c[t.name] = t, t);\n  }function y(n) {\n    n = n || c;for (var t in n) {\n      if (n.hasOwnProperty(t) && n[t].state !== l) return !1;\n    }return !0;\n  }function st(n) {\n    n.state = ft;u(n.onpreload, function (n) {\n      n.call();\n    });\n  }function ht(n) {\n    n.state === t && (n.state = nt, n.onpreload = [], rt({ url: n.url, type: \"cache\" }, function () {\n      st(n);\n    }));\n  }function ct() {\n    var n = arguments,\n        t = n[n.length - 1],\n        r = [].slice.call(n, 1),\n        f = r[0];return (s(t) || (t = null), a(n[0])) ? (n[0].push(t), i.load.apply(null, n[0]), i) : (f ? (u(r, function (n) {\n      s(n) || !n || ht(v(n));\n    }), b(v(n[0]), s(f) ? f : function () {\n      i.load.apply(null, r);\n    })) : b(v(n[0])), i);\n  }function lt() {\n    var n = arguments,\n        t = n[n.length - 1],\n        r = {};return (s(t) || (t = null), a(n[0])) ? (n[0].push(t), i.load.apply(null, n[0]), i) : (u(n, function (n) {\n      n !== t && (n = v(n), r[n.name] = n);\n    }), u(n, function (n) {\n      n !== t && (n = v(n), b(n, function () {\n        y(r) && f(t);\n      }));\n    }), i);\n  }function b(n, t) {\n    if (t = t || w, n.state === l) {\n      t();return;\n    }if (n.state === tt) {\n      i.ready(n.name, t);return;\n    }if (n.state === nt) {\n      n.onpreload.push(function () {\n        b(n, t);\n      });return;\n    }n.state = tt;rt(n, function () {\n      n.state = l;t();u(h[n.name], function (n) {\n        f(n);\n      });o && y() && u(h.ALL, function (n) {\n        f(n);\n      });\n    });\n  }function at(n) {\n    n = n || \"\";var t = n.split(\"?\")[0].split(\".\");return t[t.length - 1].toLowerCase();\n  }function rt(t, i) {\n    function e(t) {\n      t = t || n.event;u.onload = u.onreadystatechange = u.onerror = null;i();\n    }function o(f) {\n      f = f || n.event;(f.type === \"load\" || /loaded|complete/.test(u.readyState) && (!r.documentMode || r.documentMode < 9)) && (n.clearTimeout(t.errorTimeout), n.clearTimeout(t.cssTimeout), u.onload = u.onreadystatechange = u.onerror = null, i());\n    }function s() {\n      if (t.state !== l && t.cssRetries <= 20) {\n        for (var i = 0, f = r.styleSheets.length; i < f; i++) {\n          if (r.styleSheets[i].href === u.href) {\n            o({ type: \"load\" });return;\n          }\n        }t.cssRetries++;t.cssTimeout = n.setTimeout(s, 250);\n      }\n    }var u, h, f;i = i || w;h = at(t.url);h === \"css\" ? (u = r.createElement(\"link\"), u.type = \"text/\" + (t.type || \"css\"), u.rel = \"stylesheet\", u.href = t.url, t.cssRetries = 0, t.cssTimeout = n.setTimeout(s, 500)) : (u = r.createElement(\"script\"), u.type = \"text/\" + (t.type || \"javascript\"), u.src = t.url);u.onload = u.onreadystatechange = o;u.onerror = e;u.async = !1;u.defer = !1;t.errorTimeout = n.setTimeout(function () {\n      e({ type: \"timeout\" });\n    }, 7e3);f = r.head || r.getElementsByTagName(\"head\")[0];f.insertBefore(u, f.lastChild);\n  }function vt() {\n    for (var t, u = r.getElementsByTagName(\"script\"), n = 0, f = u.length; n < f; n++) {\n      if (t = u[n].getAttribute(\"data-headjs-load\"), !!t) {\n        i.load(t);return;\n      }\n    }\n  }function yt(n, t) {\n    var v, p, e;return n === r ? (o ? f(t) : d.push(t), i) : (s(n) && (t = n, n = \"ALL\"), a(n)) ? (v = {}, u(n, function (n) {\n      v[n] = c[n];i.ready(n, function () {\n        y(v) && f(t);\n      });\n    }), i) : typeof n != \"string\" || !s(t) ? i : (p = c[n], p && p.state === l || n === \"ALL\" && y() && o) ? (f(t), i) : (e = h[n], e ? e.push(t) : e = h[n] = [t], i);\n  }function e() {\n    if (!r.body) {\n      n.clearTimeout(i.readyTimeout);i.readyTimeout = n.setTimeout(e, 50);return;\n    }o || (o = !0, vt(), u(d, function (n) {\n      f(n);\n    }));\n  }function k() {\n    r.addEventListener ? (r.removeEventListener(\"DOMContentLoaded\", k, !1), e()) : r.readyState === \"complete\" && (r.detachEvent(\"onreadystatechange\", k), e());\n  }var r = n.document,\n      d = [],\n      h = {},\n      c = {},\n      ut = \"async\" in r.createElement(\"script\") || \"MozAppearance\" in r.documentElement.style || n.opera,\n      o,\n      g = n.head_conf && n.head_conf.head || \"head\",\n      i = n[g] = n[g] || function () {\n    i.ready.apply(null, arguments);\n  },\n      nt = 1,\n      ft = 2,\n      tt = 3,\n      l = 4,\n      p;if (r.readyState === \"complete\") e();else if (r.addEventListener) r.addEventListener(\"DOMContentLoaded\", k, !1), n.addEventListener(\"load\", e, !1);else {\n    r.attachEvent(\"onreadystatechange\", k);n.attachEvent(\"onload\", e);p = !1;try {\n      p = !n.frameElement && r.documentElement;\n    } catch (wt) {}p && p.doScroll && function pt() {\n      if (!o) {\n        try {\n          p.doScroll(\"left\");\n        } catch (t) {\n          n.clearTimeout(i.readyTimeout);i.readyTimeout = n.setTimeout(pt, 50);return;\n        }e();\n      }\n    }();\n  }i.load = i.js = ut ? lt : ct;i.test = ot;i.ready = yt;i.ready(r, function () {\n    y() && u(h.ALL, function (n) {\n      f(n);\n    });i.feature && i.feature(\"domloaded\", !0);\n  });\n})(window);\n/*\n//# sourceMappingURL=head.min.js.map\n*/\n\n/***/ }),\n\n/***/ 1001:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @author Szymon Dziaowski\n * @license MIT License (c) copyright 2017-present original author or authors\n * @homepage https://github.com/stopsopa/roderic\n */\n\n\n\nvar log = function () {\n    try {\n        if (console.log) {\n            return function () {\n                console.log.apply(this, Array.prototype.slice.call(arguments));\n                return log;\n            };\n        }\n    } catch (e) {\n        return function () {\n            return log;\n        };\n    }\n}();\n\nlog.stack = function () {\n    return log;\n};\n\nmodule.exports = log.dump = log.json = log.log = log;\n\n/***/ }),\n\n/***/ 996:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(log) {\n\nvar _reveal = __webpack_require__(997);\n\nvar _reveal2 = _interopRequireDefault(_reveal);\n\n__webpack_require__(998);\n\n__webpack_require__(999);\n\n__webpack_require__(1000);\n\n__webpack_require__(1001);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.Reveal = _reveal2.default; // for plugins loade dynamically\n\nfunction getHtml(url) {\n\n    if (url.indexOf('#') > -1) {\n\n        url = url.split('#')[0];\n    }\n\n    var promise = fetch('https://cors-anywhere.herokuapp.com/' + url).then(function (res) {\n        return res.text();\n    });\n\n    promise.catch(function (error) {\n        return log('fetch error', error);\n    });\n\n    return promise;\n}\n\nfunction trim(s) {\n    return (s || '').replace(/^\\s*(\\S*(\\s+\\S+)*)\\s*$/, '$1');\n}\nvar loadPresentation = function () {\n\n    var baseUrl = location.pathname;\n\n    return function (presentation) {\n\n        location.href = baseUrl + '?presentation=' + presentation;\n    };\n}();\n\nvar target = document.querySelector('#target');\n\nvar presentation = location.search.split('?presentation=')[1];\n\nvar load = function load(html) {\n    document.querySelector('.slides').innerHTML = html;\n    _reveal2.default.initialize({\n        controls: true,\n        progress: true,\n        history: true,\n        center: true,\n        // default/cube/page/concave/zoom/linear/fade/none\n        // transition: 'none',\n        dependencies: [\n        // { src: '../asset/public/node-reveal/reveal.js/plugin/markdown/marked.js' },\n        // { src: '../asset/public/node-reveal/reveal.js/plugin/markdown/markdown.js' },\n        { src: '../nm/marked.js' }, { src: '../nm/markdown.js' },\n        // { src: '../asset/public/node-reveal/reveal.js/plugin/notes/notes.js', async: true },\n        {\n            // src: '../asset/public/node-reveal/reveal.js/plugin/highlight/highlight.js',\n            src: '../nm/highlight.js',\n            async: true,\n            callback: function callback() {\n                hljs.initHighlightingOnLoad();\n            }\n        }]\n    });\n};\nif (presentation) {\n\n    trim(presentation) && getHtml(presentation).then(load);\n} else {\n\n    target.style.display = 'block';\n\n    getHtml('https://raw.githubusercontent.com/stopsopa/presentation/master/docs/tapes/list.html').then(function (html) {\n        return document.querySelector('#target .list').innerHTML = html;\n    }).then(function () {\n        var input = target.querySelector('input');\n        target.addEventListener('click', function (e) {\n\n            e.preventDefault();\n\n            var target = e.target;\n\n            var tag = target.tagName.toLowerCase();\n\n            if (tag === 'a') {\n\n                input.value = target.getAttribute('href');\n            } else {\n\n                log('other tag was clicked: ', tag);\n            }\n        });\n\n        target.querySelector('button[name=\"fromscript\"]').addEventListener('click', function (e) {\n\n            e.preventDefault();\n\n            var val = trim(input.value);\n\n            if (val) {\n\n                loadPresentation(val);\n            } else {\n\n                log('url is empty');\n            }\n        });\n\n        var textarea = target.querySelector('textarea');\n        target.querySelector('button[name=\"fromtext\"]').addEventListener('click', function (e) {\n\n            e.preventDefault();\n\n            var val = trim(textarea.value);\n\n            if (val) {\n\n                target.style.display = 'none';\n\n                load(val);\n            } else {\n\n                log('textarea is empty');\n            }\n        });\n    });\n    ;\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(64)))\n\n/***/ }),\n\n/***/ 997:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*!\n * reveal.js\n * http://lab.hakim.se/reveal-js\n * MIT licensed\n *\n * Copyright (C) 2013 Hakim El Hattab, http://hakim.se\n */\nvar Reveal = function () {\n\n\t'use strict';\n\n\tvar SLIDES_SELECTOR = '.reveal .slides section',\n\t    HORIZONTAL_SLIDES_SELECTOR = '.reveal .slides>section',\n\t    VERTICAL_SLIDES_SELECTOR = '.reveal .slides>section.present>section',\n\t    HOME_SLIDE_SELECTOR = '.reveal .slides>section:first-of-type',\n\n\n\t// Configurations defaults, can be overridden at initialization time\n\tconfig = {\n\n\t\t// The \"normal\" size of the presentation, aspect ratio will be preserved\n\t\t// when the presentation is scaled to fit different resolutions\n\t\twidth: 960,\n\t\theight: 700,\n\n\t\t// Factor of the display size that should remain empty around the content\n\t\tmargin: 0.1,\n\n\t\t// Bounds for smallest/largest possible scale to apply to content\n\t\tminScale: 0.2,\n\t\tmaxScale: 1.0,\n\n\t\t// Display controls in the bottom right corner\n\t\tcontrols: true,\n\n\t\t// Display a presentation progress bar\n\t\tprogress: true,\n\n\t\t// Display the page number of the current slide\n\t\tslideNumber: false,\n\n\t\t// Push each slide change to the browser history\n\t\thistory: false,\n\n\t\t// Enable keyboard shortcuts for navigation\n\t\tkeyboard: true,\n\n\t\t// Enable the slide overview mode\n\t\toverview: true,\n\n\t\t// Vertical centering of slides\n\t\tcenter: true,\n\n\t\t// Enables touch navigation on devices with touch input\n\t\ttouch: true,\n\n\t\t// Loop the presentation\n\t\tloop: false,\n\n\t\t// Change the presentation direction to be RTL\n\t\trtl: false,\n\n\t\t// Turns fragments on and off globally\n\t\tfragments: true,\n\n\t\t// Flags if the presentation is running in an embedded mode,\n\t\t// i.e. contained within a limited portion of the screen\n\t\tembedded: false,\n\n\t\t// Number of milliseconds between automatically proceeding to the\n\t\t// next slide, disabled when set to 0, this value can be overwritten\n\t\t// by using a data-autoslide attribute on your slides\n\t\tautoSlide: 0,\n\n\t\t// Stop auto-sliding after user input\n\t\tautoSlideStoppable: true,\n\n\t\t// Enable slide navigation via mouse wheel\n\t\tmouseWheel: false,\n\n\t\t// Apply a 3D roll to links on hover\n\t\trollingLinks: false,\n\n\t\t// Hides the address bar on mobile devices\n\t\thideAddressBar: true,\n\n\t\t// Opens links in an iframe preview overlay\n\t\tpreviewLinks: false,\n\n\t\t// Focuses body when page changes visiblity to ensure keyboard shortcuts work\n\t\tfocusBodyOnPageVisiblityChange: true,\n\n\t\t// Theme (see /css/theme)\n\t\ttheme: null,\n\n\t\t// Transition style\n\t\ttransition: 'default', // default/cube/page/concave/zoom/linear/fade/none\n\n\t\t// Transition speed\n\t\ttransitionSpeed: 'default', // default/fast/slow\n\n\t\t// Transition style for full page slide backgrounds\n\t\tbackgroundTransition: 'default', // default/linear/none\n\n\t\t// Parallax background image\n\t\tparallaxBackgroundImage: '', // CSS syntax, e.g. \"a.jpg\"\n\n\t\t// Parallax background size\n\t\tparallaxBackgroundSize: '', // CSS syntax, e.g. \"3000px 2000px\"\n\n\t\t// Number of slides away from the current that are visible\n\t\tviewDistance: 3,\n\n\t\t// Script dependencies to load\n\t\tdependencies: []\n\n\t},\n\n\n\t// Flags if reveal.js is loaded (has dispatched the 'ready' event)\n\tloaded = false,\n\n\n\t// The horizontal and vertical index of the currently active slide\n\tindexh,\n\t    indexv,\n\n\n\t// The previous and current slide HTML elements\n\tpreviousSlide,\n\t    currentSlide,\n\t    previousBackground,\n\n\n\t// Slides may hold a data-state attribute which we pick up and apply\n\t// as a class to the body. This list contains the combined state of\n\t// all current slides.\n\tstate = [],\n\n\n\t// The current scale of the presentation (see width/height config)\n\tscale = 1,\n\n\n\t// Cached references to DOM elements\n\tdom = {},\n\n\n\t// Features supported by the browser, see #checkCapabilities()\n\tfeatures = {},\n\n\n\t// Client is a mobile device, see #checkCapabilities()\n\tisMobileDevice,\n\n\n\t// Throttles mouse wheel navigation\n\tlastMouseWheelStep = 0,\n\n\n\t// Delays updates to the URL due to a Chrome thumbnailer bug\n\twriteURLTimeout = 0,\n\n\n\t// A delay used to activate the overview mode\n\tactivateOverviewTimeout = 0,\n\n\n\t// A delay used to deactivate the overview mode\n\tdeactivateOverviewTimeout = 0,\n\n\n\t// Flags if the interaction event listeners are bound\n\teventsAreBound = false,\n\n\n\t// The current auto-slide duration\n\tautoSlide = 0,\n\n\n\t// Auto slide properties\n\tautoSlidePlayer,\n\t    autoSlideTimeout = 0,\n\t    autoSlideStartTime = -1,\n\t    autoSlidePaused = false,\n\n\n\t// Holds information about the currently ongoing touch input\n\ttouch = {\n\t\tstartX: 0,\n\t\tstartY: 0,\n\t\tstartSpan: 0,\n\t\tstartCount: 0,\n\t\tcaptured: false,\n\t\tthreshold: 40\n\t};\n\n\t/**\n  * Starts up the presentation if the client is capable.\n  */\n\tfunction initialize(options) {\n\n\t\tcheckCapabilities();\n\n\t\tif (!features.transforms2d && !features.transforms3d) {\n\t\t\tdocument.body.setAttribute('class', 'no-transforms');\n\n\t\t\t// If the browser doesn't support core features we won't be\n\t\t\t// using JavaScript to control the presentation\n\t\t\treturn;\n\t\t}\n\n\t\t// Force a layout when the whole page, incl fonts, has loaded\n\t\twindow.addEventListener('load', layout, false);\n\n\t\tvar query = Reveal.getQueryHash();\n\n\t\t// Do not accept new dependencies via query config to avoid\n\t\t// the potential of malicious script injection\n\t\tif (typeof query['dependencies'] !== 'undefined') delete query['dependencies'];\n\n\t\t// Copy options over to our config object\n\t\textend(config, options);\n\t\textend(config, query);\n\n\t\t// Hide the address bar in mobile browsers\n\t\thideAddressBar();\n\n\t\t// Loads the dependencies and continues to #start() once done\n\t\tload();\n\t}\n\n\t/**\n  * Inspect the client to see what it's capable of, this\n  * should only happens once per runtime.\n  */\n\tfunction checkCapabilities() {\n\n\t\tfeatures.transforms3d = 'WebkitPerspective' in document.body.style || 'MozPerspective' in document.body.style || 'msPerspective' in document.body.style || 'OPerspective' in document.body.style || 'perspective' in document.body.style;\n\n\t\tfeatures.transforms2d = 'WebkitTransform' in document.body.style || 'MozTransform' in document.body.style || 'msTransform' in document.body.style || 'OTransform' in document.body.style || 'transform' in document.body.style;\n\n\t\tfeatures.requestAnimationFrameMethod = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\t\tfeatures.requestAnimationFrame = typeof features.requestAnimationFrameMethod === 'function';\n\n\t\tfeatures.canvas = !!document.createElement('canvas').getContext;\n\n\t\tisMobileDevice = navigator.userAgent.match(/(iphone|ipod|android)/gi);\n\t}\n\n\t/**\n  * Loads the dependencies of reveal.js. Dependencies are\n  * defined via the configuration option 'dependencies'\n  * and will be loaded prior to starting/binding reveal.js.\n  * Some dependencies may have an 'async' flag, if so they\n  * will load after reveal.js has been started up.\n  */\n\tfunction load() {\n\n\t\tvar scripts = [],\n\t\t    scriptsAsync = [],\n\t\t    scriptsToPreload = 0;\n\n\t\t// Called once synchronous scripts finish loading\n\t\tfunction proceed() {\n\t\t\tif (scriptsAsync.length) {\n\t\t\t\t// Load asynchronous scripts\n\t\t\t\thead.js.apply(null, scriptsAsync);\n\t\t\t}\n\n\t\t\tstart();\n\t\t}\n\n\t\tfunction loadScript(s) {\n\t\t\thead.ready(s.src.match(/([\\w\\d_\\-]*)\\.?js$|[^\\\\\\/]*$/i)[0], function () {\n\t\t\t\t// Extension may contain callback functions\n\t\t\t\tif (typeof s.callback === 'function') {\n\t\t\t\t\ts.callback.apply(this);\n\t\t\t\t}\n\n\t\t\t\tif (--scriptsToPreload === 0) {\n\t\t\t\t\tproceed();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor (var i = 0, len = config.dependencies.length; i < len; i++) {\n\t\t\tvar s = config.dependencies[i];\n\n\t\t\t// Load if there's no condition or the condition is truthy\n\t\t\tif (!s.condition || s.condition()) {\n\t\t\t\tif (s.async) {\n\t\t\t\t\tscriptsAsync.push(s.src);\n\t\t\t\t} else {\n\t\t\t\t\tscripts.push(s.src);\n\t\t\t\t}\n\n\t\t\t\tloadScript(s);\n\t\t\t}\n\t\t}\n\n\t\tif (scripts.length) {\n\t\t\tscriptsToPreload = scripts.length;\n\n\t\t\t// Load synchronous scripts\n\t\t\thead.js.apply(null, scripts);\n\t\t} else {\n\t\t\tproceed();\n\t\t}\n\t}\n\n\t/**\n  * Starts up reveal.js by binding input events and navigating\n  * to the current URL deeplink if there is one.\n  */\n\tfunction start() {\n\n\t\t// Make sure we've got all the DOM elements we need\n\t\tsetupDOM();\n\n\t\t// Resets all vertical slides so that only the first is visible\n\t\tresetVerticalSlides();\n\n\t\t// Updates the presentation to match the current configuration values\n\t\tconfigure();\n\n\t\t// Read the initial hash\n\t\treadURL();\n\n\t\t// Update all backgrounds\n\t\tupdateBackground(true);\n\n\t\t// Notify listeners that the presentation is ready but use a 1ms\n\t\t// timeout to ensure it's not fired synchronously after #initialize()\n\t\tsetTimeout(function () {\n\t\t\t// Enable transitions now that we're loaded\n\t\t\tdom.slides.classList.remove('no-transition');\n\n\t\t\tloaded = true;\n\n\t\t\tdispatchEvent('ready', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'currentSlide': currentSlide\n\t\t\t});\n\t\t}, 1);\n\t}\n\n\t/**\n  * Finds and stores references to DOM elements which are\n  * required by the presentation. If a required element is\n  * not found, it is created.\n  */\n\tfunction setupDOM() {\n\n\t\t// Cache references to key DOM elements\n\t\tdom.theme = document.querySelector('#theme');\n\t\tdom.wrapper = document.querySelector('.reveal');\n\t\tdom.slides = document.querySelector('.reveal .slides');\n\n\t\t// Prevent transitions while we're loading\n\t\tdom.slides.classList.add('no-transition');\n\n\t\t// Background element\n\t\tdom.background = createSingletonNode(dom.wrapper, 'div', 'backgrounds', null);\n\n\t\t// Progress bar\n\t\tdom.progress = createSingletonNode(dom.wrapper, 'div', 'progress', '<span></span>');\n\t\tdom.progressbar = dom.progress.querySelector('span');\n\n\t\t// Arrow controls\n\t\tcreateSingletonNode(dom.wrapper, 'aside', 'controls', '<div class=\"navigate-left\"></div>' + '<div class=\"navigate-right\"></div>' + '<div class=\"navigate-up\"></div>' + '<div class=\"navigate-down\"></div>');\n\n\t\t// Slide number\n\t\tdom.slideNumber = createSingletonNode(dom.wrapper, 'div', 'slide-number', '');\n\n\t\t// State background element [DEPRECATED]\n\t\tcreateSingletonNode(dom.wrapper, 'div', 'state-background', null);\n\n\t\t// Overlay graphic which is displayed during the paused mode\n\t\tcreateSingletonNode(dom.wrapper, 'div', 'pause-overlay', null);\n\n\t\t// Cache references to elements\n\t\tdom.controls = document.querySelector('.reveal .controls');\n\n\t\t// There can be multiple instances of controls throughout the page\n\t\tdom.controlsLeft = toArray(document.querySelectorAll('.navigate-left'));\n\t\tdom.controlsRight = toArray(document.querySelectorAll('.navigate-right'));\n\t\tdom.controlsUp = toArray(document.querySelectorAll('.navigate-up'));\n\t\tdom.controlsDown = toArray(document.querySelectorAll('.navigate-down'));\n\t\tdom.controlsPrev = toArray(document.querySelectorAll('.navigate-prev'));\n\t\tdom.controlsNext = toArray(document.querySelectorAll('.navigate-next'));\n\t}\n\n\t/**\n  * Creates an HTML element and returns a reference to it.\n  * If the element already exists the existing instance will\n  * be returned.\n  */\n\tfunction createSingletonNode(container, tagname, classname, innerHTML) {\n\n\t\tvar node = container.querySelector('.' + classname);\n\t\tif (!node) {\n\t\t\tnode = document.createElement(tagname);\n\t\t\tnode.classList.add(classname);\n\t\t\tif (innerHTML !== null) {\n\t\t\t\tnode.innerHTML = innerHTML;\n\t\t\t}\n\t\t\tcontainer.appendChild(node);\n\t\t}\n\t\treturn node;\n\t}\n\n\t/**\n  * Creates the slide background elements and appends them\n  * to the background container. One element is created per\n  * slide no matter if the given slide has visible background.\n  */\n\tfunction createBackgrounds() {\n\n\t\tif (isPrintingPDF()) {\n\t\t\tdocument.body.classList.add('print-pdf');\n\t\t}\n\n\t\t// Clear prior backgrounds\n\t\tdom.background.innerHTML = '';\n\t\tdom.background.classList.add('no-transition');\n\n\t\t// Helper method for creating a background element for the\n\t\t// given slide\n\t\tfunction _createBackground(slide, container) {\n\n\t\t\tvar data = {\n\t\t\t\tbackground: slide.getAttribute('data-background'),\n\t\t\t\tbackgroundSize: slide.getAttribute('data-background-size'),\n\t\t\t\tbackgroundImage: slide.getAttribute('data-background-image'),\n\t\t\t\tbackgroundColor: slide.getAttribute('data-background-color'),\n\t\t\t\tbackgroundRepeat: slide.getAttribute('data-background-repeat'),\n\t\t\t\tbackgroundPosition: slide.getAttribute('data-background-position'),\n\t\t\t\tbackgroundTransition: slide.getAttribute('data-background-transition')\n\t\t\t};\n\n\t\t\tvar element = document.createElement('div');\n\t\t\telement.className = 'slide-background';\n\n\t\t\tif (data.background) {\n\t\t\t\t// Auto-wrap image urls in url(...)\n\t\t\t\tif (/^(http|file|\\/\\/)/gi.test(data.background) || /\\.(svg|png|jpg|jpeg|gif|bmp)$/gi.test(data.background)) {\n\t\t\t\t\telement.style.backgroundImage = 'url(' + data.background + ')';\n\t\t\t\t} else {\n\t\t\t\t\telement.style.background = data.background;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.background || data.backgroundColor || data.backgroundImage) {\n\t\t\t\telement.setAttribute('data-background-hash', data.background + data.backgroundSize + data.backgroundImage + data.backgroundColor + data.backgroundRepeat + data.backgroundPosition + data.backgroundTransition);\n\t\t\t}\n\n\t\t\t// Additional and optional background properties\n\t\t\tif (data.backgroundSize) element.style.backgroundSize = data.backgroundSize;\n\t\t\tif (data.backgroundImage) element.style.backgroundImage = 'url(\"' + data.backgroundImage + '\")';\n\t\t\tif (data.backgroundColor) element.style.backgroundColor = data.backgroundColor;\n\t\t\tif (data.backgroundRepeat) element.style.backgroundRepeat = data.backgroundRepeat;\n\t\t\tif (data.backgroundPosition) element.style.backgroundPosition = data.backgroundPosition;\n\t\t\tif (data.backgroundTransition) element.setAttribute('data-background-transition', data.backgroundTransition);\n\n\t\t\tcontainer.appendChild(element);\n\n\t\t\treturn element;\n\t\t}\n\n\t\t// Iterate over all horizontal slides\n\t\ttoArray(document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (slideh) {\n\n\t\t\tvar backgroundStack;\n\n\t\t\tif (isPrintingPDF()) {\n\t\t\t\tbackgroundStack = _createBackground(slideh, slideh);\n\t\t\t} else {\n\t\t\t\tbackgroundStack = _createBackground(slideh, dom.background);\n\t\t\t}\n\n\t\t\t// Iterate over all vertical slides\n\t\t\ttoArray(slideh.querySelectorAll('section')).forEach(function (slidev) {\n\n\t\t\t\tif (isPrintingPDF()) {\n\t\t\t\t\t_createBackground(slidev, slidev);\n\t\t\t\t} else {\n\t\t\t\t\t_createBackground(slidev, backgroundStack);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Add parallax background if specified\n\t\tif (config.parallaxBackgroundImage) {\n\n\t\t\tdom.background.style.backgroundImage = 'url(\"' + config.parallaxBackgroundImage + '\")';\n\t\t\tdom.background.style.backgroundSize = config.parallaxBackgroundSize;\n\n\t\t\t// Make sure the below properties are set on the element - these properties are\n\t\t\t// needed for proper transitions to be set on the element via CSS. To remove\n\t\t\t// annoying background slide-in effect when the presentation starts, apply\n\t\t\t// these properties after short time delay\n\t\t\tsetTimeout(function () {\n\t\t\t\tdom.wrapper.classList.add('has-parallax-background');\n\t\t\t}, 1);\n\t\t} else {\n\n\t\t\tdom.background.style.backgroundImage = '';\n\t\t\tdom.wrapper.classList.remove('has-parallax-background');\n\t\t}\n\t}\n\n\t/**\n  * Applies the configuration settings from the config\n  * object. May be called multiple times.\n  */\n\tfunction configure(options) {\n\n\t\tvar numberOfSlides = document.querySelectorAll(SLIDES_SELECTOR).length;\n\n\t\tdom.wrapper.classList.remove(config.transition);\n\n\t\t// New config options may be passed when this method\n\t\t// is invoked through the API after initialization\n\t\tif ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') extend(config, options);\n\n\t\t// Force linear transition based on browser capabilities\n\t\tif (features.transforms3d === false) config.transition = 'linear';\n\n\t\tdom.wrapper.classList.add(config.transition);\n\n\t\tdom.wrapper.setAttribute('data-transition-speed', config.transitionSpeed);\n\t\tdom.wrapper.setAttribute('data-background-transition', config.backgroundTransition);\n\n\t\tdom.controls.style.display = config.controls ? 'block' : 'none';\n\t\tdom.progress.style.display = config.progress ? 'block' : 'none';\n\n\t\tif (config.rtl) {\n\t\t\tdom.wrapper.classList.add('rtl');\n\t\t} else {\n\t\t\tdom.wrapper.classList.remove('rtl');\n\t\t}\n\n\t\tif (config.center) {\n\t\t\tdom.wrapper.classList.add('center');\n\t\t} else {\n\t\t\tdom.wrapper.classList.remove('center');\n\t\t}\n\n\t\tif (config.mouseWheel) {\n\t\t\tdocument.addEventListener('DOMMouseScroll', onDocumentMouseScroll, false); // FF\n\t\t\tdocument.addEventListener('mousewheel', onDocumentMouseScroll, false);\n\t\t} else {\n\t\t\tdocument.removeEventListener('DOMMouseScroll', onDocumentMouseScroll, false); // FF\n\t\t\tdocument.removeEventListener('mousewheel', onDocumentMouseScroll, false);\n\t\t}\n\n\t\t// Rolling 3D links\n\t\tif (config.rollingLinks) {\n\t\t\tenableRollingLinks();\n\t\t} else {\n\t\t\tdisableRollingLinks();\n\t\t}\n\n\t\t// Iframe link previews\n\t\tif (config.previewLinks) {\n\t\t\tenablePreviewLinks();\n\t\t} else {\n\t\t\tdisablePreviewLinks();\n\t\t\tenablePreviewLinks('[data-preview-link]');\n\t\t}\n\n\t\t// Auto-slide playback controls\n\t\tif (numberOfSlides > 1 && config.autoSlide && config.autoSlideStoppable && features.canvas && features.requestAnimationFrame) {\n\t\t\tautoSlidePlayer = new Playback(dom.wrapper, function () {\n\t\t\t\treturn Math.min(Math.max((Date.now() - autoSlideStartTime) / autoSlide, 0), 1);\n\t\t\t});\n\n\t\t\tautoSlidePlayer.on('click', onAutoSlidePlayerClick);\n\t\t\tautoSlidePaused = false;\n\t\t} else if (autoSlidePlayer) {\n\t\t\tautoSlidePlayer.destroy();\n\t\t\tautoSlidePlayer = null;\n\t\t}\n\n\t\t// Load the theme in the config, if it's not already loaded\n\t\tif (config.theme && dom.theme) {\n\t\t\tvar themeURL = dom.theme.getAttribute('href');\n\t\t\tvar themeFinder = /[^\\/]*?(?=\\.css)/;\n\t\t\tvar themeName = themeURL.match(themeFinder)[0];\n\n\t\t\tif (config.theme !== themeName) {\n\t\t\t\tthemeURL = themeURL.replace(themeFinder, config.theme);\n\t\t\t\tdom.theme.setAttribute('href', themeURL);\n\t\t\t}\n\t\t}\n\n\t\tsync();\n\t}\n\n\t/**\n  * Binds all event listeners.\n  */\n\tfunction addEventListeners() {\n\n\t\teventsAreBound = true;\n\n\t\twindow.addEventListener('hashchange', onWindowHashChange, false);\n\t\twindow.addEventListener('resize', onWindowResize, false);\n\n\t\tif (config.touch) {\n\t\t\tdom.wrapper.addEventListener('touchstart', onTouchStart, false);\n\t\t\tdom.wrapper.addEventListener('touchmove', onTouchMove, false);\n\t\t\tdom.wrapper.addEventListener('touchend', onTouchEnd, false);\n\n\t\t\t// Support pointer-style touch interaction as well\n\t\t\tif (window.navigator.msPointerEnabled) {\n\t\t\t\tdom.wrapper.addEventListener('MSPointerDown', onPointerDown, false);\n\t\t\t\tdom.wrapper.addEventListener('MSPointerMove', onPointerMove, false);\n\t\t\t\tdom.wrapper.addEventListener('MSPointerUp', onPointerUp, false);\n\t\t\t}\n\t\t}\n\n\t\tif (config.keyboard) {\n\t\t\tdocument.addEventListener('keydown', onDocumentKeyDown, false);\n\t\t}\n\n\t\tif (config.progress && dom.progress) {\n\t\t\tdom.progress.addEventListener('click', onProgressClicked, false);\n\t\t}\n\n\t\tif (config.focusBodyOnPageVisiblityChange) {\n\t\t\tvar visibilityChange;\n\n\t\t\tif ('hidden' in document) {\n\t\t\t\tvisibilityChange = 'visibilitychange';\n\t\t\t} else if ('msHidden' in document) {\n\t\t\t\tvisibilityChange = 'msvisibilitychange';\n\t\t\t} else if ('webkitHidden' in document) {\n\t\t\t\tvisibilityChange = 'webkitvisibilitychange';\n\t\t\t}\n\n\t\t\tif (visibilityChange) {\n\t\t\t\tdocument.addEventListener(visibilityChange, onPageVisibilityChange, false);\n\t\t\t}\n\t\t}\n\n\t\t['touchstart', 'click'].forEach(function (eventName) {\n\t\t\tdom.controlsLeft.forEach(function (el) {\n\t\t\t\tel.addEventListener(eventName, onNavigateLeftClicked, false);\n\t\t\t});\n\t\t\tdom.controlsRight.forEach(function (el) {\n\t\t\t\tel.addEventListener(eventName, onNavigateRightClicked, false);\n\t\t\t});\n\t\t\tdom.controlsUp.forEach(function (el) {\n\t\t\t\tel.addEventListener(eventName, onNavigateUpClicked, false);\n\t\t\t});\n\t\t\tdom.controlsDown.forEach(function (el) {\n\t\t\t\tel.addEventListener(eventName, onNavigateDownClicked, false);\n\t\t\t});\n\t\t\tdom.controlsPrev.forEach(function (el) {\n\t\t\t\tel.addEventListener(eventName, onNavigatePrevClicked, false);\n\t\t\t});\n\t\t\tdom.controlsNext.forEach(function (el) {\n\t\t\t\tel.addEventListener(eventName, onNavigateNextClicked, false);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n  * Unbinds all event listeners.\n  */\n\tfunction removeEventListeners() {\n\n\t\teventsAreBound = false;\n\n\t\tdocument.removeEventListener('keydown', onDocumentKeyDown, false);\n\t\twindow.removeEventListener('hashchange', onWindowHashChange, false);\n\t\twindow.removeEventListener('resize', onWindowResize, false);\n\n\t\tdom.wrapper.removeEventListener('touchstart', onTouchStart, false);\n\t\tdom.wrapper.removeEventListener('touchmove', onTouchMove, false);\n\t\tdom.wrapper.removeEventListener('touchend', onTouchEnd, false);\n\n\t\tif (window.navigator.msPointerEnabled) {\n\t\t\tdom.wrapper.removeEventListener('MSPointerDown', onPointerDown, false);\n\t\t\tdom.wrapper.removeEventListener('MSPointerMove', onPointerMove, false);\n\t\t\tdom.wrapper.removeEventListener('MSPointerUp', onPointerUp, false);\n\t\t}\n\n\t\tif (config.progress && dom.progress) {\n\t\t\tdom.progress.removeEventListener('click', onProgressClicked, false);\n\t\t}\n\n\t\t['touchstart', 'click'].forEach(function (eventName) {\n\t\t\tdom.controlsLeft.forEach(function (el) {\n\t\t\t\tel.removeEventListener(eventName, onNavigateLeftClicked, false);\n\t\t\t});\n\t\t\tdom.controlsRight.forEach(function (el) {\n\t\t\t\tel.removeEventListener(eventName, onNavigateRightClicked, false);\n\t\t\t});\n\t\t\tdom.controlsUp.forEach(function (el) {\n\t\t\t\tel.removeEventListener(eventName, onNavigateUpClicked, false);\n\t\t\t});\n\t\t\tdom.controlsDown.forEach(function (el) {\n\t\t\t\tel.removeEventListener(eventName, onNavigateDownClicked, false);\n\t\t\t});\n\t\t\tdom.controlsPrev.forEach(function (el) {\n\t\t\t\tel.removeEventListener(eventName, onNavigatePrevClicked, false);\n\t\t\t});\n\t\t\tdom.controlsNext.forEach(function (el) {\n\t\t\t\tel.removeEventListener(eventName, onNavigateNextClicked, false);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n  * Extend object a with the properties of object b.\n  * If there's a conflict, object b takes precedence.\n  */\n\tfunction extend(a, b) {\n\n\t\tfor (var i in b) {\n\t\t\ta[i] = b[i];\n\t\t}\n\t}\n\n\t/**\n  * Converts the target object to an array.\n  */\n\tfunction toArray(o) {\n\n\t\treturn Array.prototype.slice.call(o);\n\t}\n\n\t/**\n  * Measures the distance in pixels between point a\n  * and point b.\n  *\n  * @param {Object} a point with x/y properties\n  * @param {Object} b point with x/y properties\n  */\n\tfunction distanceBetween(a, b) {\n\n\t\tvar dx = a.x - b.x,\n\t\t    dy = a.y - b.y;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t}\n\n\t/**\n  * Applies a CSS transform to the target element.\n  */\n\tfunction transformElement(element, transform) {\n\n\t\telement.style.WebkitTransform = transform;\n\t\telement.style.MozTransform = transform;\n\t\telement.style.msTransform = transform;\n\t\telement.style.OTransform = transform;\n\t\telement.style.transform = transform;\n\t}\n\n\t/**\n  * Retrieves the height of the given element by looking\n  * at the position and height of its immediate children.\n  */\n\tfunction getAbsoluteHeight(element) {\n\n\t\tvar height = 0;\n\n\t\tif (element) {\n\t\t\tvar absoluteChildren = 0;\n\n\t\t\ttoArray(element.childNodes).forEach(function (child) {\n\n\t\t\t\tif (typeof child.offsetTop === 'number' && child.style) {\n\t\t\t\t\t// Count # of abs children\n\t\t\t\t\tif (child.style.position === 'absolute') {\n\t\t\t\t\t\tabsoluteChildren += 1;\n\t\t\t\t\t}\n\n\t\t\t\t\theight = Math.max(height, child.offsetTop + child.offsetHeight);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// If there are no absolute children, use offsetHeight\n\t\t\tif (absoluteChildren === 0) {\n\t\t\t\theight = element.offsetHeight;\n\t\t\t}\n\t\t}\n\n\t\treturn height;\n\t}\n\n\t/**\n  * Returns the remaining height within the parent of the\n  * target element after subtracting the height of all\n  * siblings.\n  *\n  * remaining height = [parent height] - [ siblings height]\n  */\n\tfunction getRemainingHeight(element, height) {\n\n\t\theight = height || 0;\n\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode;\n\t\t\tvar siblings = parent.childNodes;\n\n\t\t\t// Subtract the height of each sibling\n\t\t\ttoArray(siblings).forEach(function (sibling) {\n\n\t\t\t\tif (typeof sibling.offsetHeight === 'number' && sibling !== element) {\n\n\t\t\t\t\tvar styles = window.getComputedStyle(sibling),\n\t\t\t\t\t    marginTop = parseInt(styles.marginTop, 10),\n\t\t\t\t\t    marginBottom = parseInt(styles.marginBottom, 10);\n\n\t\t\t\t\theight -= sibling.offsetHeight + marginTop + marginBottom;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar elementStyles = window.getComputedStyle(element);\n\n\t\t\t// Subtract the margins of the target element\n\t\t\theight -= parseInt(elementStyles.marginTop, 10) + parseInt(elementStyles.marginBottom, 10);\n\t\t}\n\n\t\treturn height;\n\t}\n\n\t/**\n  * Checks if this instance is being used to print a PDF.\n  */\n\tfunction isPrintingPDF() {\n\n\t\treturn (/print-pdf/gi.test(window.location.search)\n\t\t);\n\t}\n\n\t/**\n  * Hides the address bar if we're on a mobile device.\n  */\n\tfunction hideAddressBar() {\n\n\t\tif (config.hideAddressBar && isMobileDevice) {\n\t\t\t// Events that should trigger the address bar to hide\n\t\t\twindow.addEventListener('load', removeAddressBar, false);\n\t\t\twindow.addEventListener('orientationchange', removeAddressBar, false);\n\t\t}\n\t}\n\n\t/**\n  * Causes the address bar to hide on mobile devices,\n  * more vertical space ftw.\n  */\n\tfunction removeAddressBar() {\n\n\t\tsetTimeout(function () {\n\t\t\twindow.scrollTo(0, 1);\n\t\t}, 10);\n\t}\n\n\t/**\n  * Dispatches an event of the specified type from the\n  * reveal DOM element.\n  */\n\tfunction dispatchEvent(type, properties) {\n\n\t\tvar event = document.createEvent(\"HTMLEvents\", 1, 2);\n\t\tevent.initEvent(type, true, true);\n\t\textend(event, properties);\n\t\tdom.wrapper.dispatchEvent(event);\n\t}\n\n\t/**\n  * Wrap all links in 3D goodness.\n  */\n\tfunction enableRollingLinks() {\n\n\t\tif (features.transforms3d && !('msPerspective' in document.body.style)) {\n\t\t\tvar anchors = document.querySelectorAll(SLIDES_SELECTOR + ' a:not(.image)');\n\n\t\t\tfor (var i = 0, len = anchors.length; i < len; i++) {\n\t\t\t\tvar anchor = anchors[i];\n\n\t\t\t\tif (anchor.textContent && !anchor.querySelector('*') && (!anchor.className || !anchor.classList.contains(anchor, 'roll'))) {\n\t\t\t\t\tvar span = document.createElement('span');\n\t\t\t\t\tspan.setAttribute('data-title', anchor.text);\n\t\t\t\t\tspan.innerHTML = anchor.innerHTML;\n\n\t\t\t\t\tanchor.classList.add('roll');\n\t\t\t\t\tanchor.innerHTML = '';\n\t\t\t\t\tanchor.appendChild(span);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Unwrap all 3D links.\n  */\n\tfunction disableRollingLinks() {\n\n\t\tvar anchors = document.querySelectorAll(SLIDES_SELECTOR + ' a.roll');\n\n\t\tfor (var i = 0, len = anchors.length; i < len; i++) {\n\t\t\tvar anchor = anchors[i];\n\t\t\tvar span = anchor.querySelector('span');\n\n\t\t\tif (span) {\n\t\t\t\tanchor.classList.remove('roll');\n\t\t\t\tanchor.innerHTML = span.innerHTML;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Bind preview frame links.\n  */\n\tfunction enablePreviewLinks(selector) {\n\n\t\tvar anchors = toArray(document.querySelectorAll(selector ? selector : 'a'));\n\n\t\tanchors.forEach(function (element) {\n\t\t\tif (/^(http|www)/gi.test(element.getAttribute('href'))) {\n\t\t\t\telement.addEventListener('click', onPreviewLinkClicked, false);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n  * Unbind preview frame links.\n  */\n\tfunction disablePreviewLinks() {\n\n\t\tvar anchors = toArray(document.querySelectorAll('a'));\n\n\t\tanchors.forEach(function (element) {\n\t\t\tif (/^(http|www)/gi.test(element.getAttribute('href'))) {\n\t\t\t\telement.removeEventListener('click', onPreviewLinkClicked, false);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n  * Opens a preview window for the target URL.\n  */\n\tfunction openPreview(url) {\n\n\t\tclosePreview();\n\n\t\tdom.preview = document.createElement('div');\n\t\tdom.preview.classList.add('preview-link-overlay');\n\t\tdom.wrapper.appendChild(dom.preview);\n\n\t\tdom.preview.innerHTML = ['<header>', '<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>', '<a class=\"external\" href=\"' + url + '\" target=\"_blank\"><span class=\"icon\"></span></a>', '</header>', '<div class=\"spinner\"></div>', '<div class=\"viewport\">', '<iframe src=\"' + url + '\"></iframe>', '</div>'].join('');\n\n\t\tdom.preview.querySelector('iframe').addEventListener('load', function (event) {\n\t\t\tdom.preview.classList.add('loaded');\n\t\t}, false);\n\n\t\tdom.preview.querySelector('.close').addEventListener('click', function (event) {\n\t\t\tclosePreview();\n\t\t\tevent.preventDefault();\n\t\t}, false);\n\n\t\tdom.preview.querySelector('.external').addEventListener('click', function (event) {\n\t\t\tclosePreview();\n\t\t}, false);\n\n\t\tsetTimeout(function () {\n\t\t\tdom.preview.classList.add('visible');\n\t\t}, 1);\n\t}\n\n\t/**\n  * Closes the iframe preview window.\n  */\n\tfunction closePreview() {\n\n\t\tif (dom.preview) {\n\t\t\tdom.preview.setAttribute('src', '');\n\t\t\tdom.preview.parentNode.removeChild(dom.preview);\n\t\t\tdom.preview = null;\n\t\t}\n\t}\n\n\t/**\n  * Applies JavaScript-controlled layout rules to the\n  * presentation.\n  */\n\tfunction layout() {\n\n\t\tif (dom.wrapper && !isPrintingPDF()) {\n\n\t\t\t// Available space to scale within\n\t\t\tvar availableWidth = dom.wrapper.offsetWidth,\n\t\t\t    availableHeight = dom.wrapper.offsetHeight;\n\n\t\t\t// Reduce available space by margin\n\t\t\tavailableWidth -= availableHeight * config.margin;\n\t\t\tavailableHeight -= availableHeight * config.margin;\n\n\t\t\t// Dimensions of the content\n\t\t\tvar slideWidth = config.width,\n\t\t\t    slideHeight = config.height,\n\t\t\t    slidePadding = 20; // TODO Dig this out of DOM\n\n\t\t\t// Layout the contents of the slides\n\t\t\tlayoutSlideContents(config.width, config.height, slidePadding);\n\n\t\t\t// Slide width may be a percentage of available width\n\t\t\tif (typeof slideWidth === 'string' && /%$/.test(slideWidth)) {\n\t\t\t\tslideWidth = parseInt(slideWidth, 10) / 100 * availableWidth;\n\t\t\t}\n\n\t\t\t// Slide height may be a percentage of available height\n\t\t\tif (typeof slideHeight === 'string' && /%$/.test(slideHeight)) {\n\t\t\t\tslideHeight = parseInt(slideHeight, 10) / 100 * availableHeight;\n\t\t\t}\n\n\t\t\tdom.slides.style.width = slideWidth + 'px';\n\t\t\tdom.slides.style.height = slideHeight + 'px';\n\n\t\t\t// Determine scale of content to fit within available space\n\t\t\tscale = Math.min(availableWidth / slideWidth, availableHeight / slideHeight);\n\n\t\t\t// Respect max/min scale settings\n\t\t\tscale = Math.max(scale, config.minScale);\n\t\t\tscale = Math.min(scale, config.maxScale);\n\n\t\t\t// Prefer applying scale via zoom since Chrome blurs scaled content\n\t\t\t// with nested transforms\n\t\t\tif (typeof dom.slides.style.zoom !== 'undefined' && !navigator.userAgent.match(/(iphone|ipod|ipad|android)/gi)) {\n\t\t\t\tdom.slides.style.zoom = scale;\n\t\t\t}\n\t\t\t// Apply scale transform as a fallback\n\t\t\telse {\n\t\t\t\t\ttransformElement(dom.slides, 'translate(-50%, -50%) scale(' + scale + ') translate(50%, 50%)');\n\t\t\t\t}\n\n\t\t\t// Select all slides, vertical and horizontal\n\t\t\tvar slides = toArray(document.querySelectorAll(SLIDES_SELECTOR));\n\n\t\t\tfor (var i = 0, len = slides.length; i < len; i++) {\n\t\t\t\tvar slide = slides[i];\n\n\t\t\t\t// Don't bother updating invisible slides\n\t\t\t\tif (slide.style.display === 'none') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (config.center || slide.classList.contains('center')) {\n\t\t\t\t\t// Vertical stacks are not centred since their section\n\t\t\t\t\t// children will be\n\t\t\t\t\tif (slide.classList.contains('stack')) {\n\t\t\t\t\t\tslide.style.top = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslide.style.top = Math.max(-(getAbsoluteHeight(slide) / 2) - slidePadding, -slideHeight / 2) + 'px';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tslide.style.top = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tupdateProgress();\n\t\t\tupdateParallax();\n\t\t}\n\t}\n\n\t/**\n  * Applies layout logic to the contents of all slides in\n  * the presentation.\n  */\n\tfunction layoutSlideContents(width, height, padding) {\n\n\t\t// Handle sizing of elements with the 'stretch' class\n\t\ttoArray(dom.slides.querySelectorAll('section > .stretch')).forEach(function (element) {\n\n\t\t\t// Determine how much vertical space we can use\n\t\t\tvar remainingHeight = getRemainingHeight(element, height - padding * 2);\n\n\t\t\t// Consider the aspect ratio of media elements\n\t\t\tif (/(img|video)/gi.test(element.nodeName)) {\n\t\t\t\tvar nw = element.naturalWidth || element.videoWidth,\n\t\t\t\t    nh = element.naturalHeight || element.videoHeight;\n\n\t\t\t\tvar es = Math.min(width / nw, remainingHeight / nh);\n\n\t\t\t\telement.style.width = nw * es + 'px';\n\t\t\t\telement.style.height = nh * es + 'px';\n\t\t\t} else {\n\t\t\t\telement.style.width = width + 'px';\n\t\t\t\telement.style.height = remainingHeight + 'px';\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n  * Stores the vertical index of a stack so that the same\n  * vertical slide can be selected when navigating to and\n  * from the stack.\n  *\n  * @param {HTMLElement} stack The vertical stack element\n  * @param {int} v Index to memorize\n  */\n\tfunction setPreviousVerticalIndex(stack, v) {\n\n\t\tif ((typeof stack === 'undefined' ? 'undefined' : _typeof(stack)) === 'object' && typeof stack.setAttribute === 'function') {\n\t\t\tstack.setAttribute('data-previous-indexv', v || 0);\n\t\t}\n\t}\n\n\t/**\n  * Retrieves the vertical index which was stored using\n  * #setPreviousVerticalIndex() or 0 if no previous index\n  * exists.\n  *\n  * @param {HTMLElement} stack The vertical stack element\n  */\n\tfunction getPreviousVerticalIndex(stack) {\n\n\t\tif ((typeof stack === 'undefined' ? 'undefined' : _typeof(stack)) === 'object' && typeof stack.setAttribute === 'function' && stack.classList.contains('stack')) {\n\t\t\t// Prefer manually defined start-indexv\n\t\t\tvar attributeName = stack.hasAttribute('data-start-indexv') ? 'data-start-indexv' : 'data-previous-indexv';\n\n\t\t\treturn parseInt(stack.getAttribute(attributeName) || 0, 10);\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t/**\n  * Displays the overview of slides (quick nav) by\n  * scaling down and arranging all slide elements.\n  *\n  * Experimental feature, might be dropped if perf\n  * can't be improved.\n  */\n\tfunction activateOverview() {\n\n\t\t// Only proceed if enabled in config\n\t\tif (config.overview) {\n\n\t\t\t// Don't auto-slide while in overview mode\n\t\t\tcancelAutoSlide();\n\n\t\t\tvar wasActive = dom.wrapper.classList.contains('overview');\n\n\t\t\t// Vary the depth of the overview based on screen size\n\t\t\tvar depth = window.innerWidth < 400 ? 1000 : 2500;\n\n\t\t\tdom.wrapper.classList.add('overview');\n\t\t\tdom.wrapper.classList.remove('overview-deactivating');\n\n\t\t\tclearTimeout(activateOverviewTimeout);\n\t\t\tclearTimeout(deactivateOverviewTimeout);\n\n\t\t\t// Not the pretties solution, but need to let the overview\n\t\t\t// class apply first so that slides are measured accurately\n\t\t\t// before we can position them\n\t\t\tactivateOverviewTimeout = setTimeout(function () {\n\n\t\t\t\tvar horizontalSlides = document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR);\n\n\t\t\t\tfor (var i = 0, len1 = horizontalSlides.length; i < len1; i++) {\n\t\t\t\t\tvar hslide = horizontalSlides[i],\n\t\t\t\t\t    hoffset = config.rtl ? -105 : 105;\n\n\t\t\t\t\thslide.setAttribute('data-index-h', i);\n\n\t\t\t\t\t// Apply CSS transform\n\t\t\t\t\ttransformElement(hslide, 'translateZ(-' + depth + 'px) translate(' + (i - indexh) * hoffset + '%, 0%)');\n\n\t\t\t\t\tif (hslide.classList.contains('stack')) {\n\n\t\t\t\t\t\tvar verticalSlides = hslide.querySelectorAll('section');\n\n\t\t\t\t\t\tfor (var j = 0, len2 = verticalSlides.length; j < len2; j++) {\n\t\t\t\t\t\t\tvar verticalIndex = i === indexh ? indexv : getPreviousVerticalIndex(hslide);\n\n\t\t\t\t\t\t\tvar vslide = verticalSlides[j];\n\n\t\t\t\t\t\t\tvslide.setAttribute('data-index-h', i);\n\t\t\t\t\t\t\tvslide.setAttribute('data-index-v', j);\n\n\t\t\t\t\t\t\t// Apply CSS transform\n\t\t\t\t\t\t\ttransformElement(vslide, 'translate(0%, ' + (j - verticalIndex) * 105 + '%)');\n\n\t\t\t\t\t\t\t// Navigate to this slide on click\n\t\t\t\t\t\t\tvslide.addEventListener('click', onOverviewSlideClicked, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Navigate to this slide on click\n\t\t\t\t\t\thslide.addEventListener('click', onOverviewSlideClicked, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateSlidesVisibility();\n\n\t\t\t\tlayout();\n\n\t\t\t\tif (!wasActive) {\n\t\t\t\t\t// Notify observers of the overview showing\n\t\t\t\t\tdispatchEvent('overviewshown', {\n\t\t\t\t\t\t'indexh': indexh,\n\t\t\t\t\t\t'indexv': indexv,\n\t\t\t\t\t\t'currentSlide': currentSlide\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t}\n\t}\n\n\t/**\n  * Exits the slide overview and enters the currently\n  * active slide.\n  */\n\tfunction deactivateOverview() {\n\n\t\t// Only proceed if enabled in config\n\t\tif (config.overview) {\n\n\t\t\tclearTimeout(activateOverviewTimeout);\n\t\t\tclearTimeout(deactivateOverviewTimeout);\n\n\t\t\tdom.wrapper.classList.remove('overview');\n\n\t\t\t// Temporarily add a class so that transitions can do different things\n\t\t\t// depending on whether they are exiting/entering overview, or just\n\t\t\t// moving from slide to slide\n\t\t\tdom.wrapper.classList.add('overview-deactivating');\n\n\t\t\tdeactivateOverviewTimeout = setTimeout(function () {\n\t\t\t\tdom.wrapper.classList.remove('overview-deactivating');\n\t\t\t}, 1);\n\n\t\t\t// Select all slides\n\t\t\ttoArray(document.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n\t\t\t\t// Resets all transforms to use the external styles\n\t\t\t\ttransformElement(slide, '');\n\n\t\t\t\tslide.removeEventListener('click', onOverviewSlideClicked, true);\n\t\t\t});\n\n\t\t\tslide(indexh, indexv);\n\n\t\t\tcueAutoSlide();\n\n\t\t\t// Notify observers of the overview hiding\n\t\t\tdispatchEvent('overviewhidden', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'currentSlide': currentSlide\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n  * Toggles the slide overview mode on and off.\n  *\n  * @param {Boolean} override Optional flag which overrides the\n  * toggle logic and forcibly sets the desired state. True means\n  * overview is open, false means it's closed.\n  */\n\tfunction toggleOverview(override) {\n\n\t\tif (typeof override === 'boolean') {\n\t\t\toverride ? activateOverview() : deactivateOverview();\n\t\t} else {\n\t\t\tisOverview() ? deactivateOverview() : activateOverview();\n\t\t}\n\t}\n\n\t/**\n  * Checks if the overview is currently active.\n  *\n  * @return {Boolean} true if the overview is active,\n  * false otherwise\n  */\n\tfunction isOverview() {\n\n\t\treturn dom.wrapper.classList.contains('overview');\n\t}\n\n\t/**\n  * Checks if the current or specified slide is vertical\n  * (nested within another slide).\n  *\n  * @param {HTMLElement} slide [optional] The slide to check\n  * orientation of\n  */\n\tfunction isVerticalSlide(slide) {\n\n\t\t// Prefer slide argument, otherwise use current slide\n\t\tslide = slide ? slide : currentSlide;\n\n\t\treturn slide && slide.parentNode && !!slide.parentNode.nodeName.match(/section/i);\n\t}\n\n\t/**\n  * Handling the fullscreen functionality via the fullscreen API\n  *\n  * @see http://fullscreen.spec.whatwg.org/\n  * @see https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode\n  */\n\tfunction enterFullscreen() {\n\n\t\tvar element = document.body;\n\n\t\t// Check which implementation is available\n\t\tvar requestMethod = element.requestFullScreen || element.webkitRequestFullscreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;\n\n\t\tif (requestMethod) {\n\t\t\trequestMethod.apply(element);\n\t\t}\n\t}\n\n\t/**\n  * Enters the paused mode which fades everything on screen to\n  * black.\n  */\n\tfunction pause() {\n\n\t\tvar wasPaused = dom.wrapper.classList.contains('paused');\n\n\t\tcancelAutoSlide();\n\t\tdom.wrapper.classList.add('paused');\n\n\t\tif (wasPaused === false) {\n\t\t\tdispatchEvent('paused');\n\t\t}\n\t}\n\n\t/**\n  * Exits from the paused mode.\n  */\n\tfunction resume() {\n\n\t\tvar wasPaused = dom.wrapper.classList.contains('paused');\n\t\tdom.wrapper.classList.remove('paused');\n\n\t\tcueAutoSlide();\n\n\t\tif (wasPaused) {\n\t\t\tdispatchEvent('resumed');\n\t\t}\n\t}\n\n\t/**\n  * Toggles the paused mode on and off.\n  */\n\tfunction togglePause() {\n\n\t\tif (isPaused()) {\n\t\t\tresume();\n\t\t} else {\n\t\t\tpause();\n\t\t}\n\t}\n\n\t/**\n  * Checks if we are currently in the paused mode.\n  */\n\tfunction isPaused() {\n\n\t\treturn dom.wrapper.classList.contains('paused');\n\t}\n\n\t/**\n  * Steps from the current point in the presentation to the\n  * slide which matches the specified horizontal and vertical\n  * indices.\n  *\n  * @param {int} h Horizontal index of the target slide\n  * @param {int} v Vertical index of the target slide\n  * @param {int} f Optional index of a fragment within the\n  * target slide to activate\n  * @param {int} o Optional origin for use in multimaster environments\n  */\n\tfunction slide(h, v, f, o) {\n\n\t\t// Remember where we were at before\n\t\tpreviousSlide = currentSlide;\n\n\t\t// Query all horizontal slides in the deck\n\t\tvar horizontalSlides = document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR);\n\n\t\t// If no vertical index is specified and the upcoming slide is a\n\t\t// stack, resume at its previous vertical index\n\t\tif (v === undefined) {\n\t\t\tv = getPreviousVerticalIndex(horizontalSlides[h]);\n\t\t}\n\n\t\t// If we were on a vertical stack, remember what vertical index\n\t\t// it was on so we can resume at the same position when returning\n\t\tif (previousSlide && previousSlide.parentNode && previousSlide.parentNode.classList.contains('stack')) {\n\t\t\tsetPreviousVerticalIndex(previousSlide.parentNode, indexv);\n\t\t}\n\n\t\t// Remember the state before this slide\n\t\tvar stateBefore = state.concat();\n\n\t\t// Reset the state array\n\t\tstate.length = 0;\n\n\t\tvar indexhBefore = indexh || 0,\n\t\t    indexvBefore = indexv || 0;\n\n\t\t// Activate and transition to the new slide\n\t\tindexh = updateSlides(HORIZONTAL_SLIDES_SELECTOR, h === undefined ? indexh : h);\n\t\tindexv = updateSlides(VERTICAL_SLIDES_SELECTOR, v === undefined ? indexv : v);\n\n\t\t// Update the visibility of slides now that the indices have changed\n\t\tupdateSlidesVisibility();\n\n\t\tlayout();\n\n\t\t// Apply the new state\n\t\tstateLoop: for (var i = 0, len = state.length; i < len; i++) {\n\t\t\t// Check if this state existed on the previous slide. If it\n\t\t\t// did, we will avoid adding it repeatedly\n\t\t\tfor (var j = 0; j < stateBefore.length; j++) {\n\t\t\t\tif (stateBefore[j] === state[i]) {\n\t\t\t\t\tstateBefore.splice(j, 1);\n\t\t\t\t\tcontinue stateLoop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdocument.documentElement.classList.add(state[i]);\n\n\t\t\t// Dispatch custom event matching the state's name\n\t\t\tdispatchEvent(state[i]);\n\t\t}\n\n\t\t// Clean up the remains of the previous state\n\t\twhile (stateBefore.length) {\n\t\t\tdocument.documentElement.classList.remove(stateBefore.pop());\n\t\t}\n\n\t\t// If the overview is active, re-activate it to update positions\n\t\tif (isOverview()) {\n\t\t\tactivateOverview();\n\t\t}\n\n\t\t// Find the current horizontal slide and any possible vertical slides\n\t\t// within it\n\t\tvar currentHorizontalSlide = horizontalSlides[indexh],\n\t\t    currentVerticalSlides = currentHorizontalSlide.querySelectorAll('section');\n\n\t\t// Store references to the previous and current slides\n\t\tcurrentSlide = currentVerticalSlides[indexv] || currentHorizontalSlide;\n\n\t\t// Show fragment, if specified\n\t\tif (typeof f !== 'undefined') {\n\t\t\tnavigateFragment(f);\n\t\t}\n\n\t\t// Dispatch an event if the slide changed\n\t\tvar slideChanged = indexh !== indexhBefore || indexv !== indexvBefore;\n\t\tif (slideChanged) {\n\t\t\tdispatchEvent('slidechanged', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'previousSlide': previousSlide,\n\t\t\t\t'currentSlide': currentSlide,\n\t\t\t\t'origin': o\n\t\t\t});\n\t\t} else {\n\t\t\t// Ensure that the previous slide is never the same as the current\n\t\t\tpreviousSlide = null;\n\t\t}\n\n\t\t// Solves an edge case where the previous slide maintains the\n\t\t// 'present' class when navigating between adjacent vertical\n\t\t// stacks\n\t\tif (previousSlide) {\n\t\t\tpreviousSlide.classList.remove('present');\n\n\t\t\t// Reset all slides upon navigate to home\n\t\t\t// Issue: #285\n\t\t\tif (document.querySelector(HOME_SLIDE_SELECTOR).classList.contains('present')) {\n\t\t\t\t// Launch async task\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tvar slides = toArray(document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.stack')),\n\t\t\t\t\t    i;\n\t\t\t\t\tfor (i in slides) {\n\t\t\t\t\t\tif (slides[i]) {\n\t\t\t\t\t\t\t// Reset stack\n\t\t\t\t\t\t\tsetPreviousVerticalIndex(slides[i], 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\n\t\t// Handle embedded content\n\t\tif (slideChanged) {\n\t\t\tstopEmbeddedContent(previousSlide);\n\t\t\tstartEmbeddedContent(currentSlide);\n\t\t}\n\n\t\tupdateControls();\n\t\tupdateProgress();\n\t\tupdateBackground();\n\t\tupdateParallax();\n\t\tupdateSlideNumber();\n\n\t\t// Update the URL hash\n\t\twriteURL();\n\n\t\tcueAutoSlide();\n\t}\n\n\t/**\n  * Syncs the presentation with the current DOM. Useful\n  * when new slides or control elements are added or when\n  * the configuration has changed.\n  */\n\tfunction sync() {\n\n\t\t// Subscribe to input\n\t\tremoveEventListeners();\n\t\taddEventListeners();\n\n\t\t// Force a layout to make sure the current config is accounted for\n\t\tlayout();\n\n\t\t// Reflect the current autoSlide value\n\t\tautoSlide = config.autoSlide;\n\n\t\t// Start auto-sliding if it's enabled\n\t\tcueAutoSlide();\n\n\t\t// Re-create the slide backgrounds\n\t\tcreateBackgrounds();\n\n\t\tsortAllFragments();\n\n\t\tupdateControls();\n\t\tupdateProgress();\n\t\tupdateBackground(true);\n\t\tupdateSlideNumber();\n\t}\n\n\t/**\n  * Resets all vertical slides so that only the first\n  * is visible.\n  */\n\tfunction resetVerticalSlides() {\n\n\t\tvar horizontalSlides = toArray(document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n\t\thorizontalSlides.forEach(function (horizontalSlide) {\n\n\t\t\tvar verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n\t\t\tverticalSlides.forEach(function (verticalSlide, y) {\n\n\t\t\t\tif (y > 0) {\n\t\t\t\t\tverticalSlide.classList.remove('present');\n\t\t\t\t\tverticalSlide.classList.remove('past');\n\t\t\t\t\tverticalSlide.classList.add('future');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n  * Sorts and formats all of fragments in the\n  * presentation.\n  */\n\tfunction sortAllFragments() {\n\n\t\tvar horizontalSlides = toArray(document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n\t\thorizontalSlides.forEach(function (horizontalSlide) {\n\n\t\t\tvar verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n\t\t\tverticalSlides.forEach(function (verticalSlide, y) {\n\n\t\t\t\tsortFragments(verticalSlide.querySelectorAll('.fragment'));\n\t\t\t});\n\n\t\t\tif (verticalSlides.length === 0) sortFragments(horizontalSlide.querySelectorAll('.fragment'));\n\t\t});\n\t}\n\n\t/**\n  * Updates one dimension of slides by showing the slide\n  * with the specified index.\n  *\n  * @param {String} selector A CSS selector that will fetch\n  * the group of slides we are working with\n  * @param {Number} index The index of the slide that should be\n  * shown\n  *\n  * @return {Number} The index of the slide that is now shown,\n  * might differ from the passed in index if it was out of\n  * bounds.\n  */\n\tfunction updateSlides(selector, index) {\n\n\t\t// Select all slides and convert the NodeList result to\n\t\t// an array\n\t\tvar slides = toArray(document.querySelectorAll(selector)),\n\t\t    slidesLength = slides.length;\n\n\t\tif (slidesLength) {\n\n\t\t\t// Should the index loop?\n\t\t\tif (config.loop) {\n\t\t\t\tindex %= slidesLength;\n\n\t\t\t\tif (index < 0) {\n\t\t\t\t\tindex = slidesLength + index;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Enforce max and minimum index bounds\n\t\t\tindex = Math.max(Math.min(index, slidesLength - 1), 0);\n\n\t\t\tfor (var i = 0; i < slidesLength; i++) {\n\t\t\t\tvar element = slides[i];\n\n\t\t\t\tvar reverse = config.rtl && !isVerticalSlide(element);\n\n\t\t\t\telement.classList.remove('past');\n\t\t\t\telement.classList.remove('present');\n\t\t\t\telement.classList.remove('future');\n\n\t\t\t\t// http://www.w3.org/html/wg/drafts/html/master/editing.html#the-hidden-attribute\n\t\t\t\telement.setAttribute('hidden', '');\n\n\t\t\t\tif (i < index) {\n\t\t\t\t\t// Any element previous to index is given the 'past' class\n\t\t\t\t\telement.classList.add(reverse ? 'future' : 'past');\n\n\t\t\t\t\tvar pastFragments = toArray(element.querySelectorAll('.fragment'));\n\n\t\t\t\t\t// Show all fragments on prior slides\n\t\t\t\t\twhile (pastFragments.length) {\n\t\t\t\t\t\tvar pastFragment = pastFragments.pop();\n\t\t\t\t\t\tpastFragment.classList.add('visible');\n\t\t\t\t\t\tpastFragment.classList.remove('current-fragment');\n\t\t\t\t\t}\n\t\t\t\t} else if (i > index) {\n\t\t\t\t\t// Any element subsequent to index is given the 'future' class\n\t\t\t\t\telement.classList.add(reverse ? 'past' : 'future');\n\n\t\t\t\t\tvar futureFragments = toArray(element.querySelectorAll('.fragment.visible'));\n\n\t\t\t\t\t// No fragments in future slides should be visible ahead of time\n\t\t\t\t\twhile (futureFragments.length) {\n\t\t\t\t\t\tvar futureFragment = futureFragments.pop();\n\t\t\t\t\t\tfutureFragment.classList.remove('visible');\n\t\t\t\t\t\tfutureFragment.classList.remove('current-fragment');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If this element contains vertical slides\n\t\t\t\tif (element.querySelector('section')) {\n\t\t\t\t\telement.classList.add('stack');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Mark the current slide as present\n\t\t\tslides[index].classList.add('present');\n\t\t\tslides[index].removeAttribute('hidden');\n\n\t\t\t// If this slide has a state associated with it, add it\n\t\t\t// onto the current state of the deck\n\t\t\tvar slideState = slides[index].getAttribute('data-state');\n\t\t\tif (slideState) {\n\t\t\t\tstate = state.concat(slideState.split(' '));\n\t\t\t}\n\t\t} else {\n\t\t\t// Since there are no slides we can't be anywhere beyond the\n\t\t\t// zeroth index\n\t\t\tindex = 0;\n\t\t}\n\n\t\treturn index;\n\t}\n\n\t/**\n  * Optimization method; hide all slides that are far away\n  * from the present slide.\n  */\n\tfunction updateSlidesVisibility() {\n\n\t\t// Select all slides and convert the NodeList result to\n\t\t// an array\n\t\tvar horizontalSlides = toArray(document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)),\n\t\t    horizontalSlidesLength = horizontalSlides.length,\n\t\t    distanceX,\n\t\t    distanceY;\n\n\t\tif (horizontalSlidesLength) {\n\n\t\t\t// The number of steps away from the present slide that will\n\t\t\t// be visible\n\t\t\tvar viewDistance = isOverview() ? 10 : config.viewDistance;\n\n\t\t\t// Limit view distance on weaker devices\n\t\t\tif (isMobileDevice) {\n\t\t\t\tviewDistance = isOverview() ? 6 : 1;\n\t\t\t}\n\n\t\t\tfor (var x = 0; x < horizontalSlidesLength; x++) {\n\t\t\t\tvar horizontalSlide = horizontalSlides[x];\n\n\t\t\t\tvar verticalSlides = toArray(horizontalSlide.querySelectorAll('section')),\n\t\t\t\t    verticalSlidesLength = verticalSlides.length;\n\n\t\t\t\t// Loops so that it measures 1 between the first and last slides\n\t\t\t\tdistanceX = Math.abs((indexh - x) % (horizontalSlidesLength - viewDistance)) || 0;\n\n\t\t\t\t// Show the horizontal slide if it's within the view distance\n\t\t\t\thorizontalSlide.style.display = distanceX > viewDistance ? 'none' : 'block';\n\n\t\t\t\tif (verticalSlidesLength) {\n\n\t\t\t\t\tvar oy = getPreviousVerticalIndex(horizontalSlide);\n\n\t\t\t\t\tfor (var y = 0; y < verticalSlidesLength; y++) {\n\t\t\t\t\t\tvar verticalSlide = verticalSlides[y];\n\n\t\t\t\t\t\tdistanceY = x === indexh ? Math.abs(indexv - y) : Math.abs(y - oy);\n\n\t\t\t\t\t\tverticalSlide.style.display = distanceX + distanceY > viewDistance ? 'none' : 'block';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Updates the progress bar to reflect the current slide.\n  */\n\tfunction updateProgress() {\n\n\t\t// Update progress if enabled\n\t\tif (config.progress && dom.progress) {\n\n\t\t\tvar horizontalSlides = toArray(document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n\n\t\t\t// The number of past and total slides\n\t\t\tvar totalCount = document.querySelectorAll(SLIDES_SELECTOR + ':not(.stack)').length;\n\t\t\tvar pastCount = 0;\n\n\t\t\t// Step through all slides and count the past ones\n\t\t\tmainLoop: for (var i = 0; i < horizontalSlides.length; i++) {\n\n\t\t\t\tvar horizontalSlide = horizontalSlides[i];\n\t\t\t\tvar verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n\n\t\t\t\tfor (var j = 0; j < verticalSlides.length; j++) {\n\n\t\t\t\t\t// Stop as soon as we arrive at the present\n\t\t\t\t\tif (verticalSlides[j].classList.contains('present')) {\n\t\t\t\t\t\tbreak mainLoop;\n\t\t\t\t\t}\n\n\t\t\t\t\tpastCount++;\n\t\t\t\t}\n\n\t\t\t\t// Stop as soon as we arrive at the present\n\t\t\t\tif (horizontalSlide.classList.contains('present')) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// Don't count the wrapping section for vertical slides\n\t\t\t\tif (horizontalSlide.classList.contains('stack') === false) {\n\t\t\t\t\tpastCount++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdom.progressbar.style.width = pastCount / (totalCount - 1) * window.innerWidth + 'px';\n\t\t}\n\t}\n\n\t/**\n  * Updates the slide number div to reflect the current slide.\n  */\n\tfunction updateSlideNumber() {\n\n\t\t// Update slide number if enabled\n\t\tif (config.slideNumber && dom.slideNumber) {\n\n\t\t\t// Display the number of the page using 'indexh - indexv' format\n\t\t\tvar indexString = indexh;\n\t\t\tif (indexv > 0) {\n\t\t\t\tindexString += ' - ' + indexv;\n\t\t\t}\n\n\t\t\tdom.slideNumber.innerHTML = indexString;\n\t\t}\n\t}\n\n\t/**\n  * Updates the state of all control/navigation arrows.\n  */\n\tfunction updateControls() {\n\n\t\tvar routes = availableRoutes();\n\t\tvar fragments = availableFragments();\n\n\t\t// Remove the 'enabled' class from all directions\n\t\tdom.controlsLeft.concat(dom.controlsRight).concat(dom.controlsUp).concat(dom.controlsDown).concat(dom.controlsPrev).concat(dom.controlsNext).forEach(function (node) {\n\t\t\tnode.classList.remove('enabled');\n\t\t\tnode.classList.remove('fragmented');\n\t\t});\n\n\t\t// Add the 'enabled' class to the available routes\n\t\tif (routes.left) dom.controlsLeft.forEach(function (el) {\n\t\t\tel.classList.add('enabled');\n\t\t});\n\t\tif (routes.right) dom.controlsRight.forEach(function (el) {\n\t\t\tel.classList.add('enabled');\n\t\t});\n\t\tif (routes.up) dom.controlsUp.forEach(function (el) {\n\t\t\tel.classList.add('enabled');\n\t\t});\n\t\tif (routes.down) dom.controlsDown.forEach(function (el) {\n\t\t\tel.classList.add('enabled');\n\t\t});\n\n\t\t// Prev/next buttons\n\t\tif (routes.left || routes.up) dom.controlsPrev.forEach(function (el) {\n\t\t\tel.classList.add('enabled');\n\t\t});\n\t\tif (routes.right || routes.down) dom.controlsNext.forEach(function (el) {\n\t\t\tel.classList.add('enabled');\n\t\t});\n\n\t\t// Highlight fragment directions\n\t\tif (currentSlide) {\n\n\t\t\t// Always apply fragment decorator to prev/next buttons\n\t\t\tif (fragments.prev) dom.controlsPrev.forEach(function (el) {\n\t\t\t\tel.classList.add('fragmented', 'enabled');\n\t\t\t});\n\t\t\tif (fragments.next) dom.controlsNext.forEach(function (el) {\n\t\t\t\tel.classList.add('fragmented', 'enabled');\n\t\t\t});\n\n\t\t\t// Apply fragment decorators to directional buttons based on\n\t\t\t// what slide axis they are in\n\t\t\tif (isVerticalSlide(currentSlide)) {\n\t\t\t\tif (fragments.prev) dom.controlsUp.forEach(function (el) {\n\t\t\t\t\tel.classList.add('fragmented', 'enabled');\n\t\t\t\t});\n\t\t\t\tif (fragments.next) dom.controlsDown.forEach(function (el) {\n\t\t\t\t\tel.classList.add('fragmented', 'enabled');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (fragments.prev) dom.controlsLeft.forEach(function (el) {\n\t\t\t\t\tel.classList.add('fragmented', 'enabled');\n\t\t\t\t});\n\t\t\t\tif (fragments.next) dom.controlsRight.forEach(function (el) {\n\t\t\t\t\tel.classList.add('fragmented', 'enabled');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Updates the background elements to reflect the current\n  * slide.\n  *\n  * @param {Boolean} includeAll If true, the backgrounds of\n  * all vertical slides (not just the present) will be updated.\n  */\n\tfunction updateBackground(includeAll) {\n\n\t\tvar currentBackground = null;\n\n\t\t// Reverse past/future classes when in RTL mode\n\t\tvar horizontalPast = config.rtl ? 'future' : 'past',\n\t\t    horizontalFuture = config.rtl ? 'past' : 'future';\n\n\t\t// Update the classes of all backgrounds to match the\n\t\t// states of their slides (past/present/future)\n\t\ttoArray(dom.background.childNodes).forEach(function (backgroundh, h) {\n\n\t\t\tif (h < indexh) {\n\t\t\t\tbackgroundh.className = 'slide-background ' + horizontalPast;\n\t\t\t} else if (h > indexh) {\n\t\t\t\tbackgroundh.className = 'slide-background ' + horizontalFuture;\n\t\t\t} else {\n\t\t\t\tbackgroundh.className = 'slide-background present';\n\n\t\t\t\t// Store a reference to the current background element\n\t\t\t\tcurrentBackground = backgroundh;\n\t\t\t}\n\n\t\t\tif (includeAll || h === indexh) {\n\t\t\t\ttoArray(backgroundh.childNodes).forEach(function (backgroundv, v) {\n\n\t\t\t\t\tif (v < indexv) {\n\t\t\t\t\t\tbackgroundv.className = 'slide-background past';\n\t\t\t\t\t} else if (v > indexv) {\n\t\t\t\t\t\tbackgroundv.className = 'slide-background future';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbackgroundv.className = 'slide-background present';\n\n\t\t\t\t\t\t// Only if this is the present horizontal and vertical slide\n\t\t\t\t\t\tif (h === indexh) currentBackground = backgroundv;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Don't transition between identical backgrounds. This\n\t\t// prevents unwanted flicker.\n\t\tif (currentBackground) {\n\t\t\tvar previousBackgroundHash = previousBackground ? previousBackground.getAttribute('data-background-hash') : null;\n\t\t\tvar currentBackgroundHash = currentBackground.getAttribute('data-background-hash');\n\t\t\tif (currentBackgroundHash && currentBackgroundHash === previousBackgroundHash && currentBackground !== previousBackground) {\n\t\t\t\tdom.background.classList.add('no-transition');\n\t\t\t}\n\n\t\t\tpreviousBackground = currentBackground;\n\t\t}\n\n\t\t// Allow the first background to apply without transition\n\t\tsetTimeout(function () {\n\t\t\tdom.background.classList.remove('no-transition');\n\t\t}, 1);\n\t}\n\n\t/**\n  * Updates the position of the parallax background based\n  * on the current slide index.\n  */\n\tfunction updateParallax() {\n\n\t\tif (config.parallaxBackgroundImage) {\n\n\t\t\tvar horizontalSlides = document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),\n\t\t\t    verticalSlides = document.querySelectorAll(VERTICAL_SLIDES_SELECTOR);\n\n\t\t\tvar backgroundSize = dom.background.style.backgroundSize.split(' '),\n\t\t\t    backgroundWidth,\n\t\t\t    backgroundHeight;\n\n\t\t\tif (backgroundSize.length === 1) {\n\t\t\t\tbackgroundWidth = backgroundHeight = parseInt(backgroundSize[0], 10);\n\t\t\t} else {\n\t\t\t\tbackgroundWidth = parseInt(backgroundSize[0], 10);\n\t\t\t\tbackgroundHeight = parseInt(backgroundSize[1], 10);\n\t\t\t}\n\n\t\t\tvar slideWidth = dom.background.offsetWidth;\n\t\t\tvar horizontalSlideCount = horizontalSlides.length;\n\t\t\tvar horizontalOffset = -(backgroundWidth - slideWidth) / (horizontalSlideCount - 1) * indexh;\n\n\t\t\tvar slideHeight = dom.background.offsetHeight;\n\t\t\tvar verticalSlideCount = verticalSlides.length;\n\t\t\tvar verticalOffset = verticalSlideCount > 0 ? -(backgroundHeight - slideHeight) / (verticalSlideCount - 1) * indexv : 0;\n\n\t\t\tdom.background.style.backgroundPosition = horizontalOffset + 'px ' + verticalOffset + 'px';\n\t\t}\n\t}\n\n\t/**\n  * Determine what available routes there are for navigation.\n  *\n  * @return {Object} containing four booleans: left/right/up/down\n  */\n\tfunction availableRoutes() {\n\n\t\tvar horizontalSlides = document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),\n\t\t    verticalSlides = document.querySelectorAll(VERTICAL_SLIDES_SELECTOR);\n\n\t\tvar routes = {\n\t\t\tleft: indexh > 0 || config.loop,\n\t\t\tright: indexh < horizontalSlides.length - 1 || config.loop,\n\t\t\tup: indexv > 0,\n\t\t\tdown: indexv < verticalSlides.length - 1\n\t\t};\n\n\t\t// reverse horizontal controls for rtl\n\t\tif (config.rtl) {\n\t\t\tvar left = routes.left;\n\t\t\troutes.left = routes.right;\n\t\t\troutes.right = left;\n\t\t}\n\n\t\treturn routes;\n\t}\n\n\t/**\n  * Returns an object describing the available fragment\n  * directions.\n  *\n  * @return {Object} two boolean properties: prev/next\n  */\n\tfunction availableFragments() {\n\n\t\tif (currentSlide && config.fragments) {\n\t\t\tvar fragments = currentSlide.querySelectorAll('.fragment');\n\t\t\tvar hiddenFragments = currentSlide.querySelectorAll('.fragment:not(.visible)');\n\n\t\t\treturn {\n\t\t\t\tprev: fragments.length - hiddenFragments.length > 0,\n\t\t\t\tnext: !!hiddenFragments.length\n\t\t\t};\n\t\t} else {\n\t\t\treturn { prev: false, next: false };\n\t\t}\n\t}\n\n\t/**\n  * Start playback of any embedded content inside of\n  * the targeted slide.\n  */\n\tfunction startEmbeddedContent(slide) {\n\n\t\tif (slide && !isSpeakerNotes()) {\n\t\t\t// HTML5 media elements\n\t\t\ttoArray(slide.querySelectorAll('video, audio')).forEach(function (el) {\n\t\t\t\tif (el.hasAttribute('data-autoplay')) {\n\t\t\t\t\tel.play();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// iframe embeds\n\t\t\ttoArray(slide.querySelectorAll('iframe')).forEach(function (el) {\n\t\t\t\tel.contentWindow.postMessage('slide:start', '*');\n\t\t\t});\n\n\t\t\t// YouTube embeds\n\t\t\ttoArray(slide.querySelectorAll('iframe[src*=\"youtube.com/embed/\"]')).forEach(function (el) {\n\t\t\t\tif (el.hasAttribute('data-autoplay')) {\n\t\t\t\t\tel.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n  * Stop playback of any embedded content inside of\n  * the targeted slide.\n  */\n\tfunction stopEmbeddedContent(slide) {\n\n\t\tif (slide) {\n\t\t\t// HTML5 media elements\n\t\t\ttoArray(slide.querySelectorAll('video, audio')).forEach(function (el) {\n\t\t\t\tif (!el.hasAttribute('data-ignore')) {\n\t\t\t\t\tel.pause();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// iframe embeds\n\t\t\ttoArray(slide.querySelectorAll('iframe')).forEach(function (el) {\n\t\t\t\tel.contentWindow.postMessage('slide:stop', '*');\n\t\t\t});\n\n\t\t\t// YouTube embeds\n\t\t\ttoArray(slide.querySelectorAll('iframe[src*=\"youtube.com/embed/\"]')).forEach(function (el) {\n\t\t\t\tif (!el.hasAttribute('data-ignore') && typeof el.contentWindow.postMessage === 'function') {\n\t\t\t\t\tel.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n  * Checks if this presentation is running inside of the\n  * speaker notes window.\n  */\n\tfunction isSpeakerNotes() {\n\n\t\treturn !!window.location.search.match(/receiver/gi);\n\t}\n\n\t/**\n  * Reads the current URL (hash) and navigates accordingly.\n  */\n\tfunction readURL() {\n\n\t\tvar hash = window.location.hash;\n\n\t\t// Attempt to parse the hash as either an index or name\n\t\tvar bits = hash.slice(2).split('/'),\n\t\t    name = hash.replace(/#|\\//gi, '');\n\n\t\t// If the first bit is invalid and there is a name we can\n\t\t// assume that this is a named link\n\t\tif (isNaN(parseInt(bits[0], 10)) && name.length) {\n\t\t\t// Find the slide with the specified name\n\t\t\tvar element = document.querySelector('#' + name);\n\n\t\t\tif (element) {\n\t\t\t\t// Find the position of the named slide and navigate to it\n\t\t\t\tvar indices = Reveal.getIndices(element);\n\t\t\t\tslide(indices.h, indices.v);\n\t\t\t}\n\t\t\t// If the slide doesn't exist, navigate to the current slide\n\t\t\telse {\n\t\t\t\t\tslide(indexh || 0, indexv || 0);\n\t\t\t\t}\n\t\t} else {\n\t\t\t// Read the index components of the hash\n\t\t\tvar h = parseInt(bits[0], 10) || 0,\n\t\t\t    v = parseInt(bits[1], 10) || 0;\n\n\t\t\tif (h !== indexh || v !== indexv) {\n\t\t\t\tslide(h, v);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Updates the page URL (hash) to reflect the current\n  * state.\n  *\n  * @param {Number} delay The time in ms to wait before\n  * writing the hash\n  */\n\tfunction writeURL(delay) {\n\n\t\tif (config.history) {\n\n\t\t\t// Make sure there's never more than one timeout running\n\t\t\tclearTimeout(writeURLTimeout);\n\n\t\t\t// If a delay is specified, timeout this call\n\t\t\tif (typeof delay === 'number') {\n\t\t\t\twriteURLTimeout = setTimeout(writeURL, delay);\n\t\t\t} else {\n\t\t\t\tvar url = '/';\n\n\t\t\t\t// If the current slide has an ID, use that as a named link\n\t\t\t\tif (currentSlide && typeof currentSlide.getAttribute('id') === 'string') {\n\t\t\t\t\turl = '/' + currentSlide.getAttribute('id');\n\t\t\t\t}\n\t\t\t\t// Otherwise use the /h/v index\n\t\t\t\telse {\n\t\t\t\t\t\tif (indexh > 0 || indexv > 0) url += indexh;\n\t\t\t\t\t\tif (indexv > 0) url += '/' + indexv;\n\t\t\t\t\t}\n\n\t\t\t\twindow.location.hash = url;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Retrieves the h/v location of the current, or specified,\n  * slide.\n  *\n  * @param {HTMLElement} slide If specified, the returned\n  * index will be for this slide rather than the currently\n  * active one\n  *\n  * @return {Object} { h: <int>, v: <int>, f: <int> }\n  */\n\tfunction getIndices(slide) {\n\n\t\t// By default, return the current indices\n\t\tvar h = indexh,\n\t\t    v = indexv,\n\t\t    f;\n\n\t\t// If a slide is specified, return the indices of that slide\n\t\tif (slide) {\n\t\t\tvar isVertical = isVerticalSlide(slide);\n\t\t\tvar slideh = isVertical ? slide.parentNode : slide;\n\n\t\t\t// Select all horizontal slides\n\t\t\tvar horizontalSlides = toArray(document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n\n\t\t\t// Now that we know which the horizontal slide is, get its index\n\t\t\th = Math.max(horizontalSlides.indexOf(slideh), 0);\n\n\t\t\t// If this is a vertical slide, grab the vertical index\n\t\t\tif (isVertical) {\n\t\t\t\tv = Math.max(toArray(slide.parentNode.querySelectorAll('section')).indexOf(slide), 0);\n\t\t\t}\n\t\t}\n\n\t\tif (!slide && currentSlide) {\n\t\t\tvar hasFragments = currentSlide.querySelectorAll('.fragment').length > 0;\n\t\t\tif (hasFragments) {\n\t\t\t\tvar visibleFragments = currentSlide.querySelectorAll('.fragment.visible');\n\t\t\t\tf = visibleFragments.length - 1;\n\t\t\t}\n\t\t}\n\n\t\treturn { h: h, v: v, f: f };\n\t}\n\n\t/**\n  * Return a sorted fragments list, ordered by an increasing\n  * \"data-fragment-index\" attribute.\n  *\n  * Fragments will be revealed in the order that they are returned by\n  * this function, so you can use the index attributes to control the\n  * order of fragment appearance.\n  *\n  * To maintain a sensible default fragment order, fragments are presumed\n  * to be passed in document order. This function adds a \"fragment-index\"\n  * attribute to each node if such an attribute is not already present,\n  * and sets that attribute to an integer value which is the position of\n  * the fragment within the fragments list.\n  */\n\tfunction sortFragments(fragments) {\n\n\t\tfragments = toArray(fragments);\n\n\t\tvar ordered = [],\n\t\t    unordered = [],\n\t\t    sorted = [];\n\n\t\t// Group ordered and unordered elements\n\t\tfragments.forEach(function (fragment, i) {\n\t\t\tif (fragment.hasAttribute('data-fragment-index')) {\n\t\t\t\tvar index = parseInt(fragment.getAttribute('data-fragment-index'), 10);\n\n\t\t\t\tif (!ordered[index]) {\n\t\t\t\t\tordered[index] = [];\n\t\t\t\t}\n\n\t\t\t\tordered[index].push(fragment);\n\t\t\t} else {\n\t\t\t\tunordered.push([fragment]);\n\t\t\t}\n\t\t});\n\n\t\t// Append fragments without explicit indices in their\n\t\t// DOM order\n\t\tordered = ordered.concat(unordered);\n\n\t\t// Manually count the index up per group to ensure there\n\t\t// are no gaps\n\t\tvar index = 0;\n\n\t\t// Push all fragments in their sorted order to an array,\n\t\t// this flattens the groups\n\t\tordered.forEach(function (group) {\n\t\t\tgroup.forEach(function (fragment) {\n\t\t\t\tsorted.push(fragment);\n\t\t\t\tfragment.setAttribute('data-fragment-index', index);\n\t\t\t});\n\n\t\t\tindex++;\n\t\t});\n\n\t\treturn sorted;\n\t}\n\n\t/**\n  * Navigate to the specified slide fragment.\n  *\n  * @param {Number} index The index of the fragment that\n  * should be shown, -1 means all are invisible\n  * @param {Number} offset Integer offset to apply to the\n  * fragment index\n  *\n  * @return {Boolean} true if a change was made in any\n  * fragments visibility as part of this call\n  */\n\tfunction navigateFragment(index, offset) {\n\n\t\tif (currentSlide && config.fragments) {\n\n\t\t\tvar fragments = sortFragments(currentSlide.querySelectorAll('.fragment'));\n\t\t\tif (fragments.length) {\n\n\t\t\t\t// If no index is specified, find the current\n\t\t\t\tif (typeof index !== 'number') {\n\t\t\t\t\tvar lastVisibleFragment = sortFragments(currentSlide.querySelectorAll('.fragment.visible')).pop();\n\n\t\t\t\t\tif (lastVisibleFragment) {\n\t\t\t\t\t\tindex = parseInt(lastVisibleFragment.getAttribute('data-fragment-index') || 0, 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If an offset is specified, apply it to the index\n\t\t\t\tif (typeof offset === 'number') {\n\t\t\t\t\tindex += offset;\n\t\t\t\t}\n\n\t\t\t\tvar fragmentsShown = [],\n\t\t\t\t    fragmentsHidden = [];\n\n\t\t\t\ttoArray(fragments).forEach(function (element, i) {\n\n\t\t\t\t\tif (element.hasAttribute('data-fragment-index')) {\n\t\t\t\t\t\ti = parseInt(element.getAttribute('data-fragment-index'), 10);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Visible fragments\n\t\t\t\t\tif (i <= index) {\n\t\t\t\t\t\tif (!element.classList.contains('visible')) fragmentsShown.push(element);\n\t\t\t\t\t\telement.classList.add('visible');\n\t\t\t\t\t\telement.classList.remove('current-fragment');\n\n\t\t\t\t\t\tif (i === index) {\n\t\t\t\t\t\t\telement.classList.add('current-fragment');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Hidden fragments\n\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (element.classList.contains('visible')) fragmentsHidden.push(element);\n\t\t\t\t\t\t\telement.classList.remove('visible');\n\t\t\t\t\t\t\telement.classList.remove('current-fragment');\n\t\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (fragmentsHidden.length) {\n\t\t\t\t\tdispatchEvent('fragmenthidden', { fragment: fragmentsHidden[0], fragments: fragmentsHidden });\n\t\t\t\t}\n\n\t\t\t\tif (fragmentsShown.length) {\n\t\t\t\t\tdispatchEvent('fragmentshown', { fragment: fragmentsShown[0], fragments: fragmentsShown });\n\t\t\t\t}\n\n\t\t\t\tupdateControls();\n\n\t\t\t\treturn !!(fragmentsShown.length || fragmentsHidden.length);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n  * Navigate to the next slide fragment.\n  *\n  * @return {Boolean} true if there was a next fragment,\n  * false otherwise\n  */\n\tfunction nextFragment() {\n\n\t\treturn navigateFragment(null, 1);\n\t}\n\n\t/**\n  * Navigate to the previous slide fragment.\n  *\n  * @return {Boolean} true if there was a previous fragment,\n  * false otherwise\n  */\n\tfunction previousFragment() {\n\n\t\treturn navigateFragment(null, -1);\n\t}\n\n\t/**\n  * Cues a new automated slide if enabled in the config.\n  */\n\tfunction cueAutoSlide() {\n\n\t\tcancelAutoSlide();\n\n\t\tif (currentSlide) {\n\n\t\t\tvar parentAutoSlide = currentSlide.parentNode ? currentSlide.parentNode.getAttribute('data-autoslide') : null;\n\t\t\tvar slideAutoSlide = currentSlide.getAttribute('data-autoslide');\n\n\t\t\t// Pick value in the following priority order:\n\t\t\t// 1. Current slide's data-autoslide\n\t\t\t// 2. Parent slide's data-autoslide\n\t\t\t// 3. Global autoSlide setting\n\t\t\tif (slideAutoSlide) {\n\t\t\t\tautoSlide = parseInt(slideAutoSlide, 10);\n\t\t\t} else if (parentAutoSlide) {\n\t\t\t\tautoSlide = parseInt(parentAutoSlide, 10);\n\t\t\t} else {\n\t\t\t\tautoSlide = config.autoSlide;\n\t\t\t}\n\n\t\t\t// If there are media elements with data-autoplay,\n\t\t\t// automatically set the autoSlide duration to the\n\t\t\t// length of that media\n\t\t\ttoArray(currentSlide.querySelectorAll('video, audio')).forEach(function (el) {\n\t\t\t\tif (el.hasAttribute('data-autoplay')) {\n\t\t\t\t\tif (autoSlide && el.duration * 1000 > autoSlide) {\n\t\t\t\t\t\tautoSlide = el.duration * 1000 + 1000;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Cue the next auto-slide if:\n\t\t\t// - There is an autoSlide value\n\t\t\t// - Auto-sliding isn't paused by the user\n\t\t\t// - The presentation isn't paused\n\t\t\t// - The overview isn't active\n\t\t\t// - The presentation isn't over\n\t\t\tif (autoSlide && !autoSlidePaused && !isPaused() && !isOverview() && (!Reveal.isLastSlide() || config.loop === true)) {\n\t\t\t\tautoSlideTimeout = setTimeout(navigateNext, autoSlide);\n\t\t\t\tautoSlideStartTime = Date.now();\n\t\t\t}\n\n\t\t\tif (autoSlidePlayer) {\n\t\t\t\tautoSlidePlayer.setPlaying(autoSlideTimeout !== -1);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Cancels any ongoing request to auto-slide.\n  */\n\tfunction cancelAutoSlide() {\n\n\t\tclearTimeout(autoSlideTimeout);\n\t\tautoSlideTimeout = -1;\n\t}\n\n\tfunction pauseAutoSlide() {\n\n\t\tautoSlidePaused = true;\n\t\tclearTimeout(autoSlideTimeout);\n\n\t\tif (autoSlidePlayer) {\n\t\t\tautoSlidePlayer.setPlaying(false);\n\t\t}\n\t}\n\n\tfunction resumeAutoSlide() {\n\n\t\tautoSlidePaused = false;\n\t\tcueAutoSlide();\n\t}\n\n\tfunction navigateLeft() {\n\n\t\t// Reverse for RTL\n\t\tif (config.rtl) {\n\t\t\tif ((isOverview() || nextFragment() === false) && availableRoutes().left) {\n\t\t\t\tslide(indexh + 1);\n\t\t\t}\n\t\t}\n\t\t// Normal navigation\n\t\telse if ((isOverview() || previousFragment() === false) && availableRoutes().left) {\n\t\t\t\tslide(indexh - 1);\n\t\t\t}\n\t}\n\n\tfunction navigateRight() {\n\n\t\t// Reverse for RTL\n\t\tif (config.rtl) {\n\t\t\tif ((isOverview() || previousFragment() === false) && availableRoutes().right) {\n\t\t\t\tslide(indexh - 1);\n\t\t\t}\n\t\t}\n\t\t// Normal navigation\n\t\telse if ((isOverview() || nextFragment() === false) && availableRoutes().right) {\n\t\t\t\tslide(indexh + 1);\n\t\t\t}\n\t}\n\n\tfunction navigateUp() {\n\n\t\t// Prioritize hiding fragments\n\t\tif ((isOverview() || previousFragment() === false) && availableRoutes().up) {\n\t\t\tslide(indexh, indexv - 1);\n\t\t}\n\t}\n\n\tfunction navigateDown() {\n\n\t\t// Prioritize revealing fragments\n\t\tif ((isOverview() || nextFragment() === false) && availableRoutes().down) {\n\t\t\tslide(indexh, indexv + 1);\n\t\t}\n\t}\n\n\t/**\n  * Navigates backwards, prioritized in the following order:\n  * 1) Previous fragment\n  * 2) Previous vertical slide\n  * 3) Previous horizontal slide\n  */\n\tfunction navigatePrev() {\n\n\t\t// Prioritize revealing fragments\n\t\tif (previousFragment() === false) {\n\t\t\tif (availableRoutes().up) {\n\t\t\t\tnavigateUp();\n\t\t\t} else {\n\t\t\t\t// Fetch the previous horizontal slide, if there is one\n\t\t\t\tvar previousSlide = document.querySelector(HORIZONTAL_SLIDES_SELECTOR + '.past:nth-child(' + indexh + ')');\n\n\t\t\t\tif (previousSlide) {\n\t\t\t\t\tvar v = previousSlide.querySelectorAll('section').length - 1 || undefined;\n\t\t\t\t\tvar h = indexh - 1;\n\t\t\t\t\tslide(h, v);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Same as #navigatePrev() but navigates forwards.\n  */\n\tfunction navigateNext() {\n\n\t\t// Prioritize revealing fragments\n\t\tif (nextFragment() === false) {\n\t\t\tavailableRoutes().down ? navigateDown() : navigateRight();\n\t\t}\n\n\t\t// If auto-sliding is enabled we need to cue up\n\t\t// another timeout\n\t\tcueAutoSlide();\n\t}\n\n\t// --------------------------------------------------------------------//\n\t// ----------------------------- EVENTS -------------------------------//\n\t// --------------------------------------------------------------------//\n\n\t/**\n  * Called by all event handlers that are based on user\n  * input.\n  */\n\tfunction onUserInput(event) {\n\n\t\tif (config.autoSlideStoppable) {\n\t\t\tpauseAutoSlide();\n\t\t}\n\t}\n\n\t/**\n  * Handler for the document level 'keydown' event.\n  */\n\tfunction onDocumentKeyDown(event) {\n\n\t\tonUserInput(event);\n\n\t\t// Check if there's a focused element that could be using\n\t\t// the keyboard\n\t\tvar activeElement = document.activeElement;\n\t\tvar hasFocus = !!(document.activeElement && (document.activeElement.type || document.activeElement.href || document.activeElement.contentEditable !== 'inherit'));\n\n\t\t// Disregard the event if there's a focused element or a\n\t\t// keyboard modifier key is present\n\t\tif (hasFocus || event.shiftKey && event.keyCode !== 32 || event.altKey || event.ctrlKey || event.metaKey) return;\n\n\t\t// While paused only allow \"unpausing\" keyboard events (b and .)\n\t\tif (isPaused() && [66, 190, 191].indexOf(event.keyCode) === -1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar triggered = false;\n\n\t\t// 1. User defined key bindings\n\t\tif (_typeof(config.keyboard) === 'object') {\n\n\t\t\tfor (var key in config.keyboard) {\n\n\t\t\t\t// Check if this binding matches the pressed key\n\t\t\t\tif (parseInt(key, 10) === event.keyCode) {\n\n\t\t\t\t\tvar value = config.keyboard[key];\n\n\t\t\t\t\t// Callback function\n\t\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\t\tvalue.apply(null, [event]);\n\t\t\t\t\t}\n\t\t\t\t\t// String shortcuts to reveal.js API\n\t\t\t\t\telse if (typeof value === 'string' && typeof Reveal[value] === 'function') {\n\t\t\t\t\t\t\tReveal[value].call();\n\t\t\t\t\t\t}\n\n\t\t\t\t\ttriggered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// 2. System defined key bindings\n\t\tif (triggered === false) {\n\n\t\t\t// Assume true and try to prove false\n\t\t\ttriggered = true;\n\n\t\t\tswitch (event.keyCode) {\n\t\t\t\t// p, page up\n\t\t\t\tcase 80:case 33:\n\t\t\t\t\tnavigatePrev();break;\n\t\t\t\t// n, page down\n\t\t\t\tcase 78:case 34:\n\t\t\t\t\tnavigateNext();break;\n\t\t\t\t// h, left\n\t\t\t\tcase 72:case 37:\n\t\t\t\t\tnavigateLeft();break;\n\t\t\t\t// l, right\n\t\t\t\tcase 76:case 39:\n\t\t\t\t\tnavigateRight();break;\n\t\t\t\t// k, up\n\t\t\t\tcase 75:case 38:\n\t\t\t\t\tnavigateUp();break;\n\t\t\t\t// j, down\n\t\t\t\tcase 74:case 40:\n\t\t\t\t\tnavigateDown();break;\n\t\t\t\t// home\n\t\t\t\tcase 36:\n\t\t\t\t\tslide(0);break;\n\t\t\t\t// end\n\t\t\t\tcase 35:\n\t\t\t\t\tslide(Number.MAX_VALUE);break;\n\t\t\t\t// space\n\t\t\t\tcase 32:\n\t\t\t\t\tisOverview() ? deactivateOverview() : event.shiftKey ? navigatePrev() : navigateNext();break;\n\t\t\t\t// return\n\t\t\t\tcase 13:\n\t\t\t\t\tisOverview() ? deactivateOverview() : triggered = false;break;\n\t\t\t\t// b, period, Logitech presenter tools \"black screen\" button\n\t\t\t\tcase 66:case 190:case 191:\n\t\t\t\t\ttogglePause();break;\n\t\t\t\t// f\n\t\t\t\tcase 70:\n\t\t\t\t\tenterFullscreen();break;\n\t\t\t\tdefault:\n\t\t\t\t\ttriggered = false;\n\t\t\t}\n\t\t}\n\n\t\t// If the input resulted in a triggered action we should prevent\n\t\t// the browsers default behavior\n\t\tif (triggered) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t\t// ESC or O key\n\t\telse if ((event.keyCode === 27 || event.keyCode === 79) && features.transforms3d) {\n\t\t\t\tif (dom.preview) {\n\t\t\t\t\tclosePreview();\n\t\t\t\t} else {\n\t\t\t\t\ttoggleOverview();\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t// If auto-sliding is enabled we need to cue up\n\t\t// another timeout\n\t\tcueAutoSlide();\n\t}\n\n\t/**\n  * Handler for the 'touchstart' event, enables support for\n  * swipe and pinch gestures.\n  */\n\tfunction onTouchStart(event) {\n\n\t\ttouch.startX = event.touches[0].clientX;\n\t\ttouch.startY = event.touches[0].clientY;\n\t\ttouch.startCount = event.touches.length;\n\n\t\t// If there's two touches we need to memorize the distance\n\t\t// between those two points to detect pinching\n\t\tif (event.touches.length === 2 && config.overview) {\n\t\t\ttouch.startSpan = distanceBetween({\n\t\t\t\tx: event.touches[1].clientX,\n\t\t\t\ty: event.touches[1].clientY\n\t\t\t}, {\n\t\t\t\tx: touch.startX,\n\t\t\t\ty: touch.startY\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n  * Handler for the 'touchmove' event.\n  */\n\tfunction onTouchMove(event) {\n\n\t\t// Each touch should only trigger one action\n\t\tif (!touch.captured) {\n\t\t\tonUserInput(event);\n\n\t\t\tvar currentX = event.touches[0].clientX;\n\t\t\tvar currentY = event.touches[0].clientY;\n\n\t\t\t// If the touch started with two points and still has\n\t\t\t// two active touches; test for the pinch gesture\n\t\t\tif (event.touches.length === 2 && touch.startCount === 2 && config.overview) {\n\n\t\t\t\t// The current distance in pixels between the two touch points\n\t\t\t\tvar currentSpan = distanceBetween({\n\t\t\t\t\tx: event.touches[1].clientX,\n\t\t\t\t\ty: event.touches[1].clientY\n\t\t\t\t}, {\n\t\t\t\t\tx: touch.startX,\n\t\t\t\t\ty: touch.startY\n\t\t\t\t});\n\n\t\t\t\t// If the span is larger than the desire amount we've got\n\t\t\t\t// ourselves a pinch\n\t\t\t\tif (Math.abs(touch.startSpan - currentSpan) > touch.threshold) {\n\t\t\t\t\ttouch.captured = true;\n\n\t\t\t\t\tif (currentSpan < touch.startSpan) {\n\t\t\t\t\t\tactivateOverview();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdeactivateOverview();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\t// There was only one touch point, look for a swipe\n\t\t\telse if (event.touches.length === 1 && touch.startCount !== 2) {\n\n\t\t\t\t\tvar deltaX = currentX - touch.startX,\n\t\t\t\t\t    deltaY = currentY - touch.startY;\n\n\t\t\t\t\tif (deltaX > touch.threshold && Math.abs(deltaX) > Math.abs(deltaY)) {\n\t\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\t\tnavigateLeft();\n\t\t\t\t\t} else if (deltaX < -touch.threshold && Math.abs(deltaX) > Math.abs(deltaY)) {\n\t\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\t\tnavigateRight();\n\t\t\t\t\t} else if (deltaY > touch.threshold) {\n\t\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\t\tnavigateUp();\n\t\t\t\t\t} else if (deltaY < -touch.threshold) {\n\t\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\t\tnavigateDown();\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we're embedded, only block touch events if they have\n\t\t\t\t\t// triggered an action\n\t\t\t\t\tif (config.embedded) {\n\t\t\t\t\t\tif (touch.captured || isVerticalSlide(currentSlide)) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Not embedded? Block them all to avoid needless tossing\n\t\t\t\t\t// around of the viewport in iOS\n\t\t\t\t\telse {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\t// There's a bug with swiping on some Android devices unless\n\t\t// the default action is always prevented\n\t\telse if (navigator.userAgent.match(/android/gi)) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t}\n\n\t/**\n  * Handler for the 'touchend' event.\n  */\n\tfunction onTouchEnd(event) {\n\n\t\ttouch.captured = false;\n\t}\n\n\t/**\n  * Convert pointer down to touch start.\n  */\n\tfunction onPointerDown(event) {\n\n\t\tif (event.pointerType === event.MSPOINTER_TYPE_TOUCH) {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchStart(event);\n\t\t}\n\t}\n\n\t/**\n  * Convert pointer move to touch move.\n  */\n\tfunction onPointerMove(event) {\n\n\t\tif (event.pointerType === event.MSPOINTER_TYPE_TOUCH) {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchMove(event);\n\t\t}\n\t}\n\n\t/**\n  * Convert pointer up to touch end.\n  */\n\tfunction onPointerUp(event) {\n\n\t\tif (event.pointerType === event.MSPOINTER_TYPE_TOUCH) {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchEnd(event);\n\t\t}\n\t}\n\n\t/**\n  * Handles mouse wheel scrolling, throttled to avoid skipping\n  * multiple slides.\n  */\n\tfunction onDocumentMouseScroll(event) {\n\n\t\tif (Date.now() - lastMouseWheelStep > 600) {\n\n\t\t\tlastMouseWheelStep = Date.now();\n\n\t\t\tvar delta = event.detail || -event.wheelDelta;\n\t\t\tif (delta > 0) {\n\t\t\t\tnavigateNext();\n\t\t\t} else {\n\t\t\t\tnavigatePrev();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Clicking on the progress bar results in a navigation to the\n  * closest approximate horizontal slide using this equation:\n  *\n  * ( clickX / presentationWidth ) * numberOfSlides\n  */\n\tfunction onProgressClicked(event) {\n\n\t\tonUserInput(event);\n\n\t\tevent.preventDefault();\n\n\t\tvar slidesTotal = toArray(document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).length;\n\t\tvar slideIndex = Math.floor(event.clientX / dom.wrapper.offsetWidth * slidesTotal);\n\n\t\tslide(slideIndex);\n\t}\n\n\t/**\n  * Event handler for navigation control buttons.\n  */\n\tfunction onNavigateLeftClicked(event) {\n\t\tevent.preventDefault();onUserInput();navigateLeft();\n\t}\n\tfunction onNavigateRightClicked(event) {\n\t\tevent.preventDefault();onUserInput();navigateRight();\n\t}\n\tfunction onNavigateUpClicked(event) {\n\t\tevent.preventDefault();onUserInput();navigateUp();\n\t}\n\tfunction onNavigateDownClicked(event) {\n\t\tevent.preventDefault();onUserInput();navigateDown();\n\t}\n\tfunction onNavigatePrevClicked(event) {\n\t\tevent.preventDefault();onUserInput();navigatePrev();\n\t}\n\tfunction onNavigateNextClicked(event) {\n\t\tevent.preventDefault();onUserInput();navigateNext();\n\t}\n\n\t/**\n  * Handler for the window level 'hashchange' event.\n  */\n\tfunction onWindowHashChange(event) {\n\n\t\treadURL();\n\t}\n\n\t/**\n  * Handler for the window level 'resize' event.\n  */\n\tfunction onWindowResize(event) {\n\n\t\tlayout();\n\t}\n\n\t/**\n  * Handle for the window level 'visibilitychange' event.\n  */\n\tfunction onPageVisibilityChange(event) {\n\n\t\tvar isHidden = document.webkitHidden || document.msHidden || document.hidden;\n\n\t\t// If, after clicking a link or similar and we're coming back,\n\t\t// focus the document.body to ensure we can use keyboard shortcuts\n\t\tif (isHidden === false && document.activeElement !== document.body) {\n\t\t\tdocument.activeElement.blur();\n\t\t\tdocument.body.focus();\n\t\t}\n\t}\n\n\t/**\n  * Invoked when a slide is and we're in the overview.\n  */\n\tfunction onOverviewSlideClicked(event) {\n\n\t\t// TODO There's a bug here where the event listeners are not\n\t\t// removed after deactivating the overview.\n\t\tif (eventsAreBound && isOverview()) {\n\t\t\tevent.preventDefault();\n\n\t\t\tvar element = event.target;\n\n\t\t\twhile (element && !element.nodeName.match(/section/gi)) {\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\tif (element && !element.classList.contains('disabled')) {\n\n\t\t\t\tdeactivateOverview();\n\n\t\t\t\tif (element.nodeName.match(/section/gi)) {\n\t\t\t\t\tvar h = parseInt(element.getAttribute('data-index-h'), 10),\n\t\t\t\t\t    v = parseInt(element.getAttribute('data-index-v'), 10);\n\n\t\t\t\t\tslide(h, v);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Handles clicks on links that are set to preview in the\n  * iframe overlay.\n  */\n\tfunction onPreviewLinkClicked(event) {\n\n\t\tvar url = event.target.getAttribute('href');\n\t\tif (url) {\n\t\t\topenPreview(url);\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t/**\n  * Handles click on the auto-sliding controls element.\n  */\n\tfunction onAutoSlidePlayerClick(event) {\n\n\t\t// Replay\n\t\tif (Reveal.isLastSlide() && config.loop === false) {\n\t\t\tslide(0, 0);\n\t\t\tresumeAutoSlide();\n\t\t}\n\t\t// Resume\n\t\telse if (autoSlidePaused) {\n\t\t\t\tresumeAutoSlide();\n\t\t\t}\n\t\t\t// Pause\n\t\t\telse {\n\t\t\t\t\tpauseAutoSlide();\n\t\t\t\t}\n\t}\n\n\t// --------------------------------------------------------------------//\n\t// ------------------------ PLAYBACK COMPONENT ------------------------//\n\t// --------------------------------------------------------------------//\n\n\n\t/**\n  * Constructor for the playback component, which displays\n  * play/pause/progress controls.\n  *\n  * @param {HTMLElement} container The component will append\n  * itself to this\n  * @param {Function} progressCheck A method which will be\n  * called frequently to get the current progress on a range\n  * of 0-1\n  */\n\tfunction Playback(container, progressCheck) {\n\n\t\t// Cosmetics\n\t\tthis.diameter = 50;\n\t\tthis.thickness = 3;\n\n\t\t// Flags if we are currently playing\n\t\tthis.playing = false;\n\n\t\t// Current progress on a 0-1 range\n\t\tthis.progress = 0;\n\n\t\t// Used to loop the animation smoothly\n\t\tthis.progressOffset = 1;\n\n\t\tthis.container = container;\n\t\tthis.progressCheck = progressCheck;\n\n\t\tthis.canvas = document.createElement('canvas');\n\t\tthis.canvas.className = 'playback';\n\t\tthis.canvas.width = this.diameter;\n\t\tthis.canvas.height = this.diameter;\n\t\tthis.context = this.canvas.getContext('2d');\n\n\t\tthis.container.appendChild(this.canvas);\n\n\t\tthis.render();\n\t}\n\n\tPlayback.prototype.setPlaying = function (value) {\n\n\t\tvar wasPlaying = this.playing;\n\n\t\tthis.playing = value;\n\n\t\t// Start repainting if we weren't already\n\t\tif (!wasPlaying && this.playing) {\n\t\t\tthis.animate();\n\t\t} else {\n\t\t\tthis.render();\n\t\t}\n\t};\n\n\tPlayback.prototype.animate = function () {\n\n\t\tvar progressBefore = this.progress;\n\n\t\tthis.progress = this.progressCheck();\n\n\t\t// When we loop, offset the progress so that it eases\n\t\t// smoothly rather than immediately resetting\n\t\tif (progressBefore > 0.8 && this.progress < 0.2) {\n\t\t\tthis.progressOffset = this.progress;\n\t\t}\n\n\t\tthis.render();\n\n\t\tif (this.playing) {\n\t\t\tfeatures.requestAnimationFrameMethod.call(window, this.animate.bind(this));\n\t\t}\n\t};\n\n\t/**\n  * Renders the current progress and playback state.\n  */\n\tPlayback.prototype.render = function () {\n\n\t\tvar progress = this.playing ? this.progress : 0,\n\t\t    radius = this.diameter / 2 - this.thickness,\n\t\t    x = this.diameter / 2,\n\t\t    y = this.diameter / 2,\n\t\t    iconSize = 14;\n\n\t\t// Ease towards 1\n\t\tthis.progressOffset += (1 - this.progressOffset) * 0.1;\n\n\t\tvar endAngle = -Math.PI / 2 + progress * (Math.PI * 2);\n\t\tvar startAngle = -Math.PI / 2 + this.progressOffset * (Math.PI * 2);\n\n\t\tthis.context.save();\n\t\tthis.context.clearRect(0, 0, this.diameter, this.diameter);\n\n\t\t// Solid background color\n\t\tthis.context.beginPath();\n\t\tthis.context.arc(x, y, radius + 2, 0, Math.PI * 2, false);\n\t\tthis.context.fillStyle = 'rgba( 0, 0, 0, 0.4 )';\n\t\tthis.context.fill();\n\n\t\t// Draw progress track\n\t\tthis.context.beginPath();\n\t\tthis.context.arc(x, y, radius, 0, Math.PI * 2, false);\n\t\tthis.context.lineWidth = this.thickness;\n\t\tthis.context.strokeStyle = '#666';\n\t\tthis.context.stroke();\n\n\t\tif (this.playing) {\n\t\t\t// Draw progress on top of track\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.arc(x, y, radius, startAngle, endAngle, false);\n\t\t\tthis.context.lineWidth = this.thickness;\n\t\t\tthis.context.strokeStyle = '#fff';\n\t\t\tthis.context.stroke();\n\t\t}\n\n\t\tthis.context.translate(x - iconSize / 2, y - iconSize / 2);\n\n\t\t// Draw play/pause icons\n\t\tif (this.playing) {\n\t\t\tthis.context.fillStyle = '#fff';\n\t\t\tthis.context.fillRect(0, 0, iconSize / 2 - 2, iconSize);\n\t\t\tthis.context.fillRect(iconSize / 2 + 2, 0, iconSize / 2 - 2, iconSize);\n\t\t} else {\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.translate(2, 0);\n\t\t\tthis.context.moveTo(0, 0);\n\t\t\tthis.context.lineTo(iconSize - 2, iconSize / 2);\n\t\t\tthis.context.lineTo(0, iconSize);\n\t\t\tthis.context.fillStyle = '#fff';\n\t\t\tthis.context.fill();\n\t\t}\n\n\t\tthis.context.restore();\n\t};\n\n\tPlayback.prototype.on = function (type, listener) {\n\t\tthis.canvas.addEventListener(type, listener, false);\n\t};\n\n\tPlayback.prototype.off = function (type, listener) {\n\t\tthis.canvas.removeEventListener(type, listener, false);\n\t};\n\n\tPlayback.prototype.destroy = function () {\n\n\t\tthis.playing = false;\n\n\t\tif (this.canvas.parentNode) {\n\t\t\tthis.container.removeChild(this.canvas);\n\t\t}\n\t};\n\n\t// --------------------------------------------------------------------//\n\t// ------------------------------- API --------------------------------//\n\t// --------------------------------------------------------------------//\n\n\n\treturn {\n\t\tinitialize: initialize,\n\t\tconfigure: configure,\n\t\tsync: sync,\n\n\t\t// Navigation methods\n\t\tslide: slide,\n\t\tleft: navigateLeft,\n\t\tright: navigateRight,\n\t\tup: navigateUp,\n\t\tdown: navigateDown,\n\t\tprev: navigatePrev,\n\t\tnext: navigateNext,\n\n\t\t// Fragment methods\n\t\tnavigateFragment: navigateFragment,\n\t\tprevFragment: previousFragment,\n\t\tnextFragment: nextFragment,\n\n\t\t// Deprecated aliases\n\t\tnavigateTo: slide,\n\t\tnavigateLeft: navigateLeft,\n\t\tnavigateRight: navigateRight,\n\t\tnavigateUp: navigateUp,\n\t\tnavigateDown: navigateDown,\n\t\tnavigatePrev: navigatePrev,\n\t\tnavigateNext: navigateNext,\n\n\t\t// Forces an update in slide layout\n\t\tlayout: layout,\n\n\t\t// Returns an object with the available routes as booleans (left/right/top/bottom)\n\t\tavailableRoutes: availableRoutes,\n\n\t\t// Returns an object with the available fragments as booleans (prev/next)\n\t\tavailableFragments: availableFragments,\n\n\t\t// Toggles the overview mode on/off\n\t\ttoggleOverview: toggleOverview,\n\n\t\t// Toggles the \"black screen\" mode on/off\n\t\ttogglePause: togglePause,\n\n\t\t// State checks\n\t\tisOverview: isOverview,\n\t\tisPaused: isPaused,\n\n\t\t// Adds or removes all internal event listeners (such as keyboard)\n\t\taddEventListeners: addEventListeners,\n\t\tremoveEventListeners: removeEventListeners,\n\n\t\t// Returns the indices of the current, or specified, slide\n\t\tgetIndices: getIndices,\n\n\t\t// Returns the slide at the specified index, y is optional\n\t\tgetSlide: function getSlide(x, y) {\n\t\t\tvar horizontalSlide = document.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)[x];\n\t\t\tvar verticalSlides = horizontalSlide && horizontalSlide.querySelectorAll('section');\n\n\t\t\tif (typeof y !== 'undefined') {\n\t\t\t\treturn verticalSlides ? verticalSlides[y] : undefined;\n\t\t\t}\n\n\t\t\treturn horizontalSlide;\n\t\t},\n\n\t\t// Returns the previous slide element, may be null\n\t\tgetPreviousSlide: function getPreviousSlide() {\n\t\t\treturn previousSlide;\n\t\t},\n\n\t\t// Returns the current slide element\n\t\tgetCurrentSlide: function getCurrentSlide() {\n\t\t\treturn currentSlide;\n\t\t},\n\n\t\t// Returns the current scale of the presentation content\n\t\tgetScale: function getScale() {\n\t\t\treturn scale;\n\t\t},\n\n\t\t// Returns the current configuration object\n\t\tgetConfig: function getConfig() {\n\t\t\treturn config;\n\t\t},\n\n\t\t// Helper method, retrieves query string as a key/value hash\n\t\tgetQueryHash: function getQueryHash() {\n\t\t\tvar query = {};\n\n\t\t\tlocation.search.replace(/[A-Z0-9]+?=([\\w\\.%-]*)/gi, function (a) {\n\t\t\t\tquery[a.split('=').shift()] = a.split('=').pop();\n\t\t\t});\n\n\t\t\t// Basic deserialization\n\t\t\tfor (var i in query) {\n\t\t\t\tvar value = query[i];\n\n\t\t\t\tquery[i] = unescape(value);\n\n\t\t\t\tif (value === 'null') query[i] = null;else if (value === 'true') query[i] = true;else if (value === 'false') query[i] = false;else if (value.match(/^\\d+$/)) query[i] = parseFloat(value);\n\t\t\t}\n\n\t\t\treturn query;\n\t\t},\n\n\t\t// Returns true if we're currently on the first slide\n\t\tisFirstSlide: function isFirstSlide() {\n\t\t\treturn document.querySelector(SLIDES_SELECTOR + '.past') == null ? true : false;\n\t\t},\n\n\t\t// Returns true if we're currently on the last slide\n\t\tisLastSlide: function isLastSlide() {\n\t\t\tif (currentSlide) {\n\t\t\t\t// Does this slide has next a sibling?\n\t\t\t\tif (currentSlide.nextElementSibling) return false;\n\n\t\t\t\t// If it's vertical, does its parent have a next sibling?\n\t\t\t\tif (isVerticalSlide(currentSlide) && currentSlide.parentNode.nextElementSibling) return false;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t// Checks if reveal.js has been loaded and is ready for use\n\t\tisReady: function isReady() {\n\t\t\treturn loaded;\n\t\t},\n\n\t\t// Forward event binding to the reveal DOM element\n\t\taddEventListener: function addEventListener(type, listener, useCapture) {\n\t\t\tif ('addEventListener' in window) {\n\t\t\t\t(dom.wrapper || document.querySelector('.reveal')).addEventListener(type, listener, useCapture);\n\t\t\t}\n\t\t},\n\t\tremoveEventListener: function removeEventListener(type, listener, useCapture) {\n\t\t\tif ('addEventListener' in window) {\n\t\t\t\t(dom.wrapper || document.querySelector('.reveal')).removeEventListener(type, listener, useCapture);\n\t\t\t}\n\t\t}\n\t};\n}();\n\nmodule.exports = Reveal;\n\n/***/ }),\n\n/***/ 998:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 999:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// presentation.bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 996);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 40cce6294136e6bc5db1","/*! head.core - v1.0.2 */\n(function(n,t){\"use strict\";function r(n){a[a.length]=n}function k(n){var t=new RegExp(\" ?\\\\b\"+n+\"\\\\b\");c.className=c.className.replace(t,\"\")}function p(n,t){for(var i=0,r=n.length;i<r;i++)t.call(n,n[i],i)}function tt(){var t,e,f,o;c.className=c.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\\d+/g,\"\");t=n.innerWidth||c.clientWidth;e=n.outerWidth||n.screen.width;u.screen.innerWidth=t;u.screen.outerWidth=e;r(\"w-\"+t);p(i.screens,function(n){t>n?(i.screensCss.gt&&r(\"gt-\"+n),i.screensCss.gte&&r(\"gte-\"+n)):t<n?(i.screensCss.lt&&r(\"lt-\"+n),i.screensCss.lte&&r(\"lte-\"+n)):t===n&&(i.screensCss.lte&&r(\"lte-\"+n),i.screensCss.eq&&r(\"e-q\"+n),i.screensCss.gte&&r(\"gte-\"+n))});f=n.innerHeight||c.clientHeight;o=n.outerHeight||n.screen.height;u.screen.innerHeight=f;u.screen.outerHeight=o;u.feature(\"portrait\",f>t);u.feature(\"landscape\",f<t)}function it(){n.clearTimeout(b);b=n.setTimeout(tt,50)}var y=n.document,rt=n.navigator,ut=n.location,c=y.documentElement,a=[],i={screens:[240,320,480,640,768,800,1024,1280,1440,1680,1920],screensCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!1},browsers:[{ie:{min:6,max:11}}],browserCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!0},html5:!0,page:\"-page\",section:\"-section\",head:\"head\"},v,u,s,w,o,h,l,d,f,g,nt,e,b;if(n.head_conf)for(v in n.head_conf)n.head_conf[v]!==t&&(i[v]=n.head_conf[v]);u=n[i.head]=function(){u.ready.apply(null,arguments)};u.feature=function(n,t,i){return n?(Object.prototype.toString.call(t)===\"[object Function]\"&&(t=t.call()),r((t?\"\":\"no-\")+n),u[n]=!!t,i||(k(\"no-\"+n),k(n),u.feature()),u):(c.className+=\" \"+a.join(\" \"),a=[],u)};u.feature(\"js\",!0);s=rt.userAgent.toLowerCase();w=/mobile|android|kindle|silk|midp|phone|(windows .+arm|touch)/.test(s);u.feature(\"mobile\",w,!0);u.feature(\"desktop\",!w,!0);s=/(chrome|firefox)[ \\/]([\\w.]+)/.exec(s)||/(iphone|ipad|ipod)(?:.*version)?[ \\/]([\\w.]+)/.exec(s)||/(android)(?:.*version)?[ \\/]([\\w.]+)/.exec(s)||/(webkit|opera)(?:.*version)?[ \\/]([\\w.]+)/.exec(s)||/(msie) ([\\w.]+)/.exec(s)||/(trident).+rv:(\\w.)+/.exec(s)||[];o=s[1];h=parseFloat(s[2]);switch(o){case\"msie\":case\"trident\":o=\"ie\";h=y.documentMode||h;break;case\"firefox\":o=\"ff\";break;case\"ipod\":case\"ipad\":case\"iphone\":o=\"ios\";break;case\"webkit\":o=\"safari\"}for(u.browser={name:o,version:h},u.browser[o]=!0,l=0,d=i.browsers.length;l<d;l++)for(f in i.browsers[l])if(o===f)for(r(f),g=i.browsers[l][f].min,nt=i.browsers[l][f].max,e=g;e<=nt;e++)h>e?(i.browserCss.gt&&r(\"gt-\"+f+e),i.browserCss.gte&&r(\"gte-\"+f+e)):h<e?(i.browserCss.lt&&r(\"lt-\"+f+e),i.browserCss.lte&&r(\"lte-\"+f+e)):h===e&&(i.browserCss.lte&&r(\"lte-\"+f+e),i.browserCss.eq&&r(\"eq-\"+f+e),i.browserCss.gte&&r(\"gte-\"+f+e));else r(\"no-\"+f);r(o);r(o+parseInt(h,10));i.html5&&o===\"ie\"&&h<9&&p(\"abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|progress|section|summary|time|video\".split(\"|\"),function(n){y.createElement(n)});p(ut.pathname.split(\"/\"),function(n,u){if(this.length>2&&this[u+1]!==t)u&&r(this.slice(u,u+1).join(\"-\").toLowerCase()+i.section);else{var f=n||\"index\",e=f.indexOf(\".\");e>0&&(f=f.substring(0,e));c.id=f.toLowerCase()+i.page;u||r(\"root\"+i.section)}});u.screen={height:n.screen.height,width:n.screen.width};tt();b=0;n.addEventListener?n.addEventListener(\"resize\",it,!1):n.attachEvent(\"onresize\",it)})(window);\n/*! head.css3 - v1.0.0 */\n(function(n,t){\"use strict\";function a(n){for(var r in n)if(i[n[r]]!==t)return!0;return!1}function r(n){var t=n.charAt(0).toUpperCase()+n.substr(1),i=(n+\" \"+c.join(t+\" \")+t).split(\" \");return!!a(i)}var h=n.document,o=h.createElement(\"i\"),i=o.style,s=\" -o- -moz- -ms- -webkit- -khtml- \".split(\" \"),c=\"Webkit Moz O ms Khtml\".split(\" \"),l=n.head_conf&&n.head_conf.head||\"head\",u=n[l],f={gradient:function(){var n=\"background-image:\";return i.cssText=(n+s.join(\"gradient(linear,left top,right bottom,from(#9f9),to(#fff));\"+n)+s.join(\"linear-gradient(left top,#eee,#fff);\"+n)).slice(0,-n.length),!!i.backgroundImage},rgba:function(){return i.cssText=\"background-color:rgba(0,0,0,0.5)\",!!i.backgroundColor},opacity:function(){return o.style.opacity===\"\"},textshadow:function(){return i.textShadow===\"\"},multiplebgs:function(){i.cssText=\"background:url(https://),url(https://),red url(https://)\";var n=(i.background||\"\").match(/url/g);return Object.prototype.toString.call(n)===\"[object Array]\"&&n.length===3},boxshadow:function(){return r(\"boxShadow\")},borderimage:function(){return r(\"borderImage\")},borderradius:function(){return r(\"borderRadius\")},cssreflections:function(){return r(\"boxReflect\")},csstransforms:function(){return r(\"transform\")},csstransitions:function(){return r(\"transition\")},touch:function(){return\"ontouchstart\"in n},retina:function(){return n.devicePixelRatio>1},fontface:function(){var t=u.browser.name,n=u.browser.version;switch(t){case\"ie\":return n>=9;case\"chrome\":return n>=13;case\"ff\":return n>=6;case\"ios\":return n>=5;case\"android\":return!1;case\"webkit\":return n>=5.1;case\"opera\":return n>=10;default:return!1}}};for(var e in f)f[e]&&u.feature(e,f[e].call(),!0);u.feature()})(window);\n/*! head.load - v1.0.3 */\n(function(n,t){\"use strict\";function w(){}function u(n,t){if(n){typeof n==\"object\"&&(n=[].slice.call(n));for(var i=0,r=n.length;i<r;i++)t.call(n,n[i],i)}}function it(n,i){var r=Object.prototype.toString.call(i).slice(8,-1);return i!==t&&i!==null&&r===n}function s(n){return it(\"Function\",n)}function a(n){return it(\"Array\",n)}function et(n){var i=n.split(\"/\"),t=i[i.length-1],r=t.indexOf(\"?\");return r!==-1?t.substring(0,r):t}function f(n){(n=n||w,n._done)||(n(),n._done=1)}function ot(n,t,r,u){var f=typeof n==\"object\"?n:{test:n,success:!t?!1:a(t)?t:[t],failure:!r?!1:a(r)?r:[r],callback:u||w},e=!!f.test;return e&&!!f.success?(f.success.push(f.callback),i.load.apply(null,f.success)):e||!f.failure?u():(f.failure.push(f.callback),i.load.apply(null,f.failure)),i}function v(n){var t={},i,r;if(typeof n==\"object\")for(i in n)!n[i]||(t={name:i,url:n[i]});else t={name:et(n),url:n};return(r=c[t.name],r&&r.url===t.url)?r:(c[t.name]=t,t)}function y(n){n=n||c;for(var t in n)if(n.hasOwnProperty(t)&&n[t].state!==l)return!1;return!0}function st(n){n.state=ft;u(n.onpreload,function(n){n.call()})}function ht(n){n.state===t&&(n.state=nt,n.onpreload=[],rt({url:n.url,type:\"cache\"},function(){st(n)}))}function ct(){var n=arguments,t=n[n.length-1],r=[].slice.call(n,1),f=r[0];return(s(t)||(t=null),a(n[0]))?(n[0].push(t),i.load.apply(null,n[0]),i):(f?(u(r,function(n){s(n)||!n||ht(v(n))}),b(v(n[0]),s(f)?f:function(){i.load.apply(null,r)})):b(v(n[0])),i)}function lt(){var n=arguments,t=n[n.length-1],r={};return(s(t)||(t=null),a(n[0]))?(n[0].push(t),i.load.apply(null,n[0]),i):(u(n,function(n){n!==t&&(n=v(n),r[n.name]=n)}),u(n,function(n){n!==t&&(n=v(n),b(n,function(){y(r)&&f(t)}))}),i)}function b(n,t){if(t=t||w,n.state===l){t();return}if(n.state===tt){i.ready(n.name,t);return}if(n.state===nt){n.onpreload.push(function(){b(n,t)});return}n.state=tt;rt(n,function(){n.state=l;t();u(h[n.name],function(n){f(n)});o&&y()&&u(h.ALL,function(n){f(n)})})}function at(n){n=n||\"\";var t=n.split(\"?\")[0].split(\".\");return t[t.length-1].toLowerCase()}function rt(t,i){function e(t){t=t||n.event;u.onload=u.onreadystatechange=u.onerror=null;i()}function o(f){f=f||n.event;(f.type===\"load\"||/loaded|complete/.test(u.readyState)&&(!r.documentMode||r.documentMode<9))&&(n.clearTimeout(t.errorTimeout),n.clearTimeout(t.cssTimeout),u.onload=u.onreadystatechange=u.onerror=null,i())}function s(){if(t.state!==l&&t.cssRetries<=20){for(var i=0,f=r.styleSheets.length;i<f;i++)if(r.styleSheets[i].href===u.href){o({type:\"load\"});return}t.cssRetries++;t.cssTimeout=n.setTimeout(s,250)}}var u,h,f;i=i||w;h=at(t.url);h===\"css\"?(u=r.createElement(\"link\"),u.type=\"text/\"+(t.type||\"css\"),u.rel=\"stylesheet\",u.href=t.url,t.cssRetries=0,t.cssTimeout=n.setTimeout(s,500)):(u=r.createElement(\"script\"),u.type=\"text/\"+(t.type||\"javascript\"),u.src=t.url);u.onload=u.onreadystatechange=o;u.onerror=e;u.async=!1;u.defer=!1;t.errorTimeout=n.setTimeout(function(){e({type:\"timeout\"})},7e3);f=r.head||r.getElementsByTagName(\"head\")[0];f.insertBefore(u,f.lastChild)}function vt(){for(var t,u=r.getElementsByTagName(\"script\"),n=0,f=u.length;n<f;n++)if(t=u[n].getAttribute(\"data-headjs-load\"),!!t){i.load(t);return}}function yt(n,t){var v,p,e;return n===r?(o?f(t):d.push(t),i):(s(n)&&(t=n,n=\"ALL\"),a(n))?(v={},u(n,function(n){v[n]=c[n];i.ready(n,function(){y(v)&&f(t)})}),i):typeof n!=\"string\"||!s(t)?i:(p=c[n],p&&p.state===l||n===\"ALL\"&&y()&&o)?(f(t),i):(e=h[n],e?e.push(t):e=h[n]=[t],i)}function e(){if(!r.body){n.clearTimeout(i.readyTimeout);i.readyTimeout=n.setTimeout(e,50);return}o||(o=!0,vt(),u(d,function(n){f(n)}))}function k(){r.addEventListener?(r.removeEventListener(\"DOMContentLoaded\",k,!1),e()):r.readyState===\"complete\"&&(r.detachEvent(\"onreadystatechange\",k),e())}var r=n.document,d=[],h={},c={},ut=\"async\"in r.createElement(\"script\")||\"MozAppearance\"in r.documentElement.style||n.opera,o,g=n.head_conf&&n.head_conf.head||\"head\",i=n[g]=n[g]||function(){i.ready.apply(null,arguments)},nt=1,ft=2,tt=3,l=4,p;if(r.readyState===\"complete\")e();else if(r.addEventListener)r.addEventListener(\"DOMContentLoaded\",k,!1),n.addEventListener(\"load\",e,!1);else{r.attachEvent(\"onreadystatechange\",k);n.attachEvent(\"onload\",e);p=!1;try{p=!n.frameElement&&r.documentElement}catch(wt){}p&&p.doScroll&&function pt(){if(!o){try{p.doScroll(\"left\")}catch(t){n.clearTimeout(i.readyTimeout);i.readyTimeout=n.setTimeout(pt,50);return}e()}}()}i.load=i.js=ut?lt:ct;i.test=ot;i.ready=yt;i.ready(r,function(){y()&&u(h.ALL,function(n){f(n)});i.feature&&i.feature(\"domloaded\",!0)})})(window);\n/*\n//# sourceMappingURL=head.min.js.map\n*/\n\n\n// WEBPACK FOOTER //\n// ../docs/asset/public/node-reveal/reveal.js/lib/js/head.min.js","/**\n * @author Szymon Dziaowski\n * @license MIT License (c) copyright 2017-present original author or authors\n * @homepage https://github.com/stopsopa/roderic\n */\n\n'use strict';\n\nconst log = (function () {\n    try {\n        if (console.log) {\n            return function () {\n                console.log.apply(this, Array.prototype.slice.call(arguments));\n                return log;\n            }\n        }\n    }\n    catch (e) {\n        return function () {return log};\n    }\n}());\n\nlog.stack = function () {return log};\n\nmodule.exports = log.dump = log.json = log.log = log;\n\n\n// WEBPACK FOOTER //\n// ./webpack/logw.js","\nimport Reveal from 'reveal';\n\nwindow.Reveal = Reveal; // for plugins loade dynamically\n\nimport 'reveal/index.css'\n\nimport 'node-reveal/reveal.js/css/theme/black.css';\nimport 'node-reveal/reveal.js/lib/js/head.min';\n\nimport './pages/presentation.scss';\n\n\nfunction getHtml(url) {\n\n    if (url.indexOf('#') > -1) {\n\n        url = url.split('#')[0];\n    }\n\n    const promise = fetch(`https://cors-anywhere.herokuapp.com/${url}`)\n        .then(res => res.text())\n    ;\n\n    promise.catch(error => log('fetch error', error));\n\n    return promise;\n}\n\n\nfunction trim(s) {\n    return (s || '').replace(/^\\s*(\\S*(\\s+\\S+)*)\\s*$/,'$1');\n}\nconst loadPresentation = (function () {\n\n    const baseUrl = location.pathname;\n\n    return function (presentation) {\n\n        location.href = `${baseUrl}?presentation=${presentation}`;\n    }\n}());\n\nconst target = document.querySelector('#target');\n\nconst presentation = location.search.split('?presentation=')[1];\n\nconst load = html => {\n    document.querySelector('.slides').innerHTML = html;\n    Reveal.initialize({\n        controls: true,\n        progress: true,\n        history: true,\n        center: true,\n        // default/cube/page/concave/zoom/linear/fade/none\n        // transition: 'none',\n        dependencies: [\n            // { src: '../asset/public/node-reveal/reveal.js/plugin/markdown/marked.js' },\n            // { src: '../asset/public/node-reveal/reveal.js/plugin/markdown/markdown.js' },\n            { src: '../nm/marked.js' },\n            { src: '../nm/markdown.js' },\n            // { src: '../asset/public/node-reveal/reveal.js/plugin/notes/notes.js', async: true },\n            {\n                // src: '../asset/public/node-reveal/reveal.js/plugin/highlight/highlight.js',\n                src: '../nm/highlight.js',\n                async: true,\n                callback: function() {\n                    hljs.initHighlightingOnLoad();\n                }\n            }\n        ]\n    })\n}\nif (presentation) {\n    \n    trim(presentation) && getHtml(presentation).then(load);\n}\nelse {\n\n    target.style.display = 'block';\n\n    getHtml('https://raw.githubusercontent.com/stopsopa/presentation/master/docs/tapes/list.html')\n        .then(html => document.querySelector('#target .list').innerHTML = html)\n        .then(() => {\n            const input = target.querySelector('input');\n            target.addEventListener('click', e => {\n\n                e.preventDefault();\n\n                const target = e.target;\n\n                const tag = target.tagName.toLowerCase();\n\n                if (tag === 'a') {\n\n                    input.value = target.getAttribute('href');\n                }\n                else {\n\n                    log('other tag was clicked: ', tag);\n                }\n            });\n\n            target.querySelector('button[name=\"fromscript\"]').addEventListener('click', e => {\n\n                e.preventDefault();\n\n                const val = trim(input.value);\n\n                if (val) {\n\n                    loadPresentation(val);\n                }\n                else {\n\n                    log('url is empty');\n                }\n            });\n\n            const textarea = target.querySelector('textarea');\n            target.querySelector('button[name=\"fromtext\"]').addEventListener('click', e => {\n\n                e.preventDefault();\n\n                const val = trim(textarea.value);\n\n                if (val) {\n\n                    target.style.display = 'none';\n\n                    load(val);\n                }\n                else {\n\n                    log('textarea is empty');\n                }\n            })\n        });\n    ;\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ../app/presentation.entry.js","/*!\n * reveal.js\n * http://lab.hakim.se/reveal-js\n * MIT licensed\n *\n * Copyright (C) 2013 Hakim El Hattab, http://hakim.se\n */\nvar Reveal = (function(){\n\n\t'use strict';\n\n\tvar SLIDES_SELECTOR = '.reveal .slides section',\n\t\tHORIZONTAL_SLIDES_SELECTOR = '.reveal .slides>section',\n\t\tVERTICAL_SLIDES_SELECTOR = '.reveal .slides>section.present>section',\n\t\tHOME_SLIDE_SELECTOR = '.reveal .slides>section:first-of-type',\n\n\t\t// Configurations defaults, can be overridden at initialization time\n\t\tconfig = {\n\n\t\t\t// The \"normal\" size of the presentation, aspect ratio will be preserved\n\t\t\t// when the presentation is scaled to fit different resolutions\n\t\t\twidth: 960,\n\t\t\theight: 700,\n\n\t\t\t// Factor of the display size that should remain empty around the content\n\t\t\tmargin: 0.1,\n\n\t\t\t// Bounds for smallest/largest possible scale to apply to content\n\t\t\tminScale: 0.2,\n\t\t\tmaxScale: 1.0,\n\n\t\t\t// Display controls in the bottom right corner\n\t\t\tcontrols: true,\n\n\t\t\t// Display a presentation progress bar\n\t\t\tprogress: true,\n\n\t\t\t// Display the page number of the current slide\n\t\t\tslideNumber: false,\n\n\t\t\t// Push each slide change to the browser history\n\t\t\thistory: false,\n\n\t\t\t// Enable keyboard shortcuts for navigation\n\t\t\tkeyboard: true,\n\n\t\t\t// Enable the slide overview mode\n\t\t\toverview: true,\n\n\t\t\t// Vertical centering of slides\n\t\t\tcenter: true,\n\n\t\t\t// Enables touch navigation on devices with touch input\n\t\t\ttouch: true,\n\n\t\t\t// Loop the presentation\n\t\t\tloop: false,\n\n\t\t\t// Change the presentation direction to be RTL\n\t\t\trtl: false,\n\n\t\t\t// Turns fragments on and off globally\n\t\t\tfragments: true,\n\n\t\t\t// Flags if the presentation is running in an embedded mode,\n\t\t\t// i.e. contained within a limited portion of the screen\n\t\t\tembedded: false,\n\n\t\t\t// Number of milliseconds between automatically proceeding to the\n\t\t\t// next slide, disabled when set to 0, this value can be overwritten\n\t\t\t// by using a data-autoslide attribute on your slides\n\t\t\tautoSlide: 0,\n\n\t\t\t// Stop auto-sliding after user input\n\t\t\tautoSlideStoppable: true,\n\n\t\t\t// Enable slide navigation via mouse wheel\n\t\t\tmouseWheel: false,\n\n\t\t\t// Apply a 3D roll to links on hover\n\t\t\trollingLinks: false,\n\n\t\t\t// Hides the address bar on mobile devices\n\t\t\thideAddressBar: true,\n\n\t\t\t// Opens links in an iframe preview overlay\n\t\t\tpreviewLinks: false,\n\n\t\t\t// Focuses body when page changes visiblity to ensure keyboard shortcuts work\n\t\t\tfocusBodyOnPageVisiblityChange: true,\n\n\t\t\t// Theme (see /css/theme)\n\t\t\ttheme: null,\n\n\t\t\t// Transition style\n\t\t\ttransition: 'default', // default/cube/page/concave/zoom/linear/fade/none\n\n\t\t\t// Transition speed\n\t\t\ttransitionSpeed: 'default', // default/fast/slow\n\n\t\t\t// Transition style for full page slide backgrounds\n\t\t\tbackgroundTransition: 'default', // default/linear/none\n\n\t\t\t// Parallax background image\n\t\t\tparallaxBackgroundImage: '', // CSS syntax, e.g. \"a.jpg\"\n\n\t\t\t// Parallax background size\n\t\t\tparallaxBackgroundSize: '', // CSS syntax, e.g. \"3000px 2000px\"\n\n\t\t\t// Number of slides away from the current that are visible\n\t\t\tviewDistance: 3,\n\n\t\t\t// Script dependencies to load\n\t\t\tdependencies: []\n\n\t\t},\n\n\t\t// Flags if reveal.js is loaded (has dispatched the 'ready' event)\n\t\tloaded = false,\n\n\t\t// The horizontal and vertical index of the currently active slide\n\t\tindexh,\n\t\tindexv,\n\n\t\t// The previous and current slide HTML elements\n\t\tpreviousSlide,\n\t\tcurrentSlide,\n\n\t\tpreviousBackground,\n\n\t\t// Slides may hold a data-state attribute which we pick up and apply\n\t\t// as a class to the body. This list contains the combined state of\n\t\t// all current slides.\n\t\tstate = [],\n\n\t\t// The current scale of the presentation (see width/height config)\n\t\tscale = 1,\n\n\t\t// Cached references to DOM elements\n\t\tdom = {},\n\n\t\t// Features supported by the browser, see #checkCapabilities()\n\t\tfeatures = {},\n\n\t\t// Client is a mobile device, see #checkCapabilities()\n\t\tisMobileDevice,\n\n\t\t// Throttles mouse wheel navigation\n\t\tlastMouseWheelStep = 0,\n\n\t\t// Delays updates to the URL due to a Chrome thumbnailer bug\n\t\twriteURLTimeout = 0,\n\n\t\t// A delay used to activate the overview mode\n\t\tactivateOverviewTimeout = 0,\n\n\t\t// A delay used to deactivate the overview mode\n\t\tdeactivateOverviewTimeout = 0,\n\n\t\t// Flags if the interaction event listeners are bound\n\t\teventsAreBound = false,\n\n\t\t// The current auto-slide duration\n\t\tautoSlide = 0,\n\n\t\t// Auto slide properties\n\t\tautoSlidePlayer,\n\t\tautoSlideTimeout = 0,\n\t\tautoSlideStartTime = -1,\n\t\tautoSlidePaused = false,\n\n\t\t// Holds information about the currently ongoing touch input\n\t\ttouch = {\n\t\t\tstartX: 0,\n\t\t\tstartY: 0,\n\t\t\tstartSpan: 0,\n\t\t\tstartCount: 0,\n\t\t\tcaptured: false,\n\t\t\tthreshold: 40\n\t\t};\n\n\t/**\n\t * Starts up the presentation if the client is capable.\n\t */\n\tfunction initialize( options ) {\n\n\t\tcheckCapabilities();\n\n\t\tif( !features.transforms2d && !features.transforms3d ) {\n\t\t\tdocument.body.setAttribute( 'class', 'no-transforms' );\n\n\t\t\t// If the browser doesn't support core features we won't be\n\t\t\t// using JavaScript to control the presentation\n\t\t\treturn;\n\t\t}\n\n\t\t// Force a layout when the whole page, incl fonts, has loaded\n\t\twindow.addEventListener( 'load', layout, false );\n\n\t\tvar query = Reveal.getQueryHash();\n\n\t\t// Do not accept new dependencies via query config to avoid\n\t\t// the potential of malicious script injection\n\t\tif( typeof query['dependencies'] !== 'undefined' ) delete query['dependencies'];\n\n\t\t// Copy options over to our config object\n\t\textend( config, options );\n\t\textend( config, query );\n\n\t\t// Hide the address bar in mobile browsers\n\t\thideAddressBar();\n\n\t\t// Loads the dependencies and continues to #start() once done\n\t\tload();\n\n\t}\n\n\t/**\n\t * Inspect the client to see what it's capable of, this\n\t * should only happens once per runtime.\n\t */\n\tfunction checkCapabilities() {\n\n\t\tfeatures.transforms3d = 'WebkitPerspective' in document.body.style ||\n\t\t\t\t\t\t\t\t'MozPerspective' in document.body.style ||\n\t\t\t\t\t\t\t\t'msPerspective' in document.body.style ||\n\t\t\t\t\t\t\t\t'OPerspective' in document.body.style ||\n\t\t\t\t\t\t\t\t'perspective' in document.body.style;\n\n\t\tfeatures.transforms2d = 'WebkitTransform' in document.body.style ||\n\t\t\t\t\t\t\t\t'MozTransform' in document.body.style ||\n\t\t\t\t\t\t\t\t'msTransform' in document.body.style ||\n\t\t\t\t\t\t\t\t'OTransform' in document.body.style ||\n\t\t\t\t\t\t\t\t'transform' in document.body.style;\n\n\t\tfeatures.requestAnimationFrameMethod = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\t\tfeatures.requestAnimationFrame = typeof features.requestAnimationFrameMethod === 'function';\n\n\t\tfeatures.canvas = !!document.createElement( 'canvas' ).getContext;\n\n\t\tisMobileDevice = navigator.userAgent.match( /(iphone|ipod|android)/gi );\n\n\t}\n\n\n    /**\n     * Loads the dependencies of reveal.js. Dependencies are\n     * defined via the configuration option 'dependencies'\n     * and will be loaded prior to starting/binding reveal.js.\n     * Some dependencies may have an 'async' flag, if so they\n     * will load after reveal.js has been started up.\n     */\n\tfunction load() {\n\n\t\tvar scripts = [],\n\t\t\tscriptsAsync = [],\n\t\t\tscriptsToPreload = 0;\n\n\t\t// Called once synchronous scripts finish loading\n\t\tfunction proceed() {\n\t\t\tif( scriptsAsync.length ) {\n\t\t\t\t// Load asynchronous scripts\n\t\t\t\thead.js.apply( null, scriptsAsync );\n\t\t\t}\n\n\t\t\tstart();\n\t\t}\n\n\t\tfunction loadScript( s ) {\n\t\t\thead.ready( s.src.match( /([\\w\\d_\\-]*)\\.?js$|[^\\\\\\/]*$/i )[0], function() {\n\t\t\t\t// Extension may contain callback functions\n\t\t\t\tif( typeof s.callback === 'function' ) {\n\t\t\t\t\ts.callback.apply( this );\n\t\t\t\t}\n\n\t\t\t\tif( --scriptsToPreload === 0 ) {\n\t\t\t\t\tproceed();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor( var i = 0, len = config.dependencies.length; i < len; i++ ) {\n\t\t\tvar s = config.dependencies[i];\n\n\t\t\t// Load if there's no condition or the condition is truthy\n\t\t\tif( !s.condition || s.condition() ) {\n\t\t\t\tif( s.async ) {\n\t\t\t\t\tscriptsAsync.push( s.src );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tscripts.push( s.src );\n\t\t\t\t}\n\n\t\t\t\tloadScript( s );\n\t\t\t}\n\t\t}\n\n\t\tif( scripts.length ) {\n\t\t\tscriptsToPreload = scripts.length;\n\n\t\t\t// Load synchronous scripts\n\t\t\thead.js.apply( null, scripts );\n\t\t}\n\t\telse {\n\t\t\tproceed();\n\t\t}\n\n\t}\n\n\t/**\n\t * Starts up reveal.js by binding input events and navigating\n\t * to the current URL deeplink if there is one.\n\t */\n\tfunction start() {\n\n\t\t// Make sure we've got all the DOM elements we need\n\t\tsetupDOM();\n\n\t\t// Resets all vertical slides so that only the first is visible\n\t\tresetVerticalSlides();\n\n\t\t// Updates the presentation to match the current configuration values\n\t\tconfigure();\n\n\t\t// Read the initial hash\n\t\treadURL();\n\n\t\t// Update all backgrounds\n\t\tupdateBackground( true );\n\n\t\t// Notify listeners that the presentation is ready but use a 1ms\n\t\t// timeout to ensure it's not fired synchronously after #initialize()\n\t\tsetTimeout( function() {\n\t\t\t// Enable transitions now that we're loaded\n\t\t\tdom.slides.classList.remove( 'no-transition' );\n\n\t\t\tloaded = true;\n\n\t\t\tdispatchEvent( 'ready', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'currentSlide': currentSlide\n\t\t\t} );\n\t\t}, 1 );\n\n\t}\n\n\t/**\n\t * Finds and stores references to DOM elements which are\n\t * required by the presentation. If a required element is\n\t * not found, it is created.\n\t */\n\tfunction setupDOM() {\n\n\t\t// Cache references to key DOM elements\n\t\tdom.theme = document.querySelector( '#theme' );\n\t\tdom.wrapper = document.querySelector( '.reveal' );\n\t\tdom.slides = document.querySelector( '.reveal .slides' );\n\n\t\t// Prevent transitions while we're loading\n\t\tdom.slides.classList.add( 'no-transition' );\n\n\t\t// Background element\n\t\tdom.background = createSingletonNode( dom.wrapper, 'div', 'backgrounds', null );\n\n\t\t// Progress bar\n\t\tdom.progress = createSingletonNode( dom.wrapper, 'div', 'progress', '<span></span>' );\n\t\tdom.progressbar = dom.progress.querySelector( 'span' );\n\n\t\t// Arrow controls\n\t\tcreateSingletonNode( dom.wrapper, 'aside', 'controls',\n\t\t\t'<div class=\"navigate-left\"></div>' +\n\t\t\t'<div class=\"navigate-right\"></div>' +\n\t\t\t'<div class=\"navigate-up\"></div>' +\n\t\t\t'<div class=\"navigate-down\"></div>' );\n\n\t\t// Slide number\n\t\tdom.slideNumber = createSingletonNode( dom.wrapper, 'div', 'slide-number', '' );\n\n\t\t// State background element [DEPRECATED]\n\t\tcreateSingletonNode( dom.wrapper, 'div', 'state-background', null );\n\n\t\t// Overlay graphic which is displayed during the paused mode\n\t\tcreateSingletonNode( dom.wrapper, 'div', 'pause-overlay', null );\n\n\t\t// Cache references to elements\n\t\tdom.controls = document.querySelector( '.reveal .controls' );\n\n\t\t// There can be multiple instances of controls throughout the page\n\t\tdom.controlsLeft = toArray( document.querySelectorAll( '.navigate-left' ) );\n\t\tdom.controlsRight = toArray( document.querySelectorAll( '.navigate-right' ) );\n\t\tdom.controlsUp = toArray( document.querySelectorAll( '.navigate-up' ) );\n\t\tdom.controlsDown = toArray( document.querySelectorAll( '.navigate-down' ) );\n\t\tdom.controlsPrev = toArray( document.querySelectorAll( '.navigate-prev' ) );\n\t\tdom.controlsNext = toArray( document.querySelectorAll( '.navigate-next' ) );\n\n\t}\n\n\t/**\n\t * Creates an HTML element and returns a reference to it.\n\t * If the element already exists the existing instance will\n\t * be returned.\n\t */\n\tfunction createSingletonNode( container, tagname, classname, innerHTML ) {\n\n\t\tvar node = container.querySelector( '.' + classname );\n\t\tif( !node ) {\n\t\t\tnode = document.createElement( tagname );\n\t\t\tnode.classList.add( classname );\n\t\t\tif( innerHTML !== null ) {\n\t\t\t\tnode.innerHTML = innerHTML;\n\t\t\t}\n\t\t\tcontainer.appendChild( node );\n\t\t}\n\t\treturn node;\n\n\t}\n\n\t/**\n\t * Creates the slide background elements and appends them\n\t * to the background container. One element is created per\n\t * slide no matter if the given slide has visible background.\n\t */\n\tfunction createBackgrounds() {\n\n\t\tif( isPrintingPDF() ) {\n\t\t\tdocument.body.classList.add( 'print-pdf' );\n\t\t}\n\n\t\t// Clear prior backgrounds\n\t\tdom.background.innerHTML = '';\n\t\tdom.background.classList.add( 'no-transition' );\n\n\t\t// Helper method for creating a background element for the\n\t\t// given slide\n\t\tfunction _createBackground( slide, container ) {\n\n\t\t\tvar data = {\n\t\t\t\tbackground: slide.getAttribute( 'data-background' ),\n\t\t\t\tbackgroundSize: slide.getAttribute( 'data-background-size' ),\n\t\t\t\tbackgroundImage: slide.getAttribute( 'data-background-image' ),\n\t\t\t\tbackgroundColor: slide.getAttribute( 'data-background-color' ),\n\t\t\t\tbackgroundRepeat: slide.getAttribute( 'data-background-repeat' ),\n\t\t\t\tbackgroundPosition: slide.getAttribute( 'data-background-position' ),\n\t\t\t\tbackgroundTransition: slide.getAttribute( 'data-background-transition' )\n\t\t\t};\n\n\t\t\tvar element = document.createElement( 'div' );\n\t\t\telement.className = 'slide-background';\n\n\t\t\tif( data.background ) {\n\t\t\t\t// Auto-wrap image urls in url(...)\n\t\t\t\tif( /^(http|file|\\/\\/)/gi.test( data.background ) || /\\.(svg|png|jpg|jpeg|gif|bmp)$/gi.test( data.background ) ) {\n\t\t\t\t\telement.style.backgroundImage = 'url('+ data.background +')';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\telement.style.background = data.background;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( data.background || data.backgroundColor || data.backgroundImage ) {\n\t\t\t\telement.setAttribute( 'data-background-hash', data.background + data.backgroundSize + data.backgroundImage + data.backgroundColor + data.backgroundRepeat + data.backgroundPosition + data.backgroundTransition );\n\t\t\t}\n\n\t\t\t// Additional and optional background properties\n\t\t\tif( data.backgroundSize ) element.style.backgroundSize = data.backgroundSize;\n\t\t\tif( data.backgroundImage ) element.style.backgroundImage = 'url(\"' + data.backgroundImage + '\")';\n\t\t\tif( data.backgroundColor ) element.style.backgroundColor = data.backgroundColor;\n\t\t\tif( data.backgroundRepeat ) element.style.backgroundRepeat = data.backgroundRepeat;\n\t\t\tif( data.backgroundPosition ) element.style.backgroundPosition = data.backgroundPosition;\n\t\t\tif( data.backgroundTransition ) element.setAttribute( 'data-background-transition', data.backgroundTransition );\n\n\t\t\tcontainer.appendChild( element );\n\n\t\t\treturn element;\n\n\t\t}\n\n\t\t// Iterate over all horizontal slides\n\t\ttoArray( document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) ).forEach( function( slideh ) {\n\n\t\t\tvar backgroundStack;\n\n\t\t\tif( isPrintingPDF() ) {\n\t\t\t\tbackgroundStack = _createBackground( slideh, slideh );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbackgroundStack = _createBackground( slideh, dom.background );\n\t\t\t}\n\n\t\t\t// Iterate over all vertical slides\n\t\t\ttoArray( slideh.querySelectorAll( 'section' ) ).forEach( function( slidev ) {\n\n\t\t\t\tif( isPrintingPDF() ) {\n\t\t\t\t\t_createBackground( slidev, slidev );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t_createBackground( slidev, backgroundStack );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t\t// Add parallax background if specified\n\t\tif( config.parallaxBackgroundImage ) {\n\n\t\t\tdom.background.style.backgroundImage = 'url(\"' + config.parallaxBackgroundImage + '\")';\n\t\t\tdom.background.style.backgroundSize = config.parallaxBackgroundSize;\n\n\t\t\t// Make sure the below properties are set on the element - these properties are\n\t\t\t// needed for proper transitions to be set on the element via CSS. To remove\n\t\t\t// annoying background slide-in effect when the presentation starts, apply\n\t\t\t// these properties after short time delay\n\t\t\tsetTimeout( function() {\n\t\t\t\tdom.wrapper.classList.add( 'has-parallax-background' );\n\t\t\t}, 1 );\n\n\t\t}\n\t\telse {\n\n\t\t\tdom.background.style.backgroundImage = '';\n\t\t\tdom.wrapper.classList.remove( 'has-parallax-background' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies the configuration settings from the config\n\t * object. May be called multiple times.\n\t */\n\tfunction configure( options ) {\n\n\t\tvar numberOfSlides = document.querySelectorAll( SLIDES_SELECTOR ).length;\n\n\t\tdom.wrapper.classList.remove( config.transition );\n\n\t\t// New config options may be passed when this method\n\t\t// is invoked through the API after initialization\n\t\tif( typeof options === 'object' ) extend( config, options );\n\n\t\t// Force linear transition based on browser capabilities\n\t\tif( features.transforms3d === false ) config.transition = 'linear';\n\n\t\tdom.wrapper.classList.add( config.transition );\n\n\t\tdom.wrapper.setAttribute( 'data-transition-speed', config.transitionSpeed );\n\t\tdom.wrapper.setAttribute( 'data-background-transition', config.backgroundTransition );\n\n\t\tdom.controls.style.display = config.controls ? 'block' : 'none';\n\t\tdom.progress.style.display = config.progress ? 'block' : 'none';\n\n\t\tif( config.rtl ) {\n\t\t\tdom.wrapper.classList.add( 'rtl' );\n\t\t}\n\t\telse {\n\t\t\tdom.wrapper.classList.remove( 'rtl' );\n\t\t}\n\n\t\tif( config.center ) {\n\t\t\tdom.wrapper.classList.add( 'center' );\n\t\t}\n\t\telse {\n\t\t\tdom.wrapper.classList.remove( 'center' );\n\t\t}\n\n\t\tif( config.mouseWheel ) {\n\t\t\tdocument.addEventListener( 'DOMMouseScroll', onDocumentMouseScroll, false ); // FF\n\t\t\tdocument.addEventListener( 'mousewheel', onDocumentMouseScroll, false );\n\t\t}\n\t\telse {\n\t\t\tdocument.removeEventListener( 'DOMMouseScroll', onDocumentMouseScroll, false ); // FF\n\t\t\tdocument.removeEventListener( 'mousewheel', onDocumentMouseScroll, false );\n\t\t}\n\n\t\t// Rolling 3D links\n\t\tif( config.rollingLinks ) {\n\t\t\tenableRollingLinks();\n\t\t}\n\t\telse {\n\t\t\tdisableRollingLinks();\n\t\t}\n\n\t\t// Iframe link previews\n\t\tif( config.previewLinks ) {\n\t\t\tenablePreviewLinks();\n\t\t}\n\t\telse {\n\t\t\tdisablePreviewLinks();\n\t\t\tenablePreviewLinks( '[data-preview-link]' );\n\t\t}\n\n\t\t// Auto-slide playback controls\n\t\tif( numberOfSlides > 1 && config.autoSlide && config.autoSlideStoppable && features.canvas && features.requestAnimationFrame ) {\n\t\t\tautoSlidePlayer = new Playback( dom.wrapper, function() {\n\t\t\t\treturn Math.min( Math.max( ( Date.now() - autoSlideStartTime ) / autoSlide, 0 ), 1 );\n\t\t\t} );\n\n\t\t\tautoSlidePlayer.on( 'click', onAutoSlidePlayerClick );\n\t\t\tautoSlidePaused = false;\n\t\t}\n\t\telse if( autoSlidePlayer ) {\n\t\t\tautoSlidePlayer.destroy();\n\t\t\tautoSlidePlayer = null;\n\t\t}\n\n\t\t// Load the theme in the config, if it's not already loaded\n\t\tif( config.theme && dom.theme ) {\n\t\t\tvar themeURL = dom.theme.getAttribute( 'href' );\n\t\t\tvar themeFinder = /[^\\/]*?(?=\\.css)/;\n\t\t\tvar themeName = themeURL.match(themeFinder)[0];\n\n\t\t\tif(  config.theme !== themeName ) {\n\t\t\t\tthemeURL = themeURL.replace(themeFinder, config.theme);\n\t\t\t\tdom.theme.setAttribute( 'href', themeURL );\n\t\t\t}\n\t\t}\n\n\t\tsync();\n\n\t}\n\n\t/**\n\t * Binds all event listeners.\n\t */\n\tfunction addEventListeners() {\n\n\t\teventsAreBound = true;\n\n\t\twindow.addEventListener( 'hashchange', onWindowHashChange, false );\n\t\twindow.addEventListener( 'resize', onWindowResize, false );\n\n\t\tif( config.touch ) {\n\t\t\tdom.wrapper.addEventListener( 'touchstart', onTouchStart, false );\n\t\t\tdom.wrapper.addEventListener( 'touchmove', onTouchMove, false );\n\t\t\tdom.wrapper.addEventListener( 'touchend', onTouchEnd, false );\n\n\t\t\t// Support pointer-style touch interaction as well\n\t\t\tif( window.navigator.msPointerEnabled ) {\n\t\t\t\tdom.wrapper.addEventListener( 'MSPointerDown', onPointerDown, false );\n\t\t\t\tdom.wrapper.addEventListener( 'MSPointerMove', onPointerMove, false );\n\t\t\t\tdom.wrapper.addEventListener( 'MSPointerUp', onPointerUp, false );\n\t\t\t}\n\t\t}\n\n\t\tif( config.keyboard ) {\n\t\t\tdocument.addEventListener( 'keydown', onDocumentKeyDown, false );\n\t\t}\n\n\t\tif( config.progress && dom.progress ) {\n\t\t\tdom.progress.addEventListener( 'click', onProgressClicked, false );\n\t\t}\n\n\t\tif( config.focusBodyOnPageVisiblityChange ) {\n\t\t\tvar visibilityChange;\n\n\t\t\tif( 'hidden' in document ) {\n\t\t\t\tvisibilityChange = 'visibilitychange';\n\t\t\t}\n\t\t\telse if( 'msHidden' in document ) {\n\t\t\t\tvisibilityChange = 'msvisibilitychange';\n\t\t\t}\n\t\t\telse if( 'webkitHidden' in document ) {\n\t\t\t\tvisibilityChange = 'webkitvisibilitychange';\n\t\t\t}\n\n\t\t\tif( visibilityChange ) {\n\t\t\t\tdocument.addEventListener( visibilityChange, onPageVisibilityChange, false );\n\t\t\t}\n\t\t}\n\n\t\t[ 'touchstart', 'click' ].forEach( function( eventName ) {\n\t\t\tdom.controlsLeft.forEach( function( el ) { el.addEventListener( eventName, onNavigateLeftClicked, false ); } );\n\t\t\tdom.controlsRight.forEach( function( el ) { el.addEventListener( eventName, onNavigateRightClicked, false ); } );\n\t\t\tdom.controlsUp.forEach( function( el ) { el.addEventListener( eventName, onNavigateUpClicked, false ); } );\n\t\t\tdom.controlsDown.forEach( function( el ) { el.addEventListener( eventName, onNavigateDownClicked, false ); } );\n\t\t\tdom.controlsPrev.forEach( function( el ) { el.addEventListener( eventName, onNavigatePrevClicked, false ); } );\n\t\t\tdom.controlsNext.forEach( function( el ) { el.addEventListener( eventName, onNavigateNextClicked, false ); } );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Unbinds all event listeners.\n\t */\n\tfunction removeEventListeners() {\n\n\t\teventsAreBound = false;\n\n\t\tdocument.removeEventListener( 'keydown', onDocumentKeyDown, false );\n\t\twindow.removeEventListener( 'hashchange', onWindowHashChange, false );\n\t\twindow.removeEventListener( 'resize', onWindowResize, false );\n\n\t\tdom.wrapper.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tdom.wrapper.removeEventListener( 'touchmove', onTouchMove, false );\n\t\tdom.wrapper.removeEventListener( 'touchend', onTouchEnd, false );\n\n\t\tif( window.navigator.msPointerEnabled ) {\n\t\t\tdom.wrapper.removeEventListener( 'MSPointerDown', onPointerDown, false );\n\t\t\tdom.wrapper.removeEventListener( 'MSPointerMove', onPointerMove, false );\n\t\t\tdom.wrapper.removeEventListener( 'MSPointerUp', onPointerUp, false );\n\t\t}\n\n\t\tif ( config.progress && dom.progress ) {\n\t\t\tdom.progress.removeEventListener( 'click', onProgressClicked, false );\n\t\t}\n\n\t\t[ 'touchstart', 'click' ].forEach( function( eventName ) {\n\t\t\tdom.controlsLeft.forEach( function( el ) { el.removeEventListener( eventName, onNavigateLeftClicked, false ); } );\n\t\t\tdom.controlsRight.forEach( function( el ) { el.removeEventListener( eventName, onNavigateRightClicked, false ); } );\n\t\t\tdom.controlsUp.forEach( function( el ) { el.removeEventListener( eventName, onNavigateUpClicked, false ); } );\n\t\t\tdom.controlsDown.forEach( function( el ) { el.removeEventListener( eventName, onNavigateDownClicked, false ); } );\n\t\t\tdom.controlsPrev.forEach( function( el ) { el.removeEventListener( eventName, onNavigatePrevClicked, false ); } );\n\t\t\tdom.controlsNext.forEach( function( el ) { el.removeEventListener( eventName, onNavigateNextClicked, false ); } );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Extend object a with the properties of object b.\n\t * If there's a conflict, object b takes precedence.\n\t */\n\tfunction extend( a, b ) {\n\n\t\tfor( var i in b ) {\n\t\t\ta[ i ] = b[ i ];\n\t\t}\n\n\t}\n\n\t/**\n\t * Converts the target object to an array.\n\t */\n\tfunction toArray( o ) {\n\n\t\treturn Array.prototype.slice.call( o );\n\n\t}\n\n\t/**\n\t * Measures the distance in pixels between point a\n\t * and point b.\n\t *\n\t * @param {Object} a point with x/y properties\n\t * @param {Object} b point with x/y properties\n\t */\n\tfunction distanceBetween( a, b ) {\n\n\t\tvar dx = a.x - b.x,\n\t\t\tdy = a.y - b.y;\n\n\t\treturn Math.sqrt( dx*dx + dy*dy );\n\n\t}\n\n\t/**\n\t * Applies a CSS transform to the target element.\n\t */\n\tfunction transformElement( element, transform ) {\n\n\t\telement.style.WebkitTransform = transform;\n\t\telement.style.MozTransform = transform;\n\t\telement.style.msTransform = transform;\n\t\telement.style.OTransform = transform;\n\t\telement.style.transform = transform;\n\n\t}\n\n\t/**\n\t * Retrieves the height of the given element by looking\n\t * at the position and height of its immediate children.\n\t */\n\tfunction getAbsoluteHeight( element ) {\n\n\t\tvar height = 0;\n\n\t\tif( element ) {\n\t\t\tvar absoluteChildren = 0;\n\n\t\t\ttoArray( element.childNodes ).forEach( function( child ) {\n\n\t\t\t\tif( typeof child.offsetTop === 'number' && child.style ) {\n\t\t\t\t\t// Count # of abs children\n\t\t\t\t\tif( child.style.position === 'absolute' ) {\n\t\t\t\t\t\tabsoluteChildren += 1;\n\t\t\t\t\t}\n\n\t\t\t\t\theight = Math.max( height, child.offsetTop + child.offsetHeight );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t// If there are no absolute children, use offsetHeight\n\t\t\tif( absoluteChildren === 0 ) {\n\t\t\t\theight = element.offsetHeight;\n\t\t\t}\n\n\t\t}\n\n\t\treturn height;\n\n\t}\n\n\t/**\n\t * Returns the remaining height within the parent of the\n\t * target element after subtracting the height of all\n\t * siblings.\n\t *\n\t * remaining height = [parent height] - [ siblings height]\n\t */\n\tfunction getRemainingHeight( element, height ) {\n\n\t\theight = height || 0;\n\n\t\tif( element ) {\n\t\t\tvar parent = element.parentNode;\n\t\t\tvar siblings = parent.childNodes;\n\n\t\t\t// Subtract the height of each sibling\n\t\t\ttoArray( siblings ).forEach( function( sibling ) {\n\n\t\t\t\tif( typeof sibling.offsetHeight === 'number' && sibling !== element ) {\n\n\t\t\t\t\tvar styles = window.getComputedStyle( sibling ),\n\t\t\t\t\t\tmarginTop = parseInt( styles.marginTop, 10 ),\n\t\t\t\t\t\tmarginBottom = parseInt( styles.marginBottom, 10 );\n\n\t\t\t\t\theight -= sibling.offsetHeight + marginTop + marginBottom;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tvar elementStyles = window.getComputedStyle( element );\n\n\t\t\t// Subtract the margins of the target element\n\t\t\theight -= parseInt( elementStyles.marginTop, 10 ) +\n\t\t\t\t\t\tparseInt( elementStyles.marginBottom, 10 );\n\n\t\t}\n\n\t\treturn height;\n\n\t}\n\n\t/**\n\t * Checks if this instance is being used to print a PDF.\n\t */\n\tfunction isPrintingPDF() {\n\n\t\treturn ( /print-pdf/gi ).test( window.location.search );\n\n\t}\n\n\t/**\n\t * Hides the address bar if we're on a mobile device.\n\t */\n\tfunction hideAddressBar() {\n\n\t\tif( config.hideAddressBar && isMobileDevice ) {\n\t\t\t// Events that should trigger the address bar to hide\n\t\t\twindow.addEventListener( 'load', removeAddressBar, false );\n\t\t\twindow.addEventListener( 'orientationchange', removeAddressBar, false );\n\t\t}\n\n\t}\n\n\t/**\n\t * Causes the address bar to hide on mobile devices,\n\t * more vertical space ftw.\n\t */\n\tfunction removeAddressBar() {\n\n\t\tsetTimeout( function() {\n\t\t\twindow.scrollTo( 0, 1 );\n\t\t}, 10 );\n\n\t}\n\n\t/**\n\t * Dispatches an event of the specified type from the\n\t * reveal DOM element.\n\t */\n\tfunction dispatchEvent( type, properties ) {\n\n\t\tvar event = document.createEvent( \"HTMLEvents\", 1, 2 );\n\t\tevent.initEvent( type, true, true );\n\t\textend( event, properties );\n\t\tdom.wrapper.dispatchEvent( event );\n\n\t}\n\n\t/**\n\t * Wrap all links in 3D goodness.\n\t */\n\tfunction enableRollingLinks() {\n\n\t\tif( features.transforms3d && !( 'msPerspective' in document.body.style ) ) {\n\t\t\tvar anchors = document.querySelectorAll( SLIDES_SELECTOR + ' a:not(.image)' );\n\n\t\t\tfor( var i = 0, len = anchors.length; i < len; i++ ) {\n\t\t\t\tvar anchor = anchors[i];\n\n\t\t\t\tif( anchor.textContent && !anchor.querySelector( '*' ) && ( !anchor.className || !anchor.classList.contains( anchor, 'roll' ) ) ) {\n\t\t\t\t\tvar span = document.createElement('span');\n\t\t\t\t\tspan.setAttribute('data-title', anchor.text);\n\t\t\t\t\tspan.innerHTML = anchor.innerHTML;\n\n\t\t\t\t\tanchor.classList.add( 'roll' );\n\t\t\t\t\tanchor.innerHTML = '';\n\t\t\t\t\tanchor.appendChild(span);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Unwrap all 3D links.\n\t */\n\tfunction disableRollingLinks() {\n\n\t\tvar anchors = document.querySelectorAll( SLIDES_SELECTOR + ' a.roll' );\n\n\t\tfor( var i = 0, len = anchors.length; i < len; i++ ) {\n\t\t\tvar anchor = anchors[i];\n\t\t\tvar span = anchor.querySelector( 'span' );\n\n\t\t\tif( span ) {\n\t\t\t\tanchor.classList.remove( 'roll' );\n\t\t\t\tanchor.innerHTML = span.innerHTML;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Bind preview frame links.\n\t */\n\tfunction enablePreviewLinks( selector ) {\n\n\t\tvar anchors = toArray( document.querySelectorAll( selector ? selector : 'a' ) );\n\n\t\tanchors.forEach( function( element ) {\n\t\t\tif( /^(http|www)/gi.test( element.getAttribute( 'href' ) ) ) {\n\t\t\t\telement.addEventListener( 'click', onPreviewLinkClicked, false );\n\t\t\t}\n\t\t} );\n\n\t}\n\n\t/**\n\t * Unbind preview frame links.\n\t */\n\tfunction disablePreviewLinks() {\n\n\t\tvar anchors = toArray( document.querySelectorAll( 'a' ) );\n\n\t\tanchors.forEach( function( element ) {\n\t\t\tif( /^(http|www)/gi.test( element.getAttribute( 'href' ) ) ) {\n\t\t\t\telement.removeEventListener( 'click', onPreviewLinkClicked, false );\n\t\t\t}\n\t\t} );\n\n\t}\n\n\t/**\n\t * Opens a preview window for the target URL.\n\t */\n\tfunction openPreview( url ) {\n\n\t\tclosePreview();\n\n\t\tdom.preview = document.createElement( 'div' );\n\t\tdom.preview.classList.add( 'preview-link-overlay' );\n\t\tdom.wrapper.appendChild( dom.preview );\n\n\t\tdom.preview.innerHTML = [\n\t\t\t'<header>',\n\t\t\t\t'<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>',\n\t\t\t\t'<a class=\"external\" href=\"'+ url +'\" target=\"_blank\"><span class=\"icon\"></span></a>',\n\t\t\t'</header>',\n\t\t\t'<div class=\"spinner\"></div>',\n\t\t\t'<div class=\"viewport\">',\n\t\t\t\t'<iframe src=\"'+ url +'\"></iframe>',\n\t\t\t'</div>'\n\t\t].join('');\n\n\t\tdom.preview.querySelector( 'iframe' ).addEventListener( 'load', function( event ) {\n\t\t\tdom.preview.classList.add( 'loaded' );\n\t\t}, false );\n\n\t\tdom.preview.querySelector( '.close' ).addEventListener( 'click', function( event ) {\n\t\t\tclosePreview();\n\t\t\tevent.preventDefault();\n\t\t}, false );\n\n\t\tdom.preview.querySelector( '.external' ).addEventListener( 'click', function( event ) {\n\t\t\tclosePreview();\n\t\t}, false );\n\n\t\tsetTimeout( function() {\n\t\t\tdom.preview.classList.add( 'visible' );\n\t\t}, 1 );\n\n\t}\n\n\t/**\n\t * Closes the iframe preview window.\n\t */\n\tfunction closePreview() {\n\n\t\tif( dom.preview ) {\n\t\t\tdom.preview.setAttribute( 'src', '' );\n\t\t\tdom.preview.parentNode.removeChild( dom.preview );\n\t\t\tdom.preview = null;\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies JavaScript-controlled layout rules to the\n\t * presentation.\n\t */\n\tfunction layout() {\n\n\t\tif( dom.wrapper && !isPrintingPDF() ) {\n\n\t\t\t// Available space to scale within\n\t\t\tvar availableWidth = dom.wrapper.offsetWidth,\n\t\t\t\tavailableHeight = dom.wrapper.offsetHeight;\n\n\t\t\t// Reduce available space by margin\n\t\t\tavailableWidth -= ( availableHeight * config.margin );\n\t\t\tavailableHeight -= ( availableHeight * config.margin );\n\n\t\t\t// Dimensions of the content\n\t\t\tvar slideWidth = config.width,\n\t\t\t\tslideHeight = config.height,\n\t\t\t\tslidePadding = 20; // TODO Dig this out of DOM\n\n\t\t\t// Layout the contents of the slides\n\t\t\tlayoutSlideContents( config.width, config.height, slidePadding );\n\n\t\t\t// Slide width may be a percentage of available width\n\t\t\tif( typeof slideWidth === 'string' && /%$/.test( slideWidth ) ) {\n\t\t\t\tslideWidth = parseInt( slideWidth, 10 ) / 100 * availableWidth;\n\t\t\t}\n\n\t\t\t// Slide height may be a percentage of available height\n\t\t\tif( typeof slideHeight === 'string' && /%$/.test( slideHeight ) ) {\n\t\t\t\tslideHeight = parseInt( slideHeight, 10 ) / 100 * availableHeight;\n\t\t\t}\n\n\t\t\tdom.slides.style.width = slideWidth + 'px';\n\t\t\tdom.slides.style.height = slideHeight + 'px';\n\n\t\t\t// Determine scale of content to fit within available space\n\t\t\tscale = Math.min( availableWidth / slideWidth, availableHeight / slideHeight );\n\n\t\t\t// Respect max/min scale settings\n\t\t\tscale = Math.max( scale, config.minScale );\n\t\t\tscale = Math.min( scale, config.maxScale );\n\n\t\t\t// Prefer applying scale via zoom since Chrome blurs scaled content\n\t\t\t// with nested transforms\n\t\t\tif( typeof dom.slides.style.zoom !== 'undefined' && !navigator.userAgent.match( /(iphone|ipod|ipad|android)/gi ) ) {\n\t\t\t\tdom.slides.style.zoom = scale;\n\t\t\t}\n\t\t\t// Apply scale transform as a fallback\n\t\t\telse {\n\t\t\t\ttransformElement( dom.slides, 'translate(-50%, -50%) scale('+ scale +') translate(50%, 50%)' );\n\t\t\t}\n\n\t\t\t// Select all slides, vertical and horizontal\n\t\t\tvar slides = toArray( document.querySelectorAll( SLIDES_SELECTOR ) );\n\n\t\t\tfor( var i = 0, len = slides.length; i < len; i++ ) {\n\t\t\t\tvar slide = slides[ i ];\n\n\t\t\t\t// Don't bother updating invisible slides\n\t\t\t\tif( slide.style.display === 'none' ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif( config.center || slide.classList.contains( 'center' ) ) {\n\t\t\t\t\t// Vertical stacks are not centred since their section\n\t\t\t\t\t// children will be\n\t\t\t\t\tif( slide.classList.contains( 'stack' ) ) {\n\t\t\t\t\t\tslide.style.top = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tslide.style.top = Math.max( - ( getAbsoluteHeight( slide ) / 2 ) - slidePadding, -slideHeight / 2 ) + 'px';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tslide.style.top = '';\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tupdateProgress();\n\t\t\tupdateParallax();\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies layout logic to the contents of all slides in\n\t * the presentation.\n\t */\n\tfunction layoutSlideContents( width, height, padding ) {\n\n\t\t// Handle sizing of elements with the 'stretch' class\n\t\ttoArray( dom.slides.querySelectorAll( 'section > .stretch' ) ).forEach( function( element ) {\n\n\t\t\t// Determine how much vertical space we can use\n\t\t\tvar remainingHeight = getRemainingHeight( element, ( height - ( padding * 2 ) ) );\n\n\t\t\t// Consider the aspect ratio of media elements\n\t\t\tif( /(img|video)/gi.test( element.nodeName ) ) {\n\t\t\t\tvar nw = element.naturalWidth || element.videoWidth,\n\t\t\t\t\tnh = element.naturalHeight || element.videoHeight;\n\n\t\t\t\tvar es = Math.min( width / nw, remainingHeight / nh );\n\n\t\t\t\telement.style.width = ( nw * es ) + 'px';\n\t\t\t\telement.style.height = ( nh * es ) + 'px';\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.style.width = width + 'px';\n\t\t\t\telement.style.height = remainingHeight + 'px';\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Stores the vertical index of a stack so that the same\n\t * vertical slide can be selected when navigating to and\n\t * from the stack.\n\t *\n\t * @param {HTMLElement} stack The vertical stack element\n\t * @param {int} v Index to memorize\n\t */\n\tfunction setPreviousVerticalIndex( stack, v ) {\n\n\t\tif( typeof stack === 'object' && typeof stack.setAttribute === 'function' ) {\n\t\t\tstack.setAttribute( 'data-previous-indexv', v || 0 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Retrieves the vertical index which was stored using\n\t * #setPreviousVerticalIndex() or 0 if no previous index\n\t * exists.\n\t *\n\t * @param {HTMLElement} stack The vertical stack element\n\t */\n\tfunction getPreviousVerticalIndex( stack ) {\n\n\t\tif( typeof stack === 'object' && typeof stack.setAttribute === 'function' && stack.classList.contains( 'stack' ) ) {\n\t\t\t// Prefer manually defined start-indexv\n\t\t\tvar attributeName = stack.hasAttribute( 'data-start-indexv' ) ? 'data-start-indexv' : 'data-previous-indexv';\n\n\t\t\treturn parseInt( stack.getAttribute( attributeName ) || 0, 10 );\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t * Displays the overview of slides (quick nav) by\n\t * scaling down and arranging all slide elements.\n\t *\n\t * Experimental feature, might be dropped if perf\n\t * can't be improved.\n\t */\n\tfunction activateOverview() {\n\n\t\t// Only proceed if enabled in config\n\t\tif( config.overview ) {\n\n\t\t\t// Don't auto-slide while in overview mode\n\t\t\tcancelAutoSlide();\n\n\t\t\tvar wasActive = dom.wrapper.classList.contains( 'overview' );\n\n\t\t\t// Vary the depth of the overview based on screen size\n\t\t\tvar depth = window.innerWidth < 400 ? 1000 : 2500;\n\n\t\t\tdom.wrapper.classList.add( 'overview' );\n\t\t\tdom.wrapper.classList.remove( 'overview-deactivating' );\n\n\t\t\tclearTimeout( activateOverviewTimeout );\n\t\t\tclearTimeout( deactivateOverviewTimeout );\n\n\t\t\t// Not the pretties solution, but need to let the overview\n\t\t\t// class apply first so that slides are measured accurately\n\t\t\t// before we can position them\n\t\t\tactivateOverviewTimeout = setTimeout( function() {\n\n\t\t\t\tvar horizontalSlides = document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR );\n\n\t\t\t\tfor( var i = 0, len1 = horizontalSlides.length; i < len1; i++ ) {\n\t\t\t\t\tvar hslide = horizontalSlides[i],\n\t\t\t\t\t\thoffset = config.rtl ? -105 : 105;\n\n\t\t\t\t\thslide.setAttribute( 'data-index-h', i );\n\n\t\t\t\t\t// Apply CSS transform\n\t\t\t\t\ttransformElement( hslide, 'translateZ(-'+ depth +'px) translate(' + ( ( i - indexh ) * hoffset ) + '%, 0%)' );\n\n\t\t\t\t\tif( hslide.classList.contains( 'stack' ) ) {\n\n\t\t\t\t\t\tvar verticalSlides = hslide.querySelectorAll( 'section' );\n\n\t\t\t\t\t\tfor( var j = 0, len2 = verticalSlides.length; j < len2; j++ ) {\n\t\t\t\t\t\t\tvar verticalIndex = i === indexh ? indexv : getPreviousVerticalIndex( hslide );\n\n\t\t\t\t\t\t\tvar vslide = verticalSlides[j];\n\n\t\t\t\t\t\t\tvslide.setAttribute( 'data-index-h', i );\n\t\t\t\t\t\t\tvslide.setAttribute( 'data-index-v', j );\n\n\t\t\t\t\t\t\t// Apply CSS transform\n\t\t\t\t\t\t\ttransformElement( vslide, 'translate(0%, ' + ( ( j - verticalIndex ) * 105 ) + '%)' );\n\n\t\t\t\t\t\t\t// Navigate to this slide on click\n\t\t\t\t\t\t\tvslide.addEventListener( 'click', onOverviewSlideClicked, true );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\n\t\t\t\t\t\t// Navigate to this slide on click\n\t\t\t\t\t\thslide.addEventListener( 'click', onOverviewSlideClicked, true );\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateSlidesVisibility();\n\n\t\t\t\tlayout();\n\n\t\t\t\tif( !wasActive ) {\n\t\t\t\t\t// Notify observers of the overview showing\n\t\t\t\t\tdispatchEvent( 'overviewshown', {\n\t\t\t\t\t\t'indexh': indexh,\n\t\t\t\t\t\t'indexv': indexv,\n\t\t\t\t\t\t'currentSlide': currentSlide\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t}, 10 );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Exits the slide overview and enters the currently\n\t * active slide.\n\t */\n\tfunction deactivateOverview() {\n\n\t\t// Only proceed if enabled in config\n\t\tif( config.overview ) {\n\n\t\t\tclearTimeout( activateOverviewTimeout );\n\t\t\tclearTimeout( deactivateOverviewTimeout );\n\n\t\t\tdom.wrapper.classList.remove( 'overview' );\n\n\t\t\t// Temporarily add a class so that transitions can do different things\n\t\t\t// depending on whether they are exiting/entering overview, or just\n\t\t\t// moving from slide to slide\n\t\t\tdom.wrapper.classList.add( 'overview-deactivating' );\n\n\t\t\tdeactivateOverviewTimeout = setTimeout( function () {\n\t\t\t\tdom.wrapper.classList.remove( 'overview-deactivating' );\n\t\t\t}, 1 );\n\n\t\t\t// Select all slides\n\t\t\ttoArray( document.querySelectorAll( SLIDES_SELECTOR ) ).forEach( function( slide ) {\n\t\t\t\t// Resets all transforms to use the external styles\n\t\t\t\ttransformElement( slide, '' );\n\n\t\t\t\tslide.removeEventListener( 'click', onOverviewSlideClicked, true );\n\t\t\t} );\n\n\t\t\tslide( indexh, indexv );\n\n\t\t\tcueAutoSlide();\n\n\t\t\t// Notify observers of the overview hiding\n\t\t\tdispatchEvent( 'overviewhidden', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'currentSlide': currentSlide\n\t\t\t} );\n\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the slide overview mode on and off.\n\t *\n\t * @param {Boolean} override Optional flag which overrides the\n\t * toggle logic and forcibly sets the desired state. True means\n\t * overview is open, false means it's closed.\n\t */\n\tfunction toggleOverview( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? activateOverview() : deactivateOverview();\n\t\t}\n\t\telse {\n\t\t\tisOverview() ? deactivateOverview() : activateOverview();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if the overview is currently active.\n\t *\n\t * @return {Boolean} true if the overview is active,\n\t * false otherwise\n\t */\n\tfunction isOverview() {\n\n\t\treturn dom.wrapper.classList.contains( 'overview' );\n\n\t}\n\n\t/**\n\t * Checks if the current or specified slide is vertical\n\t * (nested within another slide).\n\t *\n\t * @param {HTMLElement} slide [optional] The slide to check\n\t * orientation of\n\t */\n\tfunction isVerticalSlide( slide ) {\n\n\t\t// Prefer slide argument, otherwise use current slide\n\t\tslide = slide ? slide : currentSlide;\n\n\t\treturn slide && slide.parentNode && !!slide.parentNode.nodeName.match( /section/i );\n\n\t}\n\n\t/**\n\t * Handling the fullscreen functionality via the fullscreen API\n\t *\n\t * @see http://fullscreen.spec.whatwg.org/\n\t * @see https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode\n\t */\n\tfunction enterFullscreen() {\n\n\t\tvar element = document.body;\n\n\t\t// Check which implementation is available\n\t\tvar requestMethod = element.requestFullScreen ||\n\t\t\t\t\t\t\telement.webkitRequestFullscreen ||\n\t\t\t\t\t\t\telement.webkitRequestFullScreen ||\n\t\t\t\t\t\t\telement.mozRequestFullScreen ||\n\t\t\t\t\t\t\telement.msRequestFullScreen;\n\n\t\tif( requestMethod ) {\n\t\t\trequestMethod.apply( element );\n\t\t}\n\n\t}\n\n\t/**\n\t * Enters the paused mode which fades everything on screen to\n\t * black.\n\t */\n\tfunction pause() {\n\n\t\tvar wasPaused = dom.wrapper.classList.contains( 'paused' );\n\n\t\tcancelAutoSlide();\n\t\tdom.wrapper.classList.add( 'paused' );\n\n\t\tif( wasPaused === false ) {\n\t\t\tdispatchEvent( 'paused' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Exits from the paused mode.\n\t */\n\tfunction resume() {\n\n\t\tvar wasPaused = dom.wrapper.classList.contains( 'paused' );\n\t\tdom.wrapper.classList.remove( 'paused' );\n\n\t\tcueAutoSlide();\n\n\t\tif( wasPaused ) {\n\t\t\tdispatchEvent( 'resumed' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Toggles the paused mode on and off.\n\t */\n\tfunction togglePause() {\n\n\t\tif( isPaused() ) {\n\t\t\tresume();\n\t\t}\n\t\telse {\n\t\t\tpause();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if we are currently in the paused mode.\n\t */\n\tfunction isPaused() {\n\n\t\treturn dom.wrapper.classList.contains( 'paused' );\n\n\t}\n\n\t/**\n\t * Steps from the current point in the presentation to the\n\t * slide which matches the specified horizontal and vertical\n\t * indices.\n\t *\n\t * @param {int} h Horizontal index of the target slide\n\t * @param {int} v Vertical index of the target slide\n\t * @param {int} f Optional index of a fragment within the\n\t * target slide to activate\n\t * @param {int} o Optional origin for use in multimaster environments\n\t */\n\tfunction slide( h, v, f, o ) {\n\n\t\t// Remember where we were at before\n\t\tpreviousSlide = currentSlide;\n\n\t\t// Query all horizontal slides in the deck\n\t\tvar horizontalSlides = document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR );\n\n\t\t// If no vertical index is specified and the upcoming slide is a\n\t\t// stack, resume at its previous vertical index\n\t\tif( v === undefined ) {\n\t\t\tv = getPreviousVerticalIndex( horizontalSlides[ h ] );\n\t\t}\n\n\t\t// If we were on a vertical stack, remember what vertical index\n\t\t// it was on so we can resume at the same position when returning\n\t\tif( previousSlide && previousSlide.parentNode && previousSlide.parentNode.classList.contains( 'stack' ) ) {\n\t\t\tsetPreviousVerticalIndex( previousSlide.parentNode, indexv );\n\t\t}\n\n\t\t// Remember the state before this slide\n\t\tvar stateBefore = state.concat();\n\n\t\t// Reset the state array\n\t\tstate.length = 0;\n\n\t\tvar indexhBefore = indexh || 0,\n\t\t\tindexvBefore = indexv || 0;\n\n\t\t// Activate and transition to the new slide\n\t\tindexh = updateSlides( HORIZONTAL_SLIDES_SELECTOR, h === undefined ? indexh : h );\n\t\tindexv = updateSlides( VERTICAL_SLIDES_SELECTOR, v === undefined ? indexv : v );\n\n\t\t// Update the visibility of slides now that the indices have changed\n\t\tupdateSlidesVisibility();\n\n\t\tlayout();\n\n\t\t// Apply the new state\n\t\tstateLoop: for( var i = 0, len = state.length; i < len; i++ ) {\n\t\t\t// Check if this state existed on the previous slide. If it\n\t\t\t// did, we will avoid adding it repeatedly\n\t\t\tfor( var j = 0; j < stateBefore.length; j++ ) {\n\t\t\t\tif( stateBefore[j] === state[i] ) {\n\t\t\t\t\tstateBefore.splice( j, 1 );\n\t\t\t\t\tcontinue stateLoop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdocument.documentElement.classList.add( state[i] );\n\n\t\t\t// Dispatch custom event matching the state's name\n\t\t\tdispatchEvent( state[i] );\n\t\t}\n\n\t\t// Clean up the remains of the previous state\n\t\twhile( stateBefore.length ) {\n\t\t\tdocument.documentElement.classList.remove( stateBefore.pop() );\n\t\t}\n\n\t\t// If the overview is active, re-activate it to update positions\n\t\tif( isOverview() ) {\n\t\t\tactivateOverview();\n\t\t}\n\n\t\t// Find the current horizontal slide and any possible vertical slides\n\t\t// within it\n\t\tvar currentHorizontalSlide = horizontalSlides[ indexh ],\n\t\t\tcurrentVerticalSlides = currentHorizontalSlide.querySelectorAll( 'section' );\n\n\t\t// Store references to the previous and current slides\n\t\tcurrentSlide = currentVerticalSlides[ indexv ] || currentHorizontalSlide;\n\n\t\t// Show fragment, if specified\n\t\tif( typeof f !== 'undefined' ) {\n\t\t\tnavigateFragment( f );\n\t\t}\n\n\t\t// Dispatch an event if the slide changed\n\t\tvar slideChanged = ( indexh !== indexhBefore || indexv !== indexvBefore );\n\t\tif( slideChanged ) {\n\t\t\tdispatchEvent( 'slidechanged', {\n\t\t\t\t'indexh': indexh,\n\t\t\t\t'indexv': indexv,\n\t\t\t\t'previousSlide': previousSlide,\n\t\t\t\t'currentSlide': currentSlide,\n\t\t\t\t'origin': o\n\t\t\t} );\n\t\t}\n\t\telse {\n\t\t\t// Ensure that the previous slide is never the same as the current\n\t\t\tpreviousSlide = null;\n\t\t}\n\n\t\t// Solves an edge case where the previous slide maintains the\n\t\t// 'present' class when navigating between adjacent vertical\n\t\t// stacks\n\t\tif( previousSlide ) {\n\t\t\tpreviousSlide.classList.remove( 'present' );\n\n\t\t\t// Reset all slides upon navigate to home\n\t\t\t// Issue: #285\n\t\t\tif ( document.querySelector( HOME_SLIDE_SELECTOR ).classList.contains( 'present' ) ) {\n\t\t\t\t// Launch async task\n\t\t\t\tsetTimeout( function () {\n\t\t\t\t\tvar slides = toArray( document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR + '.stack') ), i;\n\t\t\t\t\tfor( i in slides ) {\n\t\t\t\t\t\tif( slides[i] ) {\n\t\t\t\t\t\t\t// Reset stack\n\t\t\t\t\t\t\tsetPreviousVerticalIndex( slides[i], 0 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 0 );\n\t\t\t}\n\t\t}\n\n\t\t// Handle embedded content\n\t\tif( slideChanged ) {\n\t\t\tstopEmbeddedContent( previousSlide );\n\t\t\tstartEmbeddedContent( currentSlide );\n\t\t}\n\n\t\tupdateControls();\n\t\tupdateProgress();\n\t\tupdateBackground();\n\t\tupdateParallax();\n\t\tupdateSlideNumber();\n\n\t\t// Update the URL hash\n\t\twriteURL();\n\n\t\tcueAutoSlide();\n\n\t}\n\n\t/**\n\t * Syncs the presentation with the current DOM. Useful\n\t * when new slides or control elements are added or when\n\t * the configuration has changed.\n\t */\n\tfunction sync() {\n\n\t\t// Subscribe to input\n\t\tremoveEventListeners();\n\t\taddEventListeners();\n\n\t\t// Force a layout to make sure the current config is accounted for\n\t\tlayout();\n\n\t\t// Reflect the current autoSlide value\n\t\tautoSlide = config.autoSlide;\n\n\t\t// Start auto-sliding if it's enabled\n\t\tcueAutoSlide();\n\n\t\t// Re-create the slide backgrounds\n\t\tcreateBackgrounds();\n\n\t\tsortAllFragments();\n\n\t\tupdateControls();\n\t\tupdateProgress();\n\t\tupdateBackground( true );\n\t\tupdateSlideNumber();\n\n\t}\n\n\t/**\n\t * Resets all vertical slides so that only the first\n\t * is visible.\n\t */\n\tfunction resetVerticalSlides() {\n\n\t\tvar horizontalSlides = toArray( document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\t\thorizontalSlides.forEach( function( horizontalSlide ) {\n\n\t\t\tvar verticalSlides = toArray( horizontalSlide.querySelectorAll( 'section' ) );\n\t\t\tverticalSlides.forEach( function( verticalSlide, y ) {\n\n\t\t\t\tif( y > 0 ) {\n\t\t\t\t\tverticalSlide.classList.remove( 'present' );\n\t\t\t\t\tverticalSlide.classList.remove( 'past' );\n\t\t\t\t\tverticalSlide.classList.add( 'future' );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Sorts and formats all of fragments in the\n\t * presentation.\n\t */\n\tfunction sortAllFragments() {\n\n\t\tvar horizontalSlides = toArray( document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\t\thorizontalSlides.forEach( function( horizontalSlide ) {\n\n\t\t\tvar verticalSlides = toArray( horizontalSlide.querySelectorAll( 'section' ) );\n\t\t\tverticalSlides.forEach( function( verticalSlide, y ) {\n\n\t\t\t\tsortFragments( verticalSlide.querySelectorAll( '.fragment' ) );\n\n\t\t\t} );\n\n\t\t\tif( verticalSlides.length === 0 ) sortFragments( horizontalSlide.querySelectorAll( '.fragment' ) );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Updates one dimension of slides by showing the slide\n\t * with the specified index.\n\t *\n\t * @param {String} selector A CSS selector that will fetch\n\t * the group of slides we are working with\n\t * @param {Number} index The index of the slide that should be\n\t * shown\n\t *\n\t * @return {Number} The index of the slide that is now shown,\n\t * might differ from the passed in index if it was out of\n\t * bounds.\n\t */\n\tfunction updateSlides( selector, index ) {\n\n\t\t// Select all slides and convert the NodeList result to\n\t\t// an array\n\t\tvar slides = toArray( document.querySelectorAll( selector ) ),\n\t\t\tslidesLength = slides.length;\n\n\t\tif( slidesLength ) {\n\n\t\t\t// Should the index loop?\n\t\t\tif( config.loop ) {\n\t\t\t\tindex %= slidesLength;\n\n\t\t\t\tif( index < 0 ) {\n\t\t\t\t\tindex = slidesLength + index;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Enforce max and minimum index bounds\n\t\t\tindex = Math.max( Math.min( index, slidesLength - 1 ), 0 );\n\n\t\t\tfor( var i = 0; i < slidesLength; i++ ) {\n\t\t\t\tvar element = slides[i];\n\n\t\t\t\tvar reverse = config.rtl && !isVerticalSlide( element );\n\n\t\t\t\telement.classList.remove( 'past' );\n\t\t\t\telement.classList.remove( 'present' );\n\t\t\t\telement.classList.remove( 'future' );\n\n\t\t\t\t// http://www.w3.org/html/wg/drafts/html/master/editing.html#the-hidden-attribute\n\t\t\t\telement.setAttribute( 'hidden', '' );\n\n\t\t\t\tif( i < index ) {\n\t\t\t\t\t// Any element previous to index is given the 'past' class\n\t\t\t\t\telement.classList.add( reverse ? 'future' : 'past' );\n\n\t\t\t\t\tvar pastFragments = toArray( element.querySelectorAll( '.fragment' ) );\n\n\t\t\t\t\t// Show all fragments on prior slides\n\t\t\t\t\twhile( pastFragments.length ) {\n\t\t\t\t\t\tvar pastFragment = pastFragments.pop();\n\t\t\t\t\t\tpastFragment.classList.add( 'visible' );\n\t\t\t\t\t\tpastFragment.classList.remove( 'current-fragment' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( i > index ) {\n\t\t\t\t\t// Any element subsequent to index is given the 'future' class\n\t\t\t\t\telement.classList.add( reverse ? 'past' : 'future' );\n\n\t\t\t\t\tvar futureFragments = toArray( element.querySelectorAll( '.fragment.visible' ) );\n\n\t\t\t\t\t// No fragments in future slides should be visible ahead of time\n\t\t\t\t\twhile( futureFragments.length ) {\n\t\t\t\t\t\tvar futureFragment = futureFragments.pop();\n\t\t\t\t\t\tfutureFragment.classList.remove( 'visible' );\n\t\t\t\t\t\tfutureFragment.classList.remove( 'current-fragment' );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If this element contains vertical slides\n\t\t\t\tif( element.querySelector( 'section' ) ) {\n\t\t\t\t\telement.classList.add( 'stack' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Mark the current slide as present\n\t\t\tslides[index].classList.add( 'present' );\n\t\t\tslides[index].removeAttribute( 'hidden' );\n\n\t\t\t// If this slide has a state associated with it, add it\n\t\t\t// onto the current state of the deck\n\t\t\tvar slideState = slides[index].getAttribute( 'data-state' );\n\t\t\tif( slideState ) {\n\t\t\t\tstate = state.concat( slideState.split( ' ' ) );\n\t\t\t}\n\n\t\t}\n\t\telse {\n\t\t\t// Since there are no slides we can't be anywhere beyond the\n\t\t\t// zeroth index\n\t\t\tindex = 0;\n\t\t}\n\n\t\treturn index;\n\n\t}\n\n\t/**\n\t * Optimization method; hide all slides that are far away\n\t * from the present slide.\n\t */\n\tfunction updateSlidesVisibility() {\n\n\t\t// Select all slides and convert the NodeList result to\n\t\t// an array\n\t\tvar horizontalSlides = toArray( document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) ),\n\t\t\thorizontalSlidesLength = horizontalSlides.length,\n\t\t\tdistanceX,\n\t\t\tdistanceY;\n\n\t\tif( horizontalSlidesLength ) {\n\n\t\t\t// The number of steps away from the present slide that will\n\t\t\t// be visible\n\t\t\tvar viewDistance = isOverview() ? 10 : config.viewDistance;\n\n\t\t\t// Limit view distance on weaker devices\n\t\t\tif( isMobileDevice ) {\n\t\t\t\tviewDistance = isOverview() ? 6 : 1;\n\t\t\t}\n\n\t\t\tfor( var x = 0; x < horizontalSlidesLength; x++ ) {\n\t\t\t\tvar horizontalSlide = horizontalSlides[x];\n\n\t\t\t\tvar verticalSlides = toArray( horizontalSlide.querySelectorAll( 'section' ) ),\n\t\t\t\t\tverticalSlidesLength = verticalSlides.length;\n\n\t\t\t\t// Loops so that it measures 1 between the first and last slides\n\t\t\t\tdistanceX = Math.abs( ( indexh - x ) % ( horizontalSlidesLength - viewDistance ) ) || 0;\n\n\t\t\t\t// Show the horizontal slide if it's within the view distance\n\t\t\t\thorizontalSlide.style.display = distanceX > viewDistance ? 'none' : 'block';\n\n\t\t\t\tif( verticalSlidesLength ) {\n\n\t\t\t\t\tvar oy = getPreviousVerticalIndex( horizontalSlide );\n\n\t\t\t\t\tfor( var y = 0; y < verticalSlidesLength; y++ ) {\n\t\t\t\t\t\tvar verticalSlide = verticalSlides[y];\n\n\t\t\t\t\t\tdistanceY = x === indexh ? Math.abs( indexv - y ) : Math.abs( y - oy );\n\n\t\t\t\t\t\tverticalSlide.style.display = ( distanceX + distanceY ) > viewDistance ? 'none' : 'block';\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the progress bar to reflect the current slide.\n\t */\n\tfunction updateProgress() {\n\n\t\t// Update progress if enabled\n\t\tif( config.progress && dom.progress ) {\n\n\t\t\tvar horizontalSlides = toArray( document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\n\t\t\t// The number of past and total slides\n\t\t\tvar totalCount = document.querySelectorAll( SLIDES_SELECTOR + ':not(.stack)' ).length;\n\t\t\tvar pastCount = 0;\n\n\t\t\t// Step through all slides and count the past ones\n\t\t\tmainLoop: for( var i = 0; i < horizontalSlides.length; i++ ) {\n\n\t\t\t\tvar horizontalSlide = horizontalSlides[i];\n\t\t\t\tvar verticalSlides = toArray( horizontalSlide.querySelectorAll( 'section' ) );\n\n\t\t\t\tfor( var j = 0; j < verticalSlides.length; j++ ) {\n\n\t\t\t\t\t// Stop as soon as we arrive at the present\n\t\t\t\t\tif( verticalSlides[j].classList.contains( 'present' ) ) {\n\t\t\t\t\t\tbreak mainLoop;\n\t\t\t\t\t}\n\n\t\t\t\t\tpastCount++;\n\n\t\t\t\t}\n\n\t\t\t\t// Stop as soon as we arrive at the present\n\t\t\t\tif( horizontalSlide.classList.contains( 'present' ) ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// Don't count the wrapping section for vertical slides\n\t\t\t\tif( horizontalSlide.classList.contains( 'stack' ) === false ) {\n\t\t\t\t\tpastCount++;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tdom.progressbar.style.width = ( pastCount / ( totalCount - 1 ) ) * window.innerWidth + 'px';\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the slide number div to reflect the current slide.\n\t */\n\tfunction updateSlideNumber() {\n\n\t\t// Update slide number if enabled\n\t\tif( config.slideNumber && dom.slideNumber) {\n\n\t\t\t// Display the number of the page using 'indexh - indexv' format\n\t\t\tvar indexString = indexh;\n\t\t\tif( indexv > 0 ) {\n\t\t\t\tindexString += ' - ' + indexv;\n\t\t\t}\n\n\t\t\tdom.slideNumber.innerHTML = indexString;\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the state of all control/navigation arrows.\n\t */\n\tfunction updateControls() {\n\n\t\tvar routes = availableRoutes();\n\t\tvar fragments = availableFragments();\n\n\t\t// Remove the 'enabled' class from all directions\n\t\tdom.controlsLeft.concat( dom.controlsRight )\n\t\t\t\t\t\t.concat( dom.controlsUp )\n\t\t\t\t\t\t.concat( dom.controlsDown )\n\t\t\t\t\t\t.concat( dom.controlsPrev )\n\t\t\t\t\t\t.concat( dom.controlsNext ).forEach( function( node ) {\n\t\t\tnode.classList.remove( 'enabled' );\n\t\t\tnode.classList.remove( 'fragmented' );\n\t\t} );\n\n\t\t// Add the 'enabled' class to the available routes\n\t\tif( routes.left ) dom.controlsLeft.forEach( function( el ) { el.classList.add( 'enabled' );\t} );\n\t\tif( routes.right ) dom.controlsRight.forEach( function( el ) { el.classList.add( 'enabled' ); } );\n\t\tif( routes.up ) dom.controlsUp.forEach( function( el ) { el.classList.add( 'enabled' );\t} );\n\t\tif( routes.down ) dom.controlsDown.forEach( function( el ) { el.classList.add( 'enabled' ); } );\n\n\t\t// Prev/next buttons\n\t\tif( routes.left || routes.up ) dom.controlsPrev.forEach( function( el ) { el.classList.add( 'enabled' ); } );\n\t\tif( routes.right || routes.down ) dom.controlsNext.forEach( function( el ) { el.classList.add( 'enabled' ); } );\n\n\t\t// Highlight fragment directions\n\t\tif( currentSlide ) {\n\n\t\t\t// Always apply fragment decorator to prev/next buttons\n\t\t\tif( fragments.prev ) dom.controlsPrev.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); } );\n\t\t\tif( fragments.next ) dom.controlsNext.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); } );\n\n\t\t\t// Apply fragment decorators to directional buttons based on\n\t\t\t// what slide axis they are in\n\t\t\tif( isVerticalSlide( currentSlide ) ) {\n\t\t\t\tif( fragments.prev ) dom.controlsUp.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); } );\n\t\t\t\tif( fragments.next ) dom.controlsDown.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); } );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif( fragments.prev ) dom.controlsLeft.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); } );\n\t\t\t\tif( fragments.next ) dom.controlsRight.forEach( function( el ) { el.classList.add( 'fragmented', 'enabled' ); } );\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the background elements to reflect the current\n\t * slide.\n\t *\n\t * @param {Boolean} includeAll If true, the backgrounds of\n\t * all vertical slides (not just the present) will be updated.\n\t */\n\tfunction updateBackground( includeAll ) {\n\n\t\tvar currentBackground = null;\n\n\t\t// Reverse past/future classes when in RTL mode\n\t\tvar horizontalPast = config.rtl ? 'future' : 'past',\n\t\t\thorizontalFuture = config.rtl ? 'past' : 'future';\n\n\t\t// Update the classes of all backgrounds to match the\n\t\t// states of their slides (past/present/future)\n\t\ttoArray( dom.background.childNodes ).forEach( function( backgroundh, h ) {\n\n\t\t\tif( h < indexh ) {\n\t\t\t\tbackgroundh.className = 'slide-background ' + horizontalPast;\n\t\t\t}\n\t\t\telse if ( h > indexh ) {\n\t\t\t\tbackgroundh.className = 'slide-background ' + horizontalFuture;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbackgroundh.className = 'slide-background present';\n\n\t\t\t\t// Store a reference to the current background element\n\t\t\t\tcurrentBackground = backgroundh;\n\t\t\t}\n\n\t\t\tif( includeAll || h === indexh ) {\n\t\t\t\ttoArray( backgroundh.childNodes ).forEach( function( backgroundv, v ) {\n\n\t\t\t\t\tif( v < indexv ) {\n\t\t\t\t\t\tbackgroundv.className = 'slide-background past';\n\t\t\t\t\t}\n\t\t\t\t\telse if ( v > indexv ) {\n\t\t\t\t\t\tbackgroundv.className = 'slide-background future';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbackgroundv.className = 'slide-background present';\n\n\t\t\t\t\t\t// Only if this is the present horizontal and vertical slide\n\t\t\t\t\t\tif( h === indexh ) currentBackground = backgroundv;\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t}\n\n\t\t} );\n\n\t\t// Don't transition between identical backgrounds. This\n\t\t// prevents unwanted flicker.\n\t\tif( currentBackground ) {\n\t\t\tvar previousBackgroundHash = previousBackground ? previousBackground.getAttribute( 'data-background-hash' ) : null;\n\t\t\tvar currentBackgroundHash = currentBackground.getAttribute( 'data-background-hash' );\n\t\t\tif( currentBackgroundHash && currentBackgroundHash === previousBackgroundHash && currentBackground !== previousBackground ) {\n\t\t\t\tdom.background.classList.add( 'no-transition' );\n\t\t\t}\n\n\t\t\tpreviousBackground = currentBackground;\n\t\t}\n\n\t\t// Allow the first background to apply without transition\n\t\tsetTimeout( function() {\n\t\t\tdom.background.classList.remove( 'no-transition' );\n\t\t}, 1 );\n\n\t}\n\n\t/**\n\t * Updates the position of the parallax background based\n\t * on the current slide index.\n\t */\n\tfunction updateParallax() {\n\n\t\tif( config.parallaxBackgroundImage ) {\n\n\t\t\tvar horizontalSlides = document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ),\n\t\t\t\tverticalSlides = document.querySelectorAll( VERTICAL_SLIDES_SELECTOR );\n\n\t\t\tvar backgroundSize = dom.background.style.backgroundSize.split( ' ' ),\n\t\t\t\tbackgroundWidth, backgroundHeight;\n\n\t\t\tif( backgroundSize.length === 1 ) {\n\t\t\t\tbackgroundWidth = backgroundHeight = parseInt( backgroundSize[0], 10 );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbackgroundWidth = parseInt( backgroundSize[0], 10 );\n\t\t\t\tbackgroundHeight = parseInt( backgroundSize[1], 10 );\n\t\t\t}\n\n\t\t\tvar slideWidth = dom.background.offsetWidth;\n\t\t\tvar horizontalSlideCount = horizontalSlides.length;\n\t\t\tvar horizontalOffset = -( backgroundWidth - slideWidth ) / ( horizontalSlideCount-1 ) * indexh;\n\n\t\t\tvar slideHeight = dom.background.offsetHeight;\n\t\t\tvar verticalSlideCount = verticalSlides.length;\n\t\t\tvar verticalOffset = verticalSlideCount > 0 ? -( backgroundHeight - slideHeight ) / ( verticalSlideCount-1 ) * indexv : 0;\n\n\t\t\tdom.background.style.backgroundPosition = horizontalOffset + 'px ' + verticalOffset + 'px';\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Determine what available routes there are for navigation.\n\t *\n\t * @return {Object} containing four booleans: left/right/up/down\n\t */\n\tfunction availableRoutes() {\n\n\t\tvar horizontalSlides = document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ),\n\t\t\tverticalSlides = document.querySelectorAll( VERTICAL_SLIDES_SELECTOR );\n\n\t\tvar routes = {\n\t\t\tleft: indexh > 0 || config.loop,\n\t\t\tright: indexh < horizontalSlides.length - 1 || config.loop,\n\t\t\tup: indexv > 0,\n\t\t\tdown: indexv < verticalSlides.length - 1\n\t\t};\n\n\t\t// reverse horizontal controls for rtl\n\t\tif( config.rtl ) {\n\t\t\tvar left = routes.left;\n\t\t\troutes.left = routes.right;\n\t\t\troutes.right = left;\n\t\t}\n\n\t\treturn routes;\n\n\t}\n\n\t/**\n\t * Returns an object describing the available fragment\n\t * directions.\n\t *\n\t * @return {Object} two boolean properties: prev/next\n\t */\n\tfunction availableFragments() {\n\n\t\tif( currentSlide && config.fragments ) {\n\t\t\tvar fragments = currentSlide.querySelectorAll( '.fragment' );\n\t\t\tvar hiddenFragments = currentSlide.querySelectorAll( '.fragment:not(.visible)' );\n\n\t\t\treturn {\n\t\t\t\tprev: fragments.length - hiddenFragments.length > 0,\n\t\t\t\tnext: !!hiddenFragments.length\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\treturn { prev: false, next: false };\n\t\t}\n\n\t}\n\n\t/**\n\t * Start playback of any embedded content inside of\n\t * the targeted slide.\n\t */\n\tfunction startEmbeddedContent( slide ) {\n\n\t\tif( slide && !isSpeakerNotes() ) {\n\t\t\t// HTML5 media elements\n\t\t\ttoArray( slide.querySelectorAll( 'video, audio' ) ).forEach( function( el ) {\n\t\t\t\tif( el.hasAttribute( 'data-autoplay' ) ) {\n\t\t\t\t\tel.play();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// iframe embeds\n\t\t\ttoArray( slide.querySelectorAll( 'iframe' ) ).forEach( function( el ) {\n\t\t\t\tel.contentWindow.postMessage( 'slide:start', '*' );\n\t\t\t});\n\n\t\t\t// YouTube embeds\n\t\t\ttoArray( slide.querySelectorAll( 'iframe[src*=\"youtube.com/embed/\"]' ) ).forEach( function( el ) {\n\t\t\t\tif( el.hasAttribute( 'data-autoplay' ) ) {\n\t\t\t\t\tel.contentWindow.postMessage( '{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*' );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\t/**\n\t * Stop playback of any embedded content inside of\n\t * the targeted slide.\n\t */\n\tfunction stopEmbeddedContent( slide ) {\n\n\t\tif( slide ) {\n\t\t\t// HTML5 media elements\n\t\t\ttoArray( slide.querySelectorAll( 'video, audio' ) ).forEach( function( el ) {\n\t\t\t\tif( !el.hasAttribute( 'data-ignore' ) ) {\n\t\t\t\t\tel.pause();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// iframe embeds\n\t\t\ttoArray( slide.querySelectorAll( 'iframe' ) ).forEach( function( el ) {\n\t\t\t\tel.contentWindow.postMessage( 'slide:stop', '*' );\n\t\t\t});\n\n\t\t\t// YouTube embeds\n\t\t\ttoArray( slide.querySelectorAll( 'iframe[src*=\"youtube.com/embed/\"]' ) ).forEach( function( el ) {\n\t\t\t\tif( !el.hasAttribute( 'data-ignore' ) && typeof el.contentWindow.postMessage === 'function' ) {\n\t\t\t\t\tel.contentWindow.postMessage( '{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*' );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if this presentation is running inside of the\n\t * speaker notes window.\n\t */\n\tfunction isSpeakerNotes() {\n\n\t\treturn !!window.location.search.match( /receiver/gi );\n\n\t}\n\n\t/**\n\t * Reads the current URL (hash) and navigates accordingly.\n\t */\n\tfunction readURL() {\n\n\t\tvar hash = window.location.hash;\n\n\t\t// Attempt to parse the hash as either an index or name\n\t\tvar bits = hash.slice( 2 ).split( '/' ),\n\t\t\tname = hash.replace( /#|\\//gi, '' );\n\n\t\t// If the first bit is invalid and there is a name we can\n\t\t// assume that this is a named link\n\t\tif( isNaN( parseInt( bits[0], 10 ) ) && name.length ) {\n\t\t\t// Find the slide with the specified name\n\t\t\tvar element = document.querySelector( '#' + name );\n\n\t\t\tif( element ) {\n\t\t\t\t// Find the position of the named slide and navigate to it\n\t\t\t\tvar indices = Reveal.getIndices( element );\n\t\t\t\tslide( indices.h, indices.v );\n\t\t\t}\n\t\t\t// If the slide doesn't exist, navigate to the current slide\n\t\t\telse {\n\t\t\t\tslide( indexh || 0, indexv || 0 );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Read the index components of the hash\n\t\t\tvar h = parseInt( bits[0], 10 ) || 0,\n\t\t\t\tv = parseInt( bits[1], 10 ) || 0;\n\n\t\t\tif( h !== indexh || v !== indexv ) {\n\t\t\t\tslide( h, v );\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the page URL (hash) to reflect the current\n\t * state.\n\t *\n\t * @param {Number} delay The time in ms to wait before\n\t * writing the hash\n\t */\n\tfunction writeURL( delay ) {\n\n\t\tif( config.history ) {\n\n\t\t\t// Make sure there's never more than one timeout running\n\t\t\tclearTimeout( writeURLTimeout );\n\n\t\t\t// If a delay is specified, timeout this call\n\t\t\tif( typeof delay === 'number' ) {\n\t\t\t\twriteURLTimeout = setTimeout( writeURL, delay );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar url = '/';\n\n\t\t\t\t// If the current slide has an ID, use that as a named link\n\t\t\t\tif( currentSlide && typeof currentSlide.getAttribute( 'id' ) === 'string' ) {\n\t\t\t\t\turl = '/' + currentSlide.getAttribute( 'id' );\n\t\t\t\t}\n\t\t\t\t// Otherwise use the /h/v index\n\t\t\t\telse {\n\t\t\t\t\tif( indexh > 0 || indexv > 0 ) url += indexh;\n\t\t\t\t\tif( indexv > 0 ) url += '/' + indexv;\n\t\t\t\t}\n\n\t\t\t\twindow.location.hash = url;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Retrieves the h/v location of the current, or specified,\n\t * slide.\n\t *\n\t * @param {HTMLElement} slide If specified, the returned\n\t * index will be for this slide rather than the currently\n\t * active one\n\t *\n\t * @return {Object} { h: <int>, v: <int>, f: <int> }\n\t */\n\tfunction getIndices( slide ) {\n\n\t\t// By default, return the current indices\n\t\tvar h = indexh,\n\t\t\tv = indexv,\n\t\t\tf;\n\n\t\t// If a slide is specified, return the indices of that slide\n\t\tif( slide ) {\n\t\t\tvar isVertical = isVerticalSlide( slide );\n\t\t\tvar slideh = isVertical ? slide.parentNode : slide;\n\n\t\t\t// Select all horizontal slides\n\t\t\tvar horizontalSlides = toArray( document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) );\n\n\t\t\t// Now that we know which the horizontal slide is, get its index\n\t\t\th = Math.max( horizontalSlides.indexOf( slideh ), 0 );\n\n\t\t\t// If this is a vertical slide, grab the vertical index\n\t\t\tif( isVertical ) {\n\t\t\t\tv = Math.max( toArray( slide.parentNode.querySelectorAll( 'section' ) ).indexOf( slide ), 0 );\n\t\t\t}\n\t\t}\n\n\t\tif( !slide && currentSlide ) {\n\t\t\tvar hasFragments = currentSlide.querySelectorAll( '.fragment' ).length > 0;\n\t\t\tif( hasFragments ) {\n\t\t\t\tvar visibleFragments = currentSlide.querySelectorAll( '.fragment.visible' );\n\t\t\t\tf = visibleFragments.length - 1;\n\t\t\t}\n\t\t}\n\n\t\treturn { h: h, v: v, f: f };\n\n\t}\n\n\t/**\n\t * Return a sorted fragments list, ordered by an increasing\n\t * \"data-fragment-index\" attribute.\n\t *\n\t * Fragments will be revealed in the order that they are returned by\n\t * this function, so you can use the index attributes to control the\n\t * order of fragment appearance.\n\t *\n\t * To maintain a sensible default fragment order, fragments are presumed\n\t * to be passed in document order. This function adds a \"fragment-index\"\n\t * attribute to each node if such an attribute is not already present,\n\t * and sets that attribute to an integer value which is the position of\n\t * the fragment within the fragments list.\n\t */\n\tfunction sortFragments( fragments ) {\n\n\t\tfragments = toArray( fragments );\n\n\t\tvar ordered = [],\n\t\t\tunordered = [],\n\t\t\tsorted = [];\n\n\t\t// Group ordered and unordered elements\n\t\tfragments.forEach( function( fragment, i ) {\n\t\t\tif( fragment.hasAttribute( 'data-fragment-index' ) ) {\n\t\t\t\tvar index = parseInt( fragment.getAttribute( 'data-fragment-index' ), 10 );\n\n\t\t\t\tif( !ordered[index] ) {\n\t\t\t\t\tordered[index] = [];\n\t\t\t\t}\n\n\t\t\t\tordered[index].push( fragment );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tunordered.push( [ fragment ] );\n\t\t\t}\n\t\t} );\n\n\t\t// Append fragments without explicit indices in their\n\t\t// DOM order\n\t\tordered = ordered.concat( unordered );\n\n\t\t// Manually count the index up per group to ensure there\n\t\t// are no gaps\n\t\tvar index = 0;\n\n\t\t// Push all fragments in their sorted order to an array,\n\t\t// this flattens the groups\n\t\tordered.forEach( function( group ) {\n\t\t\tgroup.forEach( function( fragment ) {\n\t\t\t\tsorted.push( fragment );\n\t\t\t\tfragment.setAttribute( 'data-fragment-index', index );\n\t\t\t} );\n\n\t\t\tindex ++;\n\t\t} );\n\n\t\treturn sorted;\n\n\t}\n\n\t/**\n\t * Navigate to the specified slide fragment.\n\t *\n\t * @param {Number} index The index of the fragment that\n\t * should be shown, -1 means all are invisible\n\t * @param {Number} offset Integer offset to apply to the\n\t * fragment index\n\t *\n\t * @return {Boolean} true if a change was made in any\n\t * fragments visibility as part of this call\n\t */\n\tfunction navigateFragment( index, offset ) {\n\n\t\tif( currentSlide && config.fragments ) {\n\n\t\t\tvar fragments = sortFragments( currentSlide.querySelectorAll( '.fragment' ) );\n\t\t\tif( fragments.length ) {\n\n\t\t\t\t// If no index is specified, find the current\n\t\t\t\tif( typeof index !== 'number' ) {\n\t\t\t\t\tvar lastVisibleFragment = sortFragments( currentSlide.querySelectorAll( '.fragment.visible' ) ).pop();\n\n\t\t\t\t\tif( lastVisibleFragment ) {\n\t\t\t\t\t\tindex = parseInt( lastVisibleFragment.getAttribute( 'data-fragment-index' ) || 0, 10 );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tindex = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If an offset is specified, apply it to the index\n\t\t\t\tif( typeof offset === 'number' ) {\n\t\t\t\t\tindex += offset;\n\t\t\t\t}\n\n\t\t\t\tvar fragmentsShown = [],\n\t\t\t\t\tfragmentsHidden = [];\n\n\t\t\t\ttoArray( fragments ).forEach( function( element, i ) {\n\n\t\t\t\t\tif( element.hasAttribute( 'data-fragment-index' ) ) {\n\t\t\t\t\t\ti = parseInt( element.getAttribute( 'data-fragment-index' ), 10 );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Visible fragments\n\t\t\t\t\tif( i <= index ) {\n\t\t\t\t\t\tif( !element.classList.contains( 'visible' ) ) fragmentsShown.push( element );\n\t\t\t\t\t\telement.classList.add( 'visible' );\n\t\t\t\t\t\telement.classList.remove( 'current-fragment' );\n\n\t\t\t\t\t\tif( i === index ) {\n\t\t\t\t\t\t\telement.classList.add( 'current-fragment' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Hidden fragments\n\t\t\t\t\telse {\n\t\t\t\t\t\tif( element.classList.contains( 'visible' ) ) fragmentsHidden.push( element );\n\t\t\t\t\t\telement.classList.remove( 'visible' );\n\t\t\t\t\t\telement.classList.remove( 'current-fragment' );\n\t\t\t\t\t}\n\n\n\t\t\t\t} );\n\n\t\t\t\tif( fragmentsHidden.length ) {\n\t\t\t\t\tdispatchEvent( 'fragmenthidden', { fragment: fragmentsHidden[0], fragments: fragmentsHidden } );\n\t\t\t\t}\n\n\t\t\t\tif( fragmentsShown.length ) {\n\t\t\t\t\tdispatchEvent( 'fragmentshown', { fragment: fragmentsShown[0], fragments: fragmentsShown } );\n\t\t\t\t}\n\n\t\t\t\tupdateControls();\n\n\t\t\t\treturn !!( fragmentsShown.length || fragmentsHidden.length );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Navigate to the next slide fragment.\n\t *\n\t * @return {Boolean} true if there was a next fragment,\n\t * false otherwise\n\t */\n\tfunction nextFragment() {\n\n\t\treturn navigateFragment( null, 1 );\n\n\t}\n\n\t/**\n\t * Navigate to the previous slide fragment.\n\t *\n\t * @return {Boolean} true if there was a previous fragment,\n\t * false otherwise\n\t */\n\tfunction previousFragment() {\n\n\t\treturn navigateFragment( null, -1 );\n\n\t}\n\n\t/**\n\t * Cues a new automated slide if enabled in the config.\n\t */\n\tfunction cueAutoSlide() {\n\n\t\tcancelAutoSlide();\n\n\t\tif( currentSlide ) {\n\n\t\t\tvar parentAutoSlide = currentSlide.parentNode ? currentSlide.parentNode.getAttribute( 'data-autoslide' ) : null;\n\t\t\tvar slideAutoSlide = currentSlide.getAttribute( 'data-autoslide' );\n\n\t\t\t// Pick value in the following priority order:\n\t\t\t// 1. Current slide's data-autoslide\n\t\t\t// 2. Parent slide's data-autoslide\n\t\t\t// 3. Global autoSlide setting\n\t\t\tif( slideAutoSlide ) {\n\t\t\t\tautoSlide = parseInt( slideAutoSlide, 10 );\n\t\t\t}\n\t\t\telse if( parentAutoSlide ) {\n\t\t\t\tautoSlide = parseInt( parentAutoSlide, 10 );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tautoSlide = config.autoSlide;\n\t\t\t}\n\n\t\t\t// If there are media elements with data-autoplay,\n\t\t\t// automatically set the autoSlide duration to the\n\t\t\t// length of that media\n\t\t\ttoArray( currentSlide.querySelectorAll( 'video, audio' ) ).forEach( function( el ) {\n\t\t\t\tif( el.hasAttribute( 'data-autoplay' ) ) {\n\t\t\t\t\tif( autoSlide && el.duration * 1000 > autoSlide ) {\n\t\t\t\t\t\tautoSlide = ( el.duration * 1000 ) + 1000;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Cue the next auto-slide if:\n\t\t\t// - There is an autoSlide value\n\t\t\t// - Auto-sliding isn't paused by the user\n\t\t\t// - The presentation isn't paused\n\t\t\t// - The overview isn't active\n\t\t\t// - The presentation isn't over\n\t\t\tif( autoSlide && !autoSlidePaused && !isPaused() && !isOverview() && ( !Reveal.isLastSlide() || config.loop === true ) ) {\n\t\t\t\tautoSlideTimeout = setTimeout( navigateNext, autoSlide );\n\t\t\t\tautoSlideStartTime = Date.now();\n\t\t\t}\n\n\t\t\tif( autoSlidePlayer ) {\n\t\t\t\tautoSlidePlayer.setPlaying( autoSlideTimeout !== -1 );\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Cancels any ongoing request to auto-slide.\n\t */\n\tfunction cancelAutoSlide() {\n\n\t\tclearTimeout( autoSlideTimeout );\n\t\tautoSlideTimeout = -1;\n\n\t}\n\n\tfunction pauseAutoSlide() {\n\n\t\tautoSlidePaused = true;\n\t\tclearTimeout( autoSlideTimeout );\n\n\t\tif( autoSlidePlayer ) {\n\t\t\tautoSlidePlayer.setPlaying( false );\n\t\t}\n\n\t}\n\n\tfunction resumeAutoSlide() {\n\n\t\tautoSlidePaused = false;\n\t\tcueAutoSlide();\n\n\t}\n\n\tfunction navigateLeft() {\n\n\t\t// Reverse for RTL\n\t\tif( config.rtl ) {\n\t\t\tif( ( isOverview() || nextFragment() === false ) && availableRoutes().left ) {\n\t\t\t\tslide( indexh + 1 );\n\t\t\t}\n\t\t}\n\t\t// Normal navigation\n\t\telse if( ( isOverview() || previousFragment() === false ) && availableRoutes().left ) {\n\t\t\tslide( indexh - 1 );\n\t\t}\n\n\t}\n\n\tfunction navigateRight() {\n\n\t\t// Reverse for RTL\n\t\tif( config.rtl ) {\n\t\t\tif( ( isOverview() || previousFragment() === false ) && availableRoutes().right ) {\n\t\t\t\tslide( indexh - 1 );\n\t\t\t}\n\t\t}\n\t\t// Normal navigation\n\t\telse if( ( isOverview() || nextFragment() === false ) && availableRoutes().right ) {\n\t\t\tslide( indexh + 1 );\n\t\t}\n\n\t}\n\n\tfunction navigateUp() {\n\n\t\t// Prioritize hiding fragments\n\t\tif( ( isOverview() || previousFragment() === false ) && availableRoutes().up ) {\n\t\t\tslide( indexh, indexv - 1 );\n\t\t}\n\n\t}\n\n\tfunction navigateDown() {\n\n\t\t// Prioritize revealing fragments\n\t\tif( ( isOverview() || nextFragment() === false ) && availableRoutes().down ) {\n\t\t\tslide( indexh, indexv + 1 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Navigates backwards, prioritized in the following order:\n\t * 1) Previous fragment\n\t * 2) Previous vertical slide\n\t * 3) Previous horizontal slide\n\t */\n\tfunction navigatePrev() {\n\n\t\t// Prioritize revealing fragments\n\t\tif( previousFragment() === false ) {\n\t\t\tif( availableRoutes().up ) {\n\t\t\t\tnavigateUp();\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Fetch the previous horizontal slide, if there is one\n\t\t\t\tvar previousSlide = document.querySelector( HORIZONTAL_SLIDES_SELECTOR + '.past:nth-child(' + indexh + ')' );\n\n\t\t\t\tif( previousSlide ) {\n\t\t\t\t\tvar v = ( previousSlide.querySelectorAll( 'section' ).length - 1 ) || undefined;\n\t\t\t\t\tvar h = indexh - 1;\n\t\t\t\t\tslide( h, v );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Same as #navigatePrev() but navigates forwards.\n\t */\n\tfunction navigateNext() {\n\n\t\t// Prioritize revealing fragments\n\t\tif( nextFragment() === false ) {\n\t\t\tavailableRoutes().down ? navigateDown() : navigateRight();\n\t\t}\n\n\t\t// If auto-sliding is enabled we need to cue up\n\t\t// another timeout\n\t\tcueAutoSlide();\n\n\t}\n\n\n\t// --------------------------------------------------------------------//\n\t// ----------------------------- EVENTS -------------------------------//\n\t// --------------------------------------------------------------------//\n\n\t/**\n\t * Called by all event handlers that are based on user\n\t * input.\n\t */\n\tfunction onUserInput( event ) {\n\n\t\tif( config.autoSlideStoppable ) {\n\t\t\tpauseAutoSlide();\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the document level 'keydown' event.\n\t */\n\tfunction onDocumentKeyDown( event ) {\n\n\t\tonUserInput( event );\n\n\t\t// Check if there's a focused element that could be using\n\t\t// the keyboard\n\t\tvar activeElement = document.activeElement;\n\t\tvar hasFocus = !!( document.activeElement && ( document.activeElement.type || document.activeElement.href || document.activeElement.contentEditable !== 'inherit' ) );\n\n\t\t// Disregard the event if there's a focused element or a\n\t\t// keyboard modifier key is present\n\t\tif( hasFocus || (event.shiftKey && event.keyCode !== 32) || event.altKey || event.ctrlKey || event.metaKey ) return;\n\n\t\t// While paused only allow \"unpausing\" keyboard events (b and .)\n\t\tif( isPaused() && [66,190,191].indexOf( event.keyCode ) === -1 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar triggered = false;\n\n\t\t// 1. User defined key bindings\n\t\tif( typeof config.keyboard === 'object' ) {\n\n\t\t\tfor( var key in config.keyboard ) {\n\n\t\t\t\t// Check if this binding matches the pressed key\n\t\t\t\tif( parseInt( key, 10 ) === event.keyCode ) {\n\n\t\t\t\t\tvar value = config.keyboard[ key ];\n\n\t\t\t\t\t// Callback function\n\t\t\t\t\tif( typeof value === 'function' ) {\n\t\t\t\t\t\tvalue.apply( null, [ event ] );\n\t\t\t\t\t}\n\t\t\t\t\t// String shortcuts to reveal.js API\n\t\t\t\t\telse if( typeof value === 'string' && typeof Reveal[ value ] === 'function' ) {\n\t\t\t\t\t\tReveal[ value ].call();\n\t\t\t\t\t}\n\n\t\t\t\t\ttriggered = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// 2. System defined key bindings\n\t\tif( triggered === false ) {\n\n\t\t\t// Assume true and try to prove false\n\t\t\ttriggered = true;\n\n\t\t\tswitch( event.keyCode ) {\n\t\t\t\t// p, page up\n\t\t\t\tcase 80: case 33: navigatePrev(); break;\n\t\t\t\t// n, page down\n\t\t\t\tcase 78: case 34: navigateNext(); break;\n\t\t\t\t// h, left\n\t\t\t\tcase 72: case 37: navigateLeft(); break;\n\t\t\t\t// l, right\n\t\t\t\tcase 76: case 39: navigateRight(); break;\n\t\t\t\t// k, up\n\t\t\t\tcase 75: case 38: navigateUp(); break;\n\t\t\t\t// j, down\n\t\t\t\tcase 74: case 40: navigateDown(); break;\n\t\t\t\t// home\n\t\t\t\tcase 36: slide( 0 ); break;\n\t\t\t\t// end\n\t\t\t\tcase 35: slide( Number.MAX_VALUE ); break;\n\t\t\t\t// space\n\t\t\t\tcase 32: isOverview() ? deactivateOverview() : event.shiftKey ? navigatePrev() : navigateNext(); break;\n\t\t\t\t// return\n\t\t\t\tcase 13: isOverview() ? deactivateOverview() : triggered = false; break;\n\t\t\t\t// b, period, Logitech presenter tools \"black screen\" button\n\t\t\t\tcase 66: case 190: case 191: togglePause(); break;\n\t\t\t\t// f\n\t\t\t\tcase 70: enterFullscreen(); break;\n\t\t\t\tdefault:\n\t\t\t\t\ttriggered = false;\n\t\t\t}\n\n\t\t}\n\n\t\t// If the input resulted in a triggered action we should prevent\n\t\t// the browsers default behavior\n\t\tif( triggered ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t\t// ESC or O key\n\t\telse if ( ( event.keyCode === 27 || event.keyCode === 79 ) && features.transforms3d ) {\n\t\t\tif( dom.preview ) {\n\t\t\t\tclosePreview();\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoggleOverview();\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\t// If auto-sliding is enabled we need to cue up\n\t\t// another timeout\n\t\tcueAutoSlide();\n\n\t}\n\n\t/**\n\t * Handler for the 'touchstart' event, enables support for\n\t * swipe and pinch gestures.\n\t */\n\tfunction onTouchStart( event ) {\n\n\t\ttouch.startX = event.touches[0].clientX;\n\t\ttouch.startY = event.touches[0].clientY;\n\t\ttouch.startCount = event.touches.length;\n\n\t\t// If there's two touches we need to memorize the distance\n\t\t// between those two points to detect pinching\n\t\tif( event.touches.length === 2 && config.overview ) {\n\t\t\ttouch.startSpan = distanceBetween( {\n\t\t\t\tx: event.touches[1].clientX,\n\t\t\t\ty: event.touches[1].clientY\n\t\t\t}, {\n\t\t\t\tx: touch.startX,\n\t\t\t\ty: touch.startY\n\t\t\t} );\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the 'touchmove' event.\n\t */\n\tfunction onTouchMove( event ) {\n\n\t\t// Each touch should only trigger one action\n\t\tif( !touch.captured ) {\n\t\t\tonUserInput( event );\n\n\t\t\tvar currentX = event.touches[0].clientX;\n\t\t\tvar currentY = event.touches[0].clientY;\n\n\t\t\t// If the touch started with two points and still has\n\t\t\t// two active touches; test for the pinch gesture\n\t\t\tif( event.touches.length === 2 && touch.startCount === 2 && config.overview ) {\n\n\t\t\t\t// The current distance in pixels between the two touch points\n\t\t\t\tvar currentSpan = distanceBetween( {\n\t\t\t\t\tx: event.touches[1].clientX,\n\t\t\t\t\ty: event.touches[1].clientY\n\t\t\t\t}, {\n\t\t\t\t\tx: touch.startX,\n\t\t\t\t\ty: touch.startY\n\t\t\t\t} );\n\n\t\t\t\t// If the span is larger than the desire amount we've got\n\t\t\t\t// ourselves a pinch\n\t\t\t\tif( Math.abs( touch.startSpan - currentSpan ) > touch.threshold ) {\n\t\t\t\t\ttouch.captured = true;\n\n\t\t\t\t\tif( currentSpan < touch.startSpan ) {\n\t\t\t\t\t\tactivateOverview();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdeactivateOverview();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t}\n\t\t\t// There was only one touch point, look for a swipe\n\t\t\telse if( event.touches.length === 1 && touch.startCount !== 2 ) {\n\n\t\t\t\tvar deltaX = currentX - touch.startX,\n\t\t\t\t\tdeltaY = currentY - touch.startY;\n\n\t\t\t\tif( deltaX > touch.threshold && Math.abs( deltaX ) > Math.abs( deltaY ) ) {\n\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\tnavigateLeft();\n\t\t\t\t}\n\t\t\t\telse if( deltaX < -touch.threshold && Math.abs( deltaX ) > Math.abs( deltaY ) ) {\n\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\tnavigateRight();\n\t\t\t\t}\n\t\t\t\telse if( deltaY > touch.threshold ) {\n\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\tnavigateUp();\n\t\t\t\t}\n\t\t\t\telse if( deltaY < -touch.threshold ) {\n\t\t\t\t\ttouch.captured = true;\n\t\t\t\t\tnavigateDown();\n\t\t\t\t}\n\n\t\t\t\t// If we're embedded, only block touch events if they have\n\t\t\t\t// triggered an action\n\t\t\t\tif( config.embedded ) {\n\t\t\t\t\tif( touch.captured || isVerticalSlide( currentSlide ) ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Not embedded? Block them all to avoid needless tossing\n\t\t\t\t// around of the viewport in iOS\n\t\t\t\telse {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\t// There's a bug with swiping on some Android devices unless\n\t\t// the default action is always prevented\n\t\telse if( navigator.userAgent.match( /android/gi ) ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the 'touchend' event.\n\t */\n\tfunction onTouchEnd( event ) {\n\n\t\ttouch.captured = false;\n\n\t}\n\n\t/**\n\t * Convert pointer down to touch start.\n\t */\n\tfunction onPointerDown( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH ) {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchStart( event );\n\t\t}\n\n\t}\n\n\t/**\n\t * Convert pointer move to touch move.\n\t */\n\tfunction onPointerMove( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH ) {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchMove( event );\n\t\t}\n\n\t}\n\n\t/**\n\t * Convert pointer up to touch end.\n\t */\n\tfunction onPointerUp( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH ) {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tonTouchEnd( event );\n\t\t}\n\n\t}\n\n\t/**\n\t * Handles mouse wheel scrolling, throttled to avoid skipping\n\t * multiple slides.\n\t */\n\tfunction onDocumentMouseScroll( event ) {\n\n\t\tif( Date.now() - lastMouseWheelStep > 600 ) {\n\n\t\t\tlastMouseWheelStep = Date.now();\n\n\t\t\tvar delta = event.detail || -event.wheelDelta;\n\t\t\tif( delta > 0 ) {\n\t\t\t\tnavigateNext();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnavigatePrev();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Clicking on the progress bar results in a navigation to the\n\t * closest approximate horizontal slide using this equation:\n\t *\n\t * ( clickX / presentationWidth ) * numberOfSlides\n\t */\n\tfunction onProgressClicked( event ) {\n\n\t\tonUserInput( event );\n\n\t\tevent.preventDefault();\n\n\t\tvar slidesTotal = toArray( document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ) ).length;\n\t\tvar slideIndex = Math.floor( ( event.clientX / dom.wrapper.offsetWidth ) * slidesTotal );\n\n\t\tslide( slideIndex );\n\n\t}\n\n\t/**\n\t * Event handler for navigation control buttons.\n\t */\n\tfunction onNavigateLeftClicked( event ) { event.preventDefault(); onUserInput(); navigateLeft(); }\n\tfunction onNavigateRightClicked( event ) { event.preventDefault(); onUserInput(); navigateRight(); }\n\tfunction onNavigateUpClicked( event ) { event.preventDefault(); onUserInput(); navigateUp(); }\n\tfunction onNavigateDownClicked( event ) { event.preventDefault(); onUserInput(); navigateDown(); }\n\tfunction onNavigatePrevClicked( event ) { event.preventDefault(); onUserInput(); navigatePrev(); }\n\tfunction onNavigateNextClicked( event ) { event.preventDefault(); onUserInput(); navigateNext(); }\n\n\t/**\n\t * Handler for the window level 'hashchange' event.\n\t */\n\tfunction onWindowHashChange( event ) {\n\n\t\treadURL();\n\n\t}\n\n\t/**\n\t * Handler for the window level 'resize' event.\n\t */\n\tfunction onWindowResize( event ) {\n\n\t\tlayout();\n\n\t}\n\n\t/**\n\t * Handle for the window level 'visibilitychange' event.\n\t */\n\tfunction onPageVisibilityChange( event ) {\n\n\t\tvar isHidden =  document.webkitHidden ||\n\t\t\t\t\t\tdocument.msHidden ||\n\t\t\t\t\t\tdocument.hidden;\n\n\t\t// If, after clicking a link or similar and we're coming back,\n\t\t// focus the document.body to ensure we can use keyboard shortcuts\n\t\tif( isHidden === false && document.activeElement !== document.body ) {\n\t\t\tdocument.activeElement.blur();\n\t\t\tdocument.body.focus();\n\t\t}\n\n\t}\n\n\t/**\n\t * Invoked when a slide is and we're in the overview.\n\t */\n\tfunction onOverviewSlideClicked( event ) {\n\n\t\t// TODO There's a bug here where the event listeners are not\n\t\t// removed after deactivating the overview.\n\t\tif( eventsAreBound && isOverview() ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tvar element = event.target;\n\n\t\t\twhile( element && !element.nodeName.match( /section/gi ) ) {\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\tif( element && !element.classList.contains( 'disabled' ) ) {\n\n\t\t\t\tdeactivateOverview();\n\n\t\t\t\tif( element.nodeName.match( /section/gi ) ) {\n\t\t\t\t\tvar h = parseInt( element.getAttribute( 'data-index-h' ), 10 ),\n\t\t\t\t\t\tv = parseInt( element.getAttribute( 'data-index-v' ), 10 );\n\n\t\t\t\t\tslide( h, v );\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Handles clicks on links that are set to preview in the\n\t * iframe overlay.\n\t */\n\tfunction onPreviewLinkClicked( event ) {\n\n\t\tvar url = event.target.getAttribute( 'href' );\n\t\tif( url ) {\n\t\t\topenPreview( url );\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t}\n\n\t/**\n\t * Handles click on the auto-sliding controls element.\n\t */\n\tfunction onAutoSlidePlayerClick( event ) {\n\n\t\t// Replay\n\t\tif( Reveal.isLastSlide() && config.loop === false ) {\n\t\t\tslide( 0, 0 );\n\t\t\tresumeAutoSlide();\n\t\t}\n\t\t// Resume\n\t\telse if( autoSlidePaused ) {\n\t\t\tresumeAutoSlide();\n\t\t}\n\t\t// Pause\n\t\telse {\n\t\t\tpauseAutoSlide();\n\t\t}\n\n\t}\n\n\n\t// --------------------------------------------------------------------//\n\t// ------------------------ PLAYBACK COMPONENT ------------------------//\n\t// --------------------------------------------------------------------//\n\n\n\t/**\n\t * Constructor for the playback component, which displays\n\t * play/pause/progress controls.\n\t *\n\t * @param {HTMLElement} container The component will append\n\t * itself to this\n\t * @param {Function} progressCheck A method which will be\n\t * called frequently to get the current progress on a range\n\t * of 0-1\n\t */\n\tfunction Playback( container, progressCheck ) {\n\n\t\t// Cosmetics\n\t\tthis.diameter = 50;\n\t\tthis.thickness = 3;\n\n\t\t// Flags if we are currently playing\n\t\tthis.playing = false;\n\n\t\t// Current progress on a 0-1 range\n\t\tthis.progress = 0;\n\n\t\t// Used to loop the animation smoothly\n\t\tthis.progressOffset = 1;\n\n\t\tthis.container = container;\n\t\tthis.progressCheck = progressCheck;\n\n\t\tthis.canvas = document.createElement( 'canvas' );\n\t\tthis.canvas.className = 'playback';\n\t\tthis.canvas.width = this.diameter;\n\t\tthis.canvas.height = this.diameter;\n\t\tthis.context = this.canvas.getContext( '2d' );\n\n\t\tthis.container.appendChild( this.canvas );\n\n\t\tthis.render();\n\n\t}\n\n\tPlayback.prototype.setPlaying = function( value ) {\n\n\t\tvar wasPlaying = this.playing;\n\n\t\tthis.playing = value;\n\n\t\t// Start repainting if we weren't already\n\t\tif( !wasPlaying && this.playing ) {\n\t\t\tthis.animate();\n\t\t}\n\t\telse {\n\t\t\tthis.render();\n\t\t}\n\n\t};\n\n\tPlayback.prototype.animate = function() {\n\n\t\tvar progressBefore = this.progress;\n\n\t\tthis.progress = this.progressCheck();\n\n\t\t// When we loop, offset the progress so that it eases\n\t\t// smoothly rather than immediately resetting\n\t\tif( progressBefore > 0.8 && this.progress < 0.2 ) {\n\t\t\tthis.progressOffset = this.progress;\n\t\t}\n\n\t\tthis.render();\n\n\t\tif( this.playing ) {\n\t\t\tfeatures.requestAnimationFrameMethod.call( window, this.animate.bind( this ) );\n\t\t}\n\n\t};\n\n\t/**\n\t * Renders the current progress and playback state.\n\t */\n\tPlayback.prototype.render = function() {\n\n\t\tvar progress = this.playing ? this.progress : 0,\n\t\t\tradius = ( this.diameter / 2 ) - this.thickness,\n\t\t\tx = this.diameter / 2,\n\t\t\ty = this.diameter / 2,\n\t\t\ticonSize = 14;\n\n\t\t// Ease towards 1\n\t\tthis.progressOffset += ( 1 - this.progressOffset ) * 0.1;\n\n\t\tvar endAngle = ( - Math.PI / 2 ) + ( progress * ( Math.PI * 2 ) );\n\t\tvar startAngle = ( - Math.PI / 2 ) + ( this.progressOffset * ( Math.PI * 2 ) );\n\n\t\tthis.context.save();\n\t\tthis.context.clearRect( 0, 0, this.diameter, this.diameter );\n\n\t\t// Solid background color\n\t\tthis.context.beginPath();\n\t\tthis.context.arc( x, y, radius + 2, 0, Math.PI * 2, false );\n\t\tthis.context.fillStyle = 'rgba( 0, 0, 0, 0.4 )';\n\t\tthis.context.fill();\n\n\t\t// Draw progress track\n\t\tthis.context.beginPath();\n\t\tthis.context.arc( x, y, radius, 0, Math.PI * 2, false );\n\t\tthis.context.lineWidth = this.thickness;\n\t\tthis.context.strokeStyle = '#666';\n\t\tthis.context.stroke();\n\n\t\tif( this.playing ) {\n\t\t\t// Draw progress on top of track\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.arc( x, y, radius, startAngle, endAngle, false );\n\t\t\tthis.context.lineWidth = this.thickness;\n\t\t\tthis.context.strokeStyle = '#fff';\n\t\t\tthis.context.stroke();\n\t\t}\n\n\t\tthis.context.translate( x - ( iconSize / 2 ), y - ( iconSize / 2 ) );\n\n\t\t// Draw play/pause icons\n\t\tif( this.playing ) {\n\t\t\tthis.context.fillStyle = '#fff';\n\t\t\tthis.context.fillRect( 0, 0, iconSize / 2 - 2, iconSize );\n\t\t\tthis.context.fillRect( iconSize / 2 + 2, 0, iconSize / 2 - 2, iconSize );\n\t\t}\n\t\telse {\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.translate( 2, 0 );\n\t\t\tthis.context.moveTo( 0, 0 );\n\t\t\tthis.context.lineTo( iconSize - 2, iconSize / 2 );\n\t\t\tthis.context.lineTo( 0, iconSize );\n\t\t\tthis.context.fillStyle = '#fff';\n\t\t\tthis.context.fill();\n\t\t}\n\n\t\tthis.context.restore();\n\n\t};\n\n\tPlayback.prototype.on = function( type, listener ) {\n\t\tthis.canvas.addEventListener( type, listener, false );\n\t};\n\n\tPlayback.prototype.off = function( type, listener ) {\n\t\tthis.canvas.removeEventListener( type, listener, false );\n\t};\n\n\tPlayback.prototype.destroy = function() {\n\n\t\tthis.playing = false;\n\n\t\tif( this.canvas.parentNode ) {\n\t\t\tthis.container.removeChild( this.canvas );\n\t\t}\n\n\t};\n\n\n\t// --------------------------------------------------------------------//\n\t// ------------------------------- API --------------------------------//\n\t// --------------------------------------------------------------------//\n\n\n\treturn {\n\t\tinitialize: initialize,\n\t\tconfigure: configure,\n\t\tsync: sync,\n\n\t\t// Navigation methods\n\t\tslide: slide,\n\t\tleft: navigateLeft,\n\t\tright: navigateRight,\n\t\tup: navigateUp,\n\t\tdown: navigateDown,\n\t\tprev: navigatePrev,\n\t\tnext: navigateNext,\n\n\t\t// Fragment methods\n\t\tnavigateFragment: navigateFragment,\n\t\tprevFragment: previousFragment,\n\t\tnextFragment: nextFragment,\n\n\t\t// Deprecated aliases\n\t\tnavigateTo: slide,\n\t\tnavigateLeft: navigateLeft,\n\t\tnavigateRight: navigateRight,\n\t\tnavigateUp: navigateUp,\n\t\tnavigateDown: navigateDown,\n\t\tnavigatePrev: navigatePrev,\n\t\tnavigateNext: navigateNext,\n\n\t\t// Forces an update in slide layout\n\t\tlayout: layout,\n\n\t\t// Returns an object with the available routes as booleans (left/right/top/bottom)\n\t\tavailableRoutes: availableRoutes,\n\n\t\t// Returns an object with the available fragments as booleans (prev/next)\n\t\tavailableFragments: availableFragments,\n\n\t\t// Toggles the overview mode on/off\n\t\ttoggleOverview: toggleOverview,\n\n\t\t// Toggles the \"black screen\" mode on/off\n\t\ttogglePause: togglePause,\n\n\t\t// State checks\n\t\tisOverview: isOverview,\n\t\tisPaused: isPaused,\n\n\t\t// Adds or removes all internal event listeners (such as keyboard)\n\t\taddEventListeners: addEventListeners,\n\t\tremoveEventListeners: removeEventListeners,\n\n\t\t// Returns the indices of the current, or specified, slide\n\t\tgetIndices: getIndices,\n\n\t\t// Returns the slide at the specified index, y is optional\n\t\tgetSlide: function( x, y ) {\n\t\t\tvar horizontalSlide = document.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR )[ x ];\n\t\t\tvar verticalSlides = horizontalSlide && horizontalSlide.querySelectorAll( 'section' );\n\n\t\t\tif( typeof y !== 'undefined' ) {\n\t\t\t\treturn verticalSlides ? verticalSlides[ y ] : undefined;\n\t\t\t}\n\n\t\t\treturn horizontalSlide;\n\t\t},\n\n\t\t// Returns the previous slide element, may be null\n\t\tgetPreviousSlide: function() {\n\t\t\treturn previousSlide;\n\t\t},\n\n\t\t// Returns the current slide element\n\t\tgetCurrentSlide: function() {\n\t\t\treturn currentSlide;\n\t\t},\n\n\t\t// Returns the current scale of the presentation content\n\t\tgetScale: function() {\n\t\t\treturn scale;\n\t\t},\n\n\t\t// Returns the current configuration object\n\t\tgetConfig: function() {\n\t\t\treturn config;\n\t\t},\n\n\t\t// Helper method, retrieves query string as a key/value hash\n\t\tgetQueryHash: function() {\n\t\t\tvar query = {};\n\n\t\t\tlocation.search.replace( /[A-Z0-9]+?=([\\w\\.%-]*)/gi, function(a) {\n\t\t\t\tquery[ a.split( '=' ).shift() ] = a.split( '=' ).pop();\n\t\t\t} );\n\n\t\t\t// Basic deserialization\n\t\t\tfor( var i in query ) {\n\t\t\t\tvar value = query[ i ];\n\n\t\t\t\tquery[ i ] = unescape( value );\n\n\t\t\t\tif( value === 'null' ) query[ i ] = null;\n\t\t\t\telse if( value === 'true' ) query[ i ] = true;\n\t\t\t\telse if( value === 'false' ) query[ i ] = false;\n\t\t\t\telse if( value.match( /^\\d+$/ ) ) query[ i ] = parseFloat( value );\n\t\t\t}\n\n\t\t\treturn query;\n\t\t},\n\n\t\t// Returns true if we're currently on the first slide\n\t\tisFirstSlide: function() {\n\t\t\treturn document.querySelector( SLIDES_SELECTOR + '.past' ) == null ? true : false;\n\t\t},\n\n\t\t// Returns true if we're currently on the last slide\n\t\tisLastSlide: function() {\n\t\t\tif( currentSlide ) {\n\t\t\t\t// Does this slide has next a sibling?\n\t\t\t\tif( currentSlide.nextElementSibling ) return false;\n\n\t\t\t\t// If it's vertical, does its parent have a next sibling?\n\t\t\t\tif( isVerticalSlide( currentSlide ) && currentSlide.parentNode.nextElementSibling ) return false;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t// Checks if reveal.js has been loaded and is ready for use\n\t\tisReady: function() {\n\t\t\treturn loaded;\n\t\t},\n\n\t\t// Forward event binding to the reveal DOM element\n\t\taddEventListener: function( type, listener, useCapture ) {\n\t\t\tif( 'addEventListener' in window ) {\n\t\t\t\t( dom.wrapper || document.querySelector( '.reveal' ) ).addEventListener( type, listener, useCapture );\n\t\t\t}\n\t\t},\n\t\tremoveEventListener: function( type, listener, useCapture ) {\n\t\t\tif( 'addEventListener' in window ) {\n\t\t\t\t( dom.wrapper || document.querySelector( '.reveal' ) ).removeEventListener( type, listener, useCapture );\n\t\t\t}\n\t\t}\n\t};\n\n})();\n\nmodule.exports = Reveal;\n\n\n// WEBPACK FOOTER //\n// ../docs/asset/public/reveal/index.js"],"sourceRoot":""}